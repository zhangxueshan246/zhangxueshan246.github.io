(function(){
shadow$provide[444]=function(la,Q,Ea,C){var v=Q(13);!function(u,t){"object"==typeof C&&"object"==typeof Ea?Ea.exports=t(Q(3),Q(12)):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof C?C.Excalidraw=t(Q(3),Q(12)):u.Excalidraw=t(u.React,u.ReactDOM)}(self,function(u,t){return(()=>{function q(x){if(a[x])return a[x].exports;var m=a[x]={id:x,exports:{}};return w[x](m,m.exports,q),m.exports}var l,k,p,w={5374:x=>{function m(g,y,D,J,O,T,H){try{var G=g[T](H),E=G.value}catch(F){return void D(F)}G.done?
y(E):Promise.resolve(E).then(J,O)}x.exports=function(g){return function(){var y=this,D=arguments;return new Promise(function(J,O){function T(E){m(G,J,O,T,H,"next",E)}function H(E){m(G,J,O,T,H,"throw",E)}var G=g.apply(y,D);T(void 0)})}}},566:x=>{x.exports=function(m,g,y){return g in m?Object.defineProperty(m,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[g]=y,m}},6950:x=>{function m(){return x.exports=m=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var D=arguments[y],J;for(J in D)Object.prototype.hasOwnProperty.call(D,
J)&&(g[J]=D[J])}return g},m.apply(this,arguments)}x.exports=m},5474:(x,m,g)=>{var y=g(8387);x.exports=function(D,J){if(null==D)return{};var O,T=y(D,J);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(D);for(O=0;O<H.length;O++){var G=H[O];0<=J.indexOf(G)||Object.prototype.propertyIsEnumerable.call(D,G)&&(T[G]=D[G])}}return T}},8387:x=>{x.exports=function(m,g){if(null==m)return{};var y,D={},J=Object.keys(m);for(y=0;y<J.length;y++){var O=J[y];0<=g.indexOf(O)||(D[O]=m[O])}return D}},
6009:(x,m,g)=>{m=g(487);g=g(8328);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},1395:(x,m,g)=>{m=g(487);g=g(6121);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},3211:(x,m,g)=>{m=g(487);g=g(2510);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},5574:(x,m,g)=>{m=g(487);g=g(7972);
"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},4518:(x,m,g)=>{m=g(487);g=g(190);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},3040:(x,m,g)=>{m=g(487);g=g(6718);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8623:(x,m,g)=>{m=g(487);g=g(3623);"string"==typeof(g=g.__esModule?g.default:
g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},4193:(x,m,g)=>{m=g(487);g=g(103);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},341:(x,m,g)=>{m=g(487);g=g(7061);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},9705:(x,m,g)=>{m=g(487);g=g(1498);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",
singleton:!1});x.exports=g.locals||{}},7143:(x,m,g)=>{m=g(487);g=g(666);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},7428:(x,m,g)=>{m=g(487);g=g(849);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8465:(x,m,g)=>{m=g(487);g=g(6915);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||
{}},8680:(x,m,g)=>{m=g(487);g=g(7030);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},205:(x,m,g)=>{m=g(487);g=g(3994);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8416:(x,m,g)=>{m=g(487);g=g(700);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},2816:(x,m,g)=>{m=g(487);g=g(287);
"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},1575:(x,m,g)=>{m=g(487);g=g(5657);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},7287:(x,m,g)=>{m=g(487);g=g(7392);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8518:(x,m,g)=>{m=g(487);g=g(6065);"string"==typeof(g=g.__esModule?g.default:
g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},5849:(x,m,g)=>{m=g(487);g=g(83);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},9478:(x,m,g)=>{m=g(487);g=g(1554);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},2680:(x,m,g)=>{m=g(487);g=g(1970);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",
singleton:!1});x.exports=g.locals||{}},3142:(x,m,g)=>{m=g(487);g=g(961);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},8234:(x,m,g)=>{m=g(487);g=g(4878);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},4651:(x,m,g)=>{m=g(487);g=g(1988);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||
{}},2189:(x,m,g)=>{m=g(487);g=g(3245);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[x.id,g,""]]);m(g,{insert:"head",singleton:!1});x.exports=g.locals||{}},487:(x,m,g)=>{function y(ka){for(var ja=-1,oa=0;oa<F.length;oa++)if(F[oa].identifier===ka){ja=oa;break}return ja}function D(ka,ja){for(var oa={},ma=[],qa=0;qa<ka.length;qa++){var K=ka[qa],S=ja.base?K[0]+ja.base:K[0],fa=oa[S]||0,da="".concat(S," ").concat(fa);oa[S]=fa+1;S=y(da);K={css:K[1],media:K[2],sourceMap:K[3]};-1!==S?(F[S].references++,
F[S].updater(K)):F.push({identifier:da,updater:H(K,ja),references:1});ma.push(da)}return ma}function J(ka){var ja=document.createElement("style"),oa=ka.attributes||{};if(void 0===oa.nonce){var ma=g.nc;ma&&(oa.nonce=ma)}if(Object.keys(oa).forEach(function(qa){ja.setAttribute(qa,oa[qa])}),"function"==typeof ka.insert)ka.insert(ja);else{ka=E(ka.insert||"head");if(!ka)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ka.appendChild(ja)}return ja}
function O(ka,ja,oa,ma){oa=oa?"":ma.media?"@media ".concat(ma.media," {").concat(ma.css,"}"):ma.css;ka.styleSheet?ka.styleSheet.cssText=na(ja,oa):(oa=document.createTextNode(oa),ma=ka.childNodes,ma[ja]&&ka.removeChild(ma[ja]),ma.length?ka.insertBefore(oa,ma[ja]):ka.appendChild(oa))}function T(ka,ja,oa){ja=oa.css;var ma=oa.media;oa=oa.sourceMap;if(ma?ka.setAttribute("media",ma):ka.removeAttribute("media"),oa&&"undefined"!=typeof btoa&&(ja+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(oa)))),
" */")),ka.styleSheet)ka.styleSheet.cssText=ja;else{for(;ka.firstChild;)ka.removeChild(ka.firstChild);ka.appendChild(document.createTextNode(ja))}}function H(ka,ja){if(ja.singleton){var oa=ta++;var ma=X||(X=J(ja));var qa=O.bind(null,ma,oa,!1);var K=O.bind(null,ma,oa,!0)}else ma=J(ja),qa=T.bind(null,ma,ja),K=function(){if(null===ma.parentNode)var S=!1;else ma.parentNode.removeChild(ma),S=void 0;!S};return qa(ka),function(S){S?(S.css!==ka.css||S.media!==ka.media||S.sourceMap!==ka.sourceMap)&&qa(ka=
S):K()}}var G,E=function(){var ka={};return function(ja){if(void 0===ka[ja]){var oa=document.querySelector(ja);if(window.HTMLIFrameElement&&oa instanceof window.HTMLIFrameElement)try{oa=oa.contentDocument.head}catch(ma){oa=null}ka[ja]=oa}return ka[ja]}}(),F=[],aa,na=(aa=[],function(ka,ja){return aa[ka]=ja,aa.filter(Boolean).join("\n")}),X=null,ta=0;x.exports=function(ka,ja){(ja=ja||{}).singleton||"boolean"==typeof ja.singleton||(ja.singleton=(void 0===G&&(G=!(!(window&&document&&document.all)||window.atob)),
G));var oa=D(ka=ka||[],ja);return function(ma){if(ma=ma||[],"[object Array]"===Object.prototype.toString.call(ma)){for(var qa=0;qa<oa.length;qa++){var K=y(oa[qa]);F[K].references--}ma=D(ma,ja);for(qa=0;qa<oa.length;qa++)K=y(oa[qa]),0===F[K].references&&(F[K].updater(),F.splice(K,1));oa=ma}}}},2829:x=>{x.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:x=>{x.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(x,m,g)=>{function y(J){if(!g.o(D,J))return Promise.resolve().then(()=>
{var H=Error("Cannot find module '"+J+"'");throw H.code="MODULE_NOT_FOUND",H;});var O=D[J],T=O[0];return Promise.all(O.slice(1).map(g.e)).then(()=>g.t(T,3))}var D={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};y.keys=()=>Object.keys(D);y.id=788;x.exports=y},7154:x=>{function m(){return x.exports=m=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var D=arguments[y],J;for(J in D)Object.prototype.hasOwnProperty.call(D,J)&&(g[J]=D[J])}return g},m.apply(this,arguments)}x.exports=m},6479:(x,m,g)=>{var y=g(7316);x.exports=function(D,J){if(null==D)return{};var O,T=y(D,J);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(D);
for(O=0;O<H.length;O++){var G=H[O];0<=J.indexOf(G)||Object.prototype.propertyIsEnumerable.call(D,G)&&(T[G]=D[G])}}return T}},7316:x=>{x.exports=function(m,g){if(null==m)return{};var y,D={},J=Object.keys(m);for(y=0;y<J.length;y++){var O=J[y];0<=g.indexOf(O)||(D[O]=m[O])}return D}},8328:(x,m,g)=>{g.r(m);g.d(m,{default:()=>J});m=g(3645);var y=g.n(m);m=g(1667);m=g.n(m);var D=g(7464);g=g(9638);y=y()(function(O){return O[1]});D=m()(D.Z);g=m()(g.Z);y.push([x.id,'@font-face{font-family:"Virgil";src:url('+
D+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+g+");font-display:swap}",""]);const J=y},6121:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const y=g},2510:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const y=g},7972:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const y=g},190:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const y=g},6718:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const y=g},3623:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const y=g},103:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const y=g},7061:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);
g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const y=g},1498:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const y=g},666:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const y=g},849:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const y=g},6915:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});
m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const y=g},7030:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const y=g},3994:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const y=g},700:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const y=g},287:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const y=g},5657:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const y=g},7392:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const y=g},6065:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const y=g},83:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const y=g},1554:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const y=g},1970:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const y=g},961:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const y=g},4878:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const y=g},1988:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const y=g},3245:(x,m,g)=>{g.r(m);g.d(m,{default:()=>y});m=g(3645);g=g.n(m)()(function(D){return D[1]});g.push([x.id,"",""]);g.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const y=g},3645:x=>{x.exports=function(m){var g=[];return g.toString=function(){return this.map(function(y){var D=m(y);return y[2]?"@media ".concat(y[2]," {").concat(D,"}"):D}).join("")},g.i=function(y,D,J){"string"==typeof y&&(y=[[null,
y,""]]);var O={};if(J)for(var T=0;T<this.length;T++){var H=this[T][0];null!=H&&(O[H]=!0)}for(T=0;T<y.length;T++)H=[].concat(y[T]),J&&O[H[0]]||(D&&(H[2]?H[2]="".concat(D," and ").concat(H[2]):H[2]=D),g.push(H))},g}},1667:x=>{x.exports=function(m,g){return g||(g={}),"string"!=typeof(m=m&&m.__esModule?m.default:m)?m:(/^['"].*['"]$/.test(m)&&(m=m.slice(1,-1)),g.hash&&(m+=g.hash),/["'() \t\n]/.test(m)||g.needQuotes?'"'.concat(m.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):m)}},9638:(x,m,g)=>{g.d(m,{Z:()=>
y});const y=g.p+"excalidraw-assets/Cascadia.woff2"},7464:(x,m,g)=>{g.d(m,{Z:()=>y});const y=g.p+"excalidraw-assets/Virgil.woff2"},8288:(x,m,g)=>{g.d(m,{iC:()=>D,f:()=>J,qx:()=>O,Iw:()=>T,$e:()=>H,wZ:()=>G,ay:()=>E,oc:()=>F,Oh:()=>aa,Ks:()=>y,Vi:()=>na,$C:()=>X,ut:()=>ta,_D:()=>ka,n5:()=>ja,rk:()=>oa,Hg:()=>ma,hs:()=>qa,eQ:()=>K,k:()=>S,LO:()=>fa,I:()=>da,Gj:()=>ua,nM:()=>ia,Lg:()=>ha,HM:()=>sa,V4:()=>Pa,EH:()=>eb,Gi:()=>db});var y;x=g(2189);g=g.n(x);var D="Excalidraw",J=10,O=8,T=5,H=1,G=30,E=Math.PI/
12,F={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},aa={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Ya){Ya.COPY="copy";Ya.PASTE="paste";Ya.CUT="cut";Ya.KEYDOWN="keydown";Ya.KEYUP="keyup";Ya.MOUSE_MOVE="mousemove";Ya.RESIZE="resize";Ya.UNLOAD="unload";Ya.BLUR="blur";Ya.DRAG_OVER="dragover";Ya.DROP="drop";Ya.GESTURE_END="gestureend";Ya.BEFORE_UNLOAD="beforeunload";Ya.GESTURE_START="gesturestart";Ya.GESTURE_CHANGE="gesturechange";Ya.POINTER_MOVE="pointermove";
Ya.POINTER_UP="pointerup";Ya.STATE_CHANGE="statechange";Ya.WHEEL="wheel";Ya.TOUCH_START="touchstart";Ya.TOUCH_END="touchend";Ya.HASHCHANGE="hashchange";Ya.VISIBILITY_CHANGE="visibilitychange";Ya.SCROLL="scroll"}(y||(y={}));var na={TEST:"test",DEVELOPMENT:"development"},X={SHAPE_ACTIONS_MENU:"App-menu__left"},ta={1:"Virgil",2:"Helvetica",3:"Cascadia"},ka="Segoe UI Emoji",ja=20,oa=1,ma="left",qa="top",K="{version}",S=20,fa={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
da={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ua=300,ia=500,ha=5E3,sa=100,Pa=.1,eb={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},db=g().appearanceFilter},3956:(x,m,g)=>{function y(d,h){return Math.pow(d[0]-h[0],2)+Math.pow(d[1]-h[1],2)}function D(d,h,n){return[d[0]+(h[0]-d[0])*n,d[1]+(h[1]-d[1])*n]}function J(d,h,n,B){B=B||[];{var P=d[h+0],W=d[h+1];var wa=d[h+2];const Ga=d[h+3];var ra=3*W[0]-2*P[0]-Ga[0];ra*=ra;W=3*W[1]-2*P[1]-Ga[1];W*=W;let hb=3*wa[0]-2*Ga[0]-P[0];hb*=hb;P=3*wa[1]-2*Ga[1]-P[1];
wa=(P*=P,ra<hb&&(ra=hb),W<P&&(W=P),ra+W)}wa<n?(n=d[h+0],B.length?1<(Aa=B[B.length-1],Ma=n,Math.sqrt(y(Aa,Ma)))&&B.push(n):B.push(n),B.push(d[h+3])):(Aa=d[h+0],ra=d[h+1],Ma=d[h+2],d=d[h+3],h=D(Aa,ra,.5),W=D(ra,Ma,.5),Ma=D(Ma,d,.5),ra=D(h,W,.5),W=D(W,Ma,.5),P=D(ra,W,.5),J([Aa,h,ra,P],0,n,B),J([P,W,Ma,d],0,n,B));var Aa,Ma;return B}function O(d,h){return T(d,0,d.length,h)}function T(d,h,n,B,P){P=P||[];const W=d[h],wa=d[n-1];let ra=0,Aa=1;for(let mb=h+1;mb<n-1;++mb){var Ma=d[mb];var Ga=W,hb=wa,lb=y(Ga,
hb);0===lb?Ma=y(Ma,Ga):(lb=((Ma[0]-Ga[0])*(hb[0]-Ga[0])+(Ma[1]-Ga[1])*(hb[1]-Ga[1]))/lb,Ma=(lb=Math.max(0,Math.min(1,lb)),y(Ma,D(Ga,hb,lb))));Ma>ra&&(ra=Ma,Aa=mb)}return Math.sqrt(ra)>B?(T(d,h,Aa+1,B,P),T(d,Aa,n,B,P)):(P.length||P.push(W),P.push(wa)),P}function H(d,h=.15,n){const B=[],P=(d.length-1)/3;for(let W=0;W<P;W++)J(d,3*W,h,B);return n&&0<n?T(B,0,B.length,n):B}function G(d,h,n){if(d&&d.length){const [B,P]=h;h=Math.PI/180*n;const W=Math.cos(h),wa=Math.sin(h);d.forEach(ra=>{const [Aa,Ma]=ra;
ra[0]=(Aa-B)*W-(Ma-P)*wa+B;ra[1]=(Aa-B)*wa+(Ma-P)*W+P})}}function E(d){const h=d[0];d=d[1];return Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2))}function F(d,h,n,B){const P=h[1]-d[1];h=d[0]-h[0];d=P*d[0]+h*d[1];const W=B[1]-n[1];B=n[0]-B[0];n=W*n[0]+B*n[1];const wa=P*B-W*h;return wa?[(B*d-h*n)/wa,(P*n-W*d)/wa]:null}function aa(d,h,n){const B=d.length;if(3>B)return!1;const P=[Number.MAX_SAFE_INTEGER,n];h=[h,n];n=0;for(let W=0;W<B;W++){const wa=d[W],ra=d[(W+1)%B];if(ta(wa,ra,h,P)){if(0===X(wa,
h,ra))return na(wa,h,ra);n++}}return 1==n%2}function na(d,h,n){return h[0]<=Math.max(d[0],n[0])&&h[0]>=Math.min(d[0],n[0])&&h[1]<=Math.max(d[1],n[1])&&h[1]>=Math.min(d[1],n[1])}function X(d,h,n){d=(h[1]-d[1])*(n[0]-h[0])-(h[0]-d[0])*(n[1]-h[1]);return 0===d?0:0<d?1:2}function ta(d,h,n,B){const P=X(d,h,n),W=X(d,h,B),wa=X(n,B,d),ra=X(n,B,h);return P!==W&&wa!==ra||!(0!==P||!na(d,n,h))||!(0!==W||!na(d,B,h))||!(0!==wa||!na(n,d,B))||!(0!==ra||!na(n,h,B))}function ka(d,h){const n=[0,0],B=Math.round(h.hachureAngle+
90);B&&G(d,n,B);h=function(P,W){var wa=[...P];wa[0].join(",")!==wa[wa.length-1].join(",")&&wa.push([wa[0][0],wa[0][1]]);P=[];if(wa&&2<wa.length){let Aa=W.hachureGap;0>Aa&&(Aa=4*W.strokeWidth);Aa=Math.max(Aa,.1);W=[];for(var ra=0;ra<wa.length-1;ra++){const hb=wa[ra],lb=wa[ra+1];if(hb[1]!==lb[1]){const mb=Math.min(hb[1],lb[1]);W.push({ymin:mb,ymax:Math.max(hb[1],lb[1]),x:mb===hb[1]?hb[0]:lb[0],islope:(lb[0]-hb[0])/(lb[1]-hb[1])})}}if(W.sort((hb,lb)=>hb.ymin<lb.ymin?-1:hb.ymin>lb.ymin?1:hb.x<lb.x?-1:
hb.x>lb.x?1:hb.ymax===lb.ymax?0:(hb.ymax-lb.ymax)/Math.abs(hb.ymax-lb.ymax)),!W.length)return P;let Ma=[],Ga=W[0].ymin;for(;Ma.length||W.length;){if(W.length){wa=-1;for(ra=0;ra<W.length&&!(W[ra].ymin>Ga);ra++)wa=ra;W.splice(0,wa+1).forEach(hb=>{Ma.push({s:Ga,edge:hb})})}if(Ma=Ma.filter(hb=>!(hb.edge.ymax<=Ga)),Ma.sort((hb,lb)=>hb.edge.x===lb.edge.x?0:(hb.edge.x-lb.edge.x)/Math.abs(hb.edge.x-lb.edge.x)),1<Ma.length)for(wa=0;wa<Ma.length;wa+=2){ra=wa+1;if(ra>=Ma.length)break;P.push([[Math.round(Ma[wa].edge.x),
Ga],[Math.round(Ma[ra].edge.x),Ga]])}Ga+=Aa;Ma.forEach(hb=>{hb.edge.x+=Aa*hb.edge.islope})}}return P}(d,h);return B&&(G(d,n,-B),function(P,W,wa){const ra=[];P.forEach(Aa=>ra.push(...Aa));G(ra,W,wa)}(h,n,-B)),h}function ja(d){const h=[];a:{var n=d;for(var B=[];""!==n;){if(!n.match(/^([ \t\r\n,]+)/))if(n.match(/^([aAcChHlLmMqQsStTvVzZ])/))B[B.length]={type:0,text:RegExp.$1};else{if(!n.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){n=[];break a}B[B.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}n=
n.substr(RegExp.$1.length)}n=(B[B.length]={type:2,text:""},B)}B="BOD";let P=0;for(var W=n[P];2!==W.type;){let wa=0;const ra=[];if("BOD"===B){if("M"!==W.text&&"m"!==W.text)return ja("M0,0"+d);P++;wa=wh[W.text];B=W.text}else 1===W.type?wa=wh[B]:(P++,wa=wh[W.text],B=W.text);if(!(P+wa<n.length))throw Error("Path data ended short");for(W=P;W<P+wa;W++){const Aa=n[W];if(1!==Aa.type)throw Error("Param not a number: "+B+","+Aa.text);ra[ra.length]=+Aa.text}if("number"!=typeof wh[B])throw Error("Bad segment: "+
B);h.push({key:B,data:ra});P+=wa;W=n[P];"M"===B&&(B="L");"m"===B&&(B="l")}return h}function oa(d){let h=0,n=0,B=0,P=0;const W=[];for(const {key:wa,data:ra}of d)switch(wa){case "M":W.push({key:"M",data:[...ra]});[h,n]=ra;[B,P]=ra;break;case "m":h+=ra[0];n+=ra[1];W.push({key:"M",data:[h,n]});B=h;P=n;break;case "L":W.push({key:"L",data:[...ra]});[h,n]=ra;break;case "l":h+=ra[0];n+=ra[1];W.push({key:"L",data:[h,n]});break;case "C":W.push({key:"C",data:[...ra]});h=ra[4];n=ra[5];break;case "c":d=ra.map((Aa,
Ma)=>Ma%2?Aa+n:Aa+h);W.push({key:"C",data:d});h=d[4];n=d[5];break;case "Q":W.push({key:"Q",data:[...ra]});h=ra[2];n=ra[3];break;case "q":d=ra.map((Aa,Ma)=>Ma%2?Aa+n:Aa+h);W.push({key:"Q",data:d});h=d[2];n=d[3];break;case "A":W.push({key:"A",data:[...ra]});h=ra[5];n=ra[6];break;case "a":h+=ra[5];n+=ra[6];W.push({key:"A",data:[ra[0],ra[1],ra[2],ra[3],ra[4],h,n]});break;case "H":W.push({key:"H",data:[...ra]});h=ra[0];break;case "h":h+=ra[0];W.push({key:"H",data:[h]});break;case "V":W.push({key:"V",data:[...ra]});
n=ra[0];break;case "v":n+=ra[0];W.push({key:"V",data:[n]});break;case "S":W.push({key:"S",data:[...ra]});h=ra[2];n=ra[3];break;case "s":d=ra.map((Aa,Ma)=>Ma%2?Aa+n:Aa+h);W.push({key:"S",data:d});h=d[2];n=d[3];break;case "T":W.push({key:"T",data:[...ra]});h=ra[0];n=ra[1];break;case "t":h+=ra[0];n+=ra[1];W.push({key:"T",data:[h,n]});break;case "Z":case "z":W.push({key:"Z",data:[]}),h=B,n=P}return W}function ma(d){const h=[];var n="";let B=0,P=0,W=0,wa=0,ra=0,Aa=0;for(const {key:Ga,data:hb}of d){switch(Ga){case "M":h.push({key:"M",
data:[...hb]});[B,P]=hb;[W,wa]=hb;break;case "C":h.push({key:"C",data:[...hb]});B=hb[4];P=hb[5];ra=hb[2];Aa=hb[3];break;case "L":h.push({key:"L",data:[...hb]});[B,P]=hb;break;case "H":B=hb[0];h.push({key:"L",data:[B,P]});break;case "V":P=hb[0];h.push({key:"L",data:[B,P]});break;case "S":var Ma=d=0;"C"===n||"S"===n?(d=B+(B-ra),Ma=P+(P-Aa)):(d=B,Ma=P);h.push({key:"C",data:[d,Ma,...hb]});ra=hb[0];Aa=hb[1];B=hb[2];P=hb[3];break;case "T":{const [lb,mb]=hb;Ma=d=0;"Q"===n||"T"===n?(d=B+(B-ra),Ma=P+(P-Aa)):
(d=B,Ma=P);h.push({key:"C",data:[B+2*(d-B)/3,P+2*(Ma-P)/3,lb+2*(d-lb)/3,mb+2*(Ma-mb)/3,lb,mb]});ra=d;Aa=Ma;B=lb;P=mb;break}case "Q":{const [lb,mb,Rb,Ob]=hb;h.push({key:"C",data:[B+2*(lb-B)/3,P+2*(mb-P)/3,Rb+2*(lb-Rb)/3,Ob+2*(mb-Ob)/3,Rb,Ob]});ra=lb;Aa=mb;B=Rb;P=Ob;break}case "A":{n=Math.abs(hb[0]);d=Math.abs(hb[1]);Ma=hb[2];const lb=hb[3],mb=hb[4],Rb=hb[5],Ob=hb[6];if(0===n||0===d)h.push({key:"C",data:[B,P,Rb,Ob,Rb,Ob]}),B=Rb,P=Ob;else if(B!==Rb||P!==Ob)K(B,P,Rb,Ob,n,d,Ma,lb,mb).forEach(function(tc){h.push({key:"C",
data:tc})}),B=Rb,P=Ob;break}case "Z":h.push({key:"Z",data:[]}),B=W,P=wa}n=Ga}return h}function qa(d,h,n){return[d*Math.cos(n)-h*Math.sin(n),d*Math.sin(n)+h*Math.cos(n)]}function K(d,h,n,B,P,W,wa,ra,Aa,Ma){const Ga=(hb=wa,Math.PI*hb/180);var hb;hb=[];if(Ma)[ra,lb,mb,Rb]=Ma;else{[d,h]=qa(d,h,-Ga);[n,B]=qa(n,B,-Ga);var lb=(d-n)/2;var mb=(h-B)/2;var Rb=lb*lb/(P*P)+mb*mb/(W*W);1<Rb&&(Rb=Math.sqrt(Rb),P*=Rb,W*=Rb);Rb=P*P;var Ob=W*W;ra=(ra===Aa?-1:1)*Math.sqrt(Math.abs((Rb*Ob-Rb*mb*mb-Ob*lb*lb)/(Rb*mb*mb+
Ob*lb*lb)));mb=ra*P*mb/W+(d+n)/2;Rb=ra*-W*lb/P+(h+B)/2;ra=Math.asin(parseFloat(((h-Rb)/W).toFixed(9)));lb=Math.asin(parseFloat(((B-Rb)/W).toFixed(9)));d<mb&&(ra=Math.PI-ra);n<mb&&(lb=Math.PI-lb);0>ra&&(ra=2*Math.PI+ra);0>lb&&(lb=2*Math.PI+lb);Aa&&ra>lb&&(ra-=2*Math.PI);!Aa&&lb>ra&&(lb-=2*Math.PI)}if(Math.abs(lb-ra)>120*Math.PI/180){hb=lb;Ob=n;const tc=B;lb=Aa&&lb>ra?ra+120*Math.PI/180:ra+120*Math.PI/180*-1;hb=K(n=mb+P*Math.cos(lb),B=Rb+W*Math.sin(lb),Ob,tc,P,W,wa,0,Aa,[lb,hb,mb,Rb])}wa=Math.tan((lb-
ra)/4);P=4/3*P*wa;wa*=4/3*W;W=[d,h];d=[d+P*Math.sin(ra),h-wa*Math.cos(ra)];h=[n+P*Math.sin(lb),B-wa*Math.cos(lb)];n=[n,B];if(d[0]=2*W[0]-d[0],d[1]=2*W[1]-d[1],Ma)return[d,h,n].concat(hb);hb=[d,h,n].concat(hb);Ma=[];for(n=0;n<hb.length;n+=3)B=qa(hb[n][0],hb[n][1],Ga),d=qa(hb[n+1][0],hb[n+1][1],Ga),h=qa(hb[n+2][0],hb[n+2][1],Ga),Ma.push([B[0],B[1],d[0],d[1],h[0],h[1]]);return Ma}function S(d,h,n){const B=(d||[]).length;if(2<B){const P=[];for(let W=0;W<B-1;W++)P.push(...Ya(d[W][0],d[W][1],d[W+1][0],
d[W+1][1],n));return h&&P.push(...Ya(d[B-1][0],d[B-1][1],d[0][0],d[0][1],n)),{type:"path",ops:P}}return 2===B?{type:"path",ops:Ya(d[0][0],d[0][1],d[1][0],d[1][1],n)}:{type:"path",ops:[]}}function fa(d,h){let n=ac(d,1+.2*h.roughness,h);if(!h.disableMultiStroke){var B=1.5*(1+.22*h.roughness);{const P=Object.assign({},h);P.randomizer=void 0;h.seed&&(P.seed=h.seed+1);h=P}d=ac(d,B,h);n=n.concat(d)}return{type:"path",ops:n}}function da(d,h,n){const B=2*Math.PI/Math.max(n.curveStepCount,n.curveStepCount/
Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(h/2,2))/2)));d=Math.abs(d/2);h=Math.abs(h/2);const P=1-n.curveFitting;return d+=db(d*P,n),h+=db(h*P,n),{increment:B,rx:d,ry:h}}function ua(d,h,n,B){const [P,W]=Ac(B.increment,d,h,B.rx,B.ry,1,B.increment*eb(.1,eb(.4,1,n),n),n);let wa=fc(P,null,n);n.disableMultiStroke||([d]=Ac(B.increment,d,h,B.rx,B.ry,1.5,0,n),n=fc(d,null,n),wa=wa.concat(n));return{estimatedPoints:W,opset:{type:"path",ops:wa}}}function ia(d,h,n,B,P,W,wa,ra,Aa){n=
Math.abs(n/2);B=Math.abs(B/2);n+=db(.01*n,Aa);for(B+=db(.01*B,Aa);0>P;)P+=2*Math.PI,W+=2*Math.PI;W-P>2*Math.PI&&(P=0,W=2*Math.PI);var Ma=Math.min(2*Math.PI/Aa.curveStepCount/2,(W-P)/2);const Ga=Ic(Ma,d,h,n,B,P,W,1,Aa);Aa.disableMultiStroke||(Ma=Ic(Ma,d,h,n,B,P,W,1.5,Aa),Ga.push(...Ma));return wa&&(ra?Ga.push(...Ya(d,h,d+n*Math.cos(P),h+B*Math.sin(P),Aa),...Ya(d,h,d+n*Math.cos(W),h+B*Math.sin(W),Aa)):Ga.push({op:"lineTo",data:[d,h]},{op:"lineTo",data:[d+n*Math.cos(P),h+B*Math.sin(P)]})),{type:"path",
ops:Ga}}function ha(d,h){const n=[];if(d.length){const B=h.maxRandomnessOffset||0,P=d.length;if(2<P){n.push({op:"move",data:[d[0][0]+db(B,h),d[0][1]+db(B,h)]});for(let W=1;W<P;W++)n.push({op:"lineTo",data:[d[W][0]+db(B,h),d[W][1]+db(B,h)]})}}return{type:"fillPath",ops:n}}function sa(d,h){{var n=Ad;let B=h.fillStyle||"hachure";if(!dg[B])switch(B){case "zigzag":dg[B]||(dg[B]=new tf(n));break;case "cross-hatch":dg[B]||(dg[B]=new Jf(n));break;case "dots":dg[B]||(dg[B]=new oh(n));break;case "dashed":dg[B]||
(dg[B]=new Pi(n));break;case "zigzag-line":dg[B]||(dg[B]=new Fj(n));break;default:B="hachure",dg[B]||(dg[B]=new ge(n))}n=dg[B]}return n.fillPolygon(d,h)}function Pa(d){return d.randomizer||(d.randomizer=new Ue(d.seed||0)),d.randomizer.next()}function eb(d,h,n,B=1){return n.roughness*B*(Pa(n)*(h-d)+d)}function db(d,h,n=1){return eb(-d,d,h,n)}function Ya(d,h,n,B,P,W=!1){const wa=W?P.disableMultiStrokeFill:P.disableMultiStroke;W=$b(d,h,n,B,P,!0,!1);if(wa)return W;d=$b(d,h,n,B,P,!0,!0);return W.concat(d)}
function $b(d,h,n,B,P,W,wa){var ra=Math.pow(d-n,2)+Math.pow(h-B,2),Aa=Math.sqrt(ra);let Ma;Ma=200>Aa?1:500<Aa?.4:-.0016668*Aa+1.233334;let Ga=P.maxRandomnessOffset||0;Ga*Ga*100>ra&&(Ga=Aa/10);ra=Ga/2;Aa=.2+.2*Pa(P);let hb=P.bowing*P.maxRandomnessOffset*(B-h)/200,lb=P.bowing*P.maxRandomnessOffset*(d-n)/200;hb=db(hb,P,Ma);lb=db(lb,P,Ma);const mb=[];return W&&(wa?mb.push({op:"move",data:[d+db(ra,P,Ma),h+db(ra,P,Ma)]}):mb.push({op:"move",data:[d+db(Ga,P,Ma),h+db(Ga,P,Ma)]})),wa?mb.push({op:"bcurveTo",
data:[hb+d+(n-d)*Aa+db(ra,P,Ma),lb+h+(B-h)*Aa+db(ra,P,Ma),hb+d+2*(n-d)*Aa+db(ra,P,Ma),lb+h+2*(B-h)*Aa+db(ra,P,Ma),n+db(ra,P,Ma),B+db(ra,P,Ma)]}):mb.push({op:"bcurveTo",data:[hb+d+(n-d)*Aa+db(Ga,P,Ma),lb+h+(B-h)*Aa+db(Ga,P,Ma),hb+d+2*(n-d)*Aa+db(Ga,P,Ma),lb+h+2*(B-h)*Aa+db(Ga,P,Ma),n+db(Ga,P,Ma),B+db(Ga,P,Ma)]}),mb}function ac(d,h,n){const B=[];B.push([d[0][0]+db(h,n),d[0][1]+db(h,n)]);B.push([d[0][0]+db(h,n),d[0][1]+db(h,n)]);for(let P=1;P<d.length;P++)B.push([d[P][0]+db(h,n),d[P][1]+db(h,n)]),P===
d.length-1&&B.push([d[P][0]+db(h,n),d[P][1]+db(h,n)]);return fc(B,null,n)}function fc(d,h,n){const B=d.length,P=[];if(3<B){const W=[],wa=1-n.curveTightness;P.push({op:"move",data:[d[1][0],d[1][1]]});for(let ra=1;ra+2<B;ra++){const Aa=d[ra];W[0]=[Aa[0],Aa[1]];W[1]=[Aa[0]+(wa*d[ra+1][0]-wa*d[ra-1][0])/6,Aa[1]+(wa*d[ra+1][1]-wa*d[ra-1][1])/6];W[2]=[d[ra+1][0]+(wa*d[ra][0]-wa*d[ra+2][0])/6,d[ra+1][1]+(wa*d[ra][1]-wa*d[ra+2][1])/6];W[3]=[d[ra+1][0],d[ra+1][1]];P.push({op:"bcurveTo",data:[W[1][0],W[1][1],
W[2][0],W[2][1],W[3][0],W[3][1]]})}h&&2===h.length&&(d=n.maxRandomnessOffset,P.push({op:"lineTo",data:[h[0]+db(d,n),h[1]+db(d,n)]}))}else 3===B?(P.push({op:"move",data:[d[1][0],d[1][1]]}),P.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===B&&P.push(...Ya(d[0][0],d[0][1],d[1][0],d[1][1],n));return P}function Ac(d,h,n,B,P,W,wa,ra){const Aa=[],Ma=[],Ga=db(.5,ra)-Math.PI/2;Ma.push([db(W,ra)+h+.9*B*Math.cos(Ga-d),db(W,ra)+n+.9*P*Math.sin(Ga-d)]);for(let hb=Ga;hb<2*Math.PI+
Ga-.01;hb+=d){const lb=[db(W,ra)+h+B*Math.cos(hb),db(W,ra)+n+P*Math.sin(hb)];Aa.push(lb);Ma.push(lb)}return Ma.push([db(W,ra)+h+B*Math.cos(Ga+2*Math.PI+.5*wa),db(W,ra)+n+P*Math.sin(Ga+2*Math.PI+.5*wa)]),Ma.push([db(W,ra)+h+.98*B*Math.cos(Ga+wa),db(W,ra)+n+.98*P*Math.sin(Ga+wa)]),Ma.push([db(W,ra)+h+.9*B*Math.cos(Ga+.5*wa),db(W,ra)+n+.9*P*Math.sin(Ga+.5*wa)]),[Ma,Aa]}function Ic(d,h,n,B,P,W,wa,ra,Aa){var Ma=W+db(.1,Aa);W=[];for(W.push([db(ra,Aa)+h+.9*B*Math.cos(Ma-d),db(ra,Aa)+n+.9*P*Math.sin(Ma-d)]);Ma<=
wa;Ma+=d)W.push([db(ra,Aa)+h+B*Math.cos(Ma),db(ra,Aa)+n+P*Math.sin(Ma)]);return W.push([h+B*Math.cos(wa),n+P*Math.sin(wa)]),W.push([h+B*Math.cos(wa),n+P*Math.sin(wa)]),fc(W,null,Aa)}function jc(d,h,n,B,P,W,wa,ra){const Aa=[],Ma=[ra.maxRandomnessOffset||1,(ra.maxRandomnessOffset||1)+.3];let Ga;const hb=ra.disableMultiStroke?1:2;for(let lb=0;lb<hb;lb++)0===lb?Aa.push({op:"move",data:[wa[0],wa[1]]}):Aa.push({op:"move",data:[wa[0]+db(Ma[0],ra),wa[1]+db(Ma[0],ra)]}),Ga=[P+db(Ma[lb],ra),W+db(Ma[lb],ra)],
Aa.push({op:"bcurveTo",data:[d+db(Ma[lb],ra),h+db(Ma[lb],ra),n+db(Ma[lb],ra),B+db(Ma[lb],ra),Ga[0],Ga[1]]});return Aa}function Cc(d){var h,n,B="";if("string"==typeof d||"number"==typeof d)B+=d;else if("object"==typeof d)if(Array.isArray(d))for(h=0;h<d.length;h++)d[h]&&(n=Cc(d[h]))&&(B&&(B+=" "),B+=n);else for(h in d)d[h]&&(B&&(B+=" "),B+=h);return B}function Kc(){for(var d,h,n=0,B="";n<arguments.length;)(d=arguments[n++])&&(h=Cc(d))&&(B&&(B+=" "),B+=h);return B}function rd(d,h){var n=Object.keys(d);
if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Ib(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?rd(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,
B))})}return d}function nc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function gb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?nc(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach(function(B){Object.defineProperty(d,
B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Ha(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Na(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Ha(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):
Ha(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Ja(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Da(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Ja(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Ja(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Qa(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ab(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Qa(Object(n),
!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Jb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Nb(d,h){var n=Object.keys(d);
if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function oc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Nb(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Nb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,
B))})}return d}function Dc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function xc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Dc(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Dc(Object(n)).forEach(function(B){Object.defineProperty(d,
B,Object.getOwnPropertyDescriptor(n,B))})}return d}function vc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function id(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?vc(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):
vc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Fd(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ed(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Fd(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Fd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function xe(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ne(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?xe(Object(n),
!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function hd(d){var h=d.options,n=d.value,B=d.label,P=d.onChange,W=d.onClose,wa=R().useRef(),ra=R().useRef(),Aa=R().useRef(null);R().useEffect(function(){ra.current?ra.current.focus():Aa.current&&Aa.current.focus()},[]);return R().createElement("div",{className:"picker",
role:"dialog","aria-modal":"true","aria-label":B,onKeyDown:function(Ma){var Ga=h.find(function(Rb){return Rb.keyBinding===Ma.key.toLowerCase()});if(Ma.metaKey||Ma.altKey||Ma.ctrlKey||!Ga)if("Tab"===Ma.key)setTimeout(function(){ra.current!==document.activeElement&&W()},0);else if(pg(Ma.key)){Ga=yf.rtl;if(-1!==(mb=Array.prototype.indexOf.call(Aa.current.children,document.activeElement))){var hb=h.length,lb=mb;switch(Ma.key){case Ga?"ArrowLeft":"ArrowRight":case "ArrowDown":lb=(mb+1)%hb;break;case Ga?
"ArrowRight":"ArrowLeft":case "ArrowUp":lb=(hb+mb-1)%hb}Aa.current.children[lb].focus()}Ma.preventDefault()}else"Escape"!==Ma.key&&"Enter"!==Ma.key||(Ma.preventDefault(),W());else{var mb=h.indexOf(Ga);Aa.current.children[mb].focus();Ma.preventDefault()}Ma.nativeEvent.stopImmediatePropagation()}},R().createElement("div",{className:"picker-content",ref:Aa},h.map(function(Ma,Ga){return R().createElement("button",{className:"picker-option",onClick:function(hb){hb.currentTarget.focus();P(Ma.value)},title:"".concat(Ma.text,
" — ").concat(Ma.keyBinding.toUpperCase()),"aria-label":Ma.text||"none","aria-keyshortcuts":Ma.keyBinding,key:Ma.text,ref:function(hb){hb&&0===Ga&&(wa.current=hb);hb&&Ma.value===n&&(ra.current=hb)},onFocus:function(){P(Ma.value)}},Ma.icon,R().createElement("span",{className:"picker-keybinding"},Ma.keyBinding))})))}function kd(d){var h,n=d.value,B=d.label,P=d.options,W=d.onChange;d=d.group;d=void 0===d?"":d;var wa=R().useState(!1),ra=wa[0],Aa=wa[1],Ma=R().useRef(null);wa=yf.rtl;return R().createElement("label",
{className:"picker-container"},R().createElement("button",{name:d,className:ra?"active":"","aria-label":B,onClick:function(){return Aa(!ra)},ref:Ma},null===(h=P.find(function(Ga){return Ga.value===n}))||void 0===h?void 0:h.icon),R().createElement(R().Suspense,{fallback:""},ra?R().createElement(R().Fragment,null,R().createElement(fb,Yc()({onCloseRequest:function(Ga){return Ga.target!==Ma.current&&Aa(!1)}},wa?{right:5.5}:{left:-5.5}),R().createElement(hd,{options:P,value:n,label:B,onChange:W,onClose:function(){var Ga;
Aa(!1);null===(Ga=Ma.current)||void 0===Ga||Ga.focus()}})),R().createElement("div",{className:"picker-triangle"})):null))}function Ne(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function me(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Ne(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Oe(){return(0,Z.useContext)(kg)}function jf(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Xe(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?
arguments[h]:{};h%2?jf(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):jf(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function mf(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Yf(d){for(var h=
1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?mf(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):mf(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}async function Zh(...d){return(await wl).default(...d)}async function Pg(...d){return(await lf).default(...d)}function Qe(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=
Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ye(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Qe(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Lf(d,
h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Ae(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Lf(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Lf(Object(n)).forEach(function(B){Object.defineProperty(d,
B,Object.getOwnPropertyDescriptor(n,B))})}return d}function nb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function vb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?nb(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):
nb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function kb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Ua(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?kb(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function bb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ob(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?bb(Object(n),
!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):bb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Kb(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function gc(d){for(var h=1;h<arguments.length;h++){var n=
null!=arguments[h]?arguments[h]:{};h%2?Kb(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function pc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,
B)}return n}function zc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?pc(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function ld(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,
P).enumerable}));n.push.apply(n,B)}return n}function Sc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?ld(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Qd(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);
h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function lc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Qd(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Qd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Sb(d,h){var n=Object.keys(d);
if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Zd(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Sb(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Sb(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,
B))})}return d}function $f(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Lc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?$f(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach(function(B){Object.defineProperty(d,
B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Rd(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ub(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Rd(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):
Rd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Va(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Vb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Va(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Gc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function nd(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Gc(Object(n),
!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function vd(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function je(d){for(var h=1;h<arguments.length;h++){var n=
null!=arguments[h]?arguments[h]:{};h%2?vd(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):vd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function uc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,
B)}return n}function Oc(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?uc(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function cc(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,
P).enumerable}));n.push.apply(n,B)}return n}function qb(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?cc(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function sd(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);
h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function ff(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Gd(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,
P).enumerable}));n.push.apply(n,B)}return n}function Pf(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Gd(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Gd(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}function Ca(d,h){var n=Object.keys(d);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(d);
h&&(B=B.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable}));n.push.apply(n,B)}return n}function Ta(d){for(var h=1;h<arguments.length;h++){var n=null!=arguments[h]?arguments[h]:{};h%2?Ca(Object(n),!0).forEach(function(B){ze()(d,B,n[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach(function(B){Object.defineProperty(d,B,Object.getOwnPropertyDescriptor(n,B))})}return d}g.r(m);g.d(m,{default:()=>Xt,defaultLang:()=>
Md,getElementMap:()=>Xi,getSceneVersion:()=>Yk,getSyncableElements:()=>Nk,languages:()=>Tc,restore:()=>gn,restoreAppState:()=>Uj,restoreElements:()=>vk});var Ra=g(7154),ya=g.n(Ra),pa=g(6479),M=g.n(pa),Z=g(4698),R=g.n(Z),Oa=g(8288);const cb=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==Oa.Vi.TEST&&(g.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(cb.u2,"@").concat(cb.i8,"/dist/"));var Cb=g(5374),zb=g.n(Cb),yc=g(2829),zd=g(2051),cd=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");
for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&
ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Md={code:"en",label:"English"},
Tc=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",
label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},
{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Md]).sort(function(d,h){return d.label>h.label?1:-1}).filter(function(d){return 85<=zd[d.code]});"production"===Oa.Vi.DEVELOPMENT&&Tc.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var He,yf=Md,xg={},ef=function(){var d=zb()(function(h){return cd(this,function(n){switch(n.label){case 0:return yf=h,document.documentElement.dir=
yf.rtl?"rtl":"ltr",document.documentElement.lang=yf.code,h.code.startsWith("__test__")?(xg={},[3,3]):[3,1];case 1:return[4,g(788)("./".concat(yf.code,".json"))];case 2:xg=n.sent(),n.label=3;case 3:return[2]}})});return function(h){return d.apply(this,arguments)}}(),md=function(d,h){for(var n=0;n<h.length;++n){var B=h[n];if(void 0===d[B])return;d=d[B]}if("string"==typeof d)return d},Mb=function(d,h){if(yf.code.startsWith("__test__"))return d=h?"".concat(d,"(").concat(JSON.stringify(h).slice(1,-1),
")"):d,"‪[[".concat(d,"]]‬");var n=d.split(".");n=md(xg,n)||md(yc,n);if(void 0===n)throw Error("Can't find translation for ".concat(d));if(h)for(var B in h)n=n.replace("{{".concat(B,"}}"),h[B]);return n},cg=function(){return R().createElement("div",{className:"LoadingMessage"},R().createElement("span",null,Mb("labels.loadingScene")))},Yg=(He=function(d,h){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,B){n.__proto__=B}||function(n,B){for(var P in B)Object.prototype.hasOwnProperty.call(B,
P)&&(n[P]=B[P])})(d,h)},function(d,h){function n(){this.constructor=d}if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");He(d,h);d.prototype=null===h?Object.create(h):(n.prototype=h.prototype,new n)}),Qf=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=
W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&
ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Kh=function(d){function h(){for(var n=[],B=0;B<arguments.length;B++)n[B]=arguments[B];var P;B=this;return P=B=d.apply(this,
n)||this,B.state={isLoading:!0},P}return Yg(h,d),h.prototype.componentDidMount=function(){var n=this;return zb()(function(){var B;return Qf(this,function(P){switch(P.label){case 0:return B=Tc.find(function(W){return W.code===n.props.langCode})||Md,[4,ef(B)];case 1:return P.sent(),n.setState({isLoading:!1}),[2]}})})()},h.prototype.render=function(){return this.state.isLoading?R().createElement(cg,null):this.props.children},h}(R().Component),Lh=g(566),ze=g.n(Lh);class ge{constructor(d){this.helper=
d}fillPolygon(d,h){return this._fillPolygon(d,h)}_fillPolygon(d,h,n=!1){let B=ka(d,h);n&&(d=this.connectingLines(d,B),B=B.concat(d));return{type:"fillSketch",ops:this.renderLines(B,h)}}renderLines(d,h){const n=[];for(const B of d)n.push(...this.helper.doubleLineOps(B[0][0],B[0][1],B[1][0],B[1][1],h));return n}connectingLines(d,h){const n=[];if(1<h.length)for(let P=1;P<h.length;P++){var B=h[P-1];3>E(B)||(B=[h[P][0],B[1]],3<E(B)&&(B=this.splitOnIntersections(d,B),n.push(...B)))}return n}midPointInPolygon(d,
h){return aa(d,(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2)}splitOnIntersections(d,h){var n=Math.max(5,.1*E(h)),B=[];for(var P=0;P<d.length;P++){var W=d[P],wa=d[(P+1)%d.length];if(ta(W,wa,...h)&&(W=F(W,wa,h[0],h[1]))){wa=E([W,h[0]]);const ra=E([W,h[1]]);wa>n&&ra>n&&B.push({point:W,distance:wa})}}if(1<B.length){n=B.sort((ra,Aa)=>ra.distance-Aa.distance).map(ra=>ra.point);if(aa(d,...h[0])||n.shift(),aa(d,...h[1])||n.pop(),1>=n.length)return this.midPointInPolygon(d,h)?[h]:[];h=[h[0],...n,h[1]];n=[];for(B=
0;B<h.length-1;B+=2)P=[h[B],h[B+1]],this.midPointInPolygon(d,P)&&n.push(P);return n}return this.midPointInPolygon(d,h)?[h]:[]}}class tf extends ge{fillPolygon(d,h){return this._fillPolygon(d,h,!0)}}class Jf extends ge{fillPolygon(d,h){const n=this._fillPolygon(d,h);h=Object.assign({},h,{hachureAngle:h.hachureAngle+90});d=this._fillPolygon(d,h);return n.ops=n.ops.concat(d.ops),n}}class oh{constructor(d){this.helper=d}fillPolygon(d,h){d=ka(d,h=Object.assign({},h,{curveStepCount:4,hachureAngle:0,roughness:1}));
return this.dotsOnLines(d,h)}dotsOnLines(d,h){const n=[];let B=h.hachureGap;0>B&&(B=4*h.strokeWidth);B=Math.max(B,.1);let P=h.fillWeight;0>P&&(P=h.strokeWidth/2);const W=B/4;for(const Ma of d){var wa=E(Ma);d=Math.ceil(wa/B)-1;wa-=d*B;const Ga=(Ma[0][0]+Ma[1][0])/2-B/4,hb=Math.min(Ma[0][1],Ma[1][1]);for(let lb=0;lb<d;lb++){var ra=hb+wa+lb*B,Aa=this.helper.randOffsetWithRange(Ga-W,Ga+W,h);ra=this.helper.randOffsetWithRange(ra-W,ra+W,h);Aa=this.helper.ellipse(Aa,ra,P,P,h);n.push(...Aa.ops)}}return{type:"fillSketch",
ops:n}}}class Pi{constructor(d){this.helper=d}fillPolygon(d,h){d=ka(d,h);return{type:"fillSketch",ops:this.dashedLine(d,h)}}dashedLine(d,h){const n=0>h.dashOffset?0>h.hachureGap?4*h.strokeWidth:h.hachureGap:h.dashOffset,B=0>h.dashGap?0>h.hachureGap?4*h.strokeWidth:h.hachureGap:h.dashGap,P=[];return d.forEach(W=>{var wa=E(W);const ra=Math.floor(wa/(n+B));wa=(wa+B-ra*(n+B))/2;let Aa=W[0];var Ma=W[1];Aa[0]>Ma[0]&&(Aa=W[1],Ma=W[0]);W=Math.atan((Ma[1]-Aa[1])/(Ma[0]-Aa[0]));for(Ma=0;Ma<ra;Ma++){var Ga=
Ma*(n+B),hb=Ga+n;Ga=[Aa[0]+Ga*Math.cos(W)+wa*Math.cos(W),Aa[1]+Ga*Math.sin(W)+wa*Math.sin(W)];hb=[Aa[0]+hb*Math.cos(W)+wa*Math.cos(W),Aa[1]+hb*Math.sin(W)+wa*Math.sin(W)];P.push(...this.helper.doubleLineOps(Ga[0],Ga[1],hb[0],hb[1],h))}}),P}}class Fj{constructor(d){this.helper=d}fillPolygon(d,h){const n=0>h.hachureGap?4*h.strokeWidth:h.hachureGap,B=0>h.zigzagOffset?n:h.zigzagOffset;d=ka(d,h=Object.assign({},h,{hachureGap:n+B}));return{type:"fillSketch",ops:this.zigzagLines(d,B,h)}}zigzagLines(d,h,
n){const B=[];return d.forEach(P=>{var W=E(P);W=Math.round(W/(2*h));let wa=P[0];var ra=P[1];wa[0]>ra[0]&&(wa=P[1],ra=P[0]);P=Math.atan((ra[1]-wa[1])/(ra[0]-wa[0]));for(ra=0;ra<W;ra++){var Aa=2*ra*h,Ma=2*(ra+1)*h,Ga=Math.sqrt(2*Math.pow(h,2));Aa=[wa[0]+Aa*Math.cos(P),wa[1]+Aa*Math.sin(P)];Ma=[wa[0]+Ma*Math.cos(P),wa[1]+Ma*Math.sin(P)];Ga=[Aa[0]+Ga*Math.cos(P+Math.PI/4),Aa[1]+Ga*Math.sin(P+Math.PI/4)];B.push(...this.helper.doubleLineOps(Aa[0],Aa[1],Ga[0],Ga[1],n),...this.helper.doubleLineOps(Ga[0],
Ga[1],Ma[0],Ma[1],n))}}),B}}const dg={};class Ue{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const wh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Ad={randOffset:function(d,h){return db(d,h)},randOffsetWithRange:function(d,h,n){return eb(d,h,n)},ellipse:function(d,h,n,B,P){n=da(n,B,P);return ua(d,h,P,n).opset},doubleLineOps:function(d,h,n,B,P){return Ya(d,h,n,B,P,!0)}};class xh{constructor(d){this.defaultOptions=
{maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,
d):this.defaultOptions}_d(d,h,n){return{shape:d,sets:h||[],options:n||this.defaultOptions}}line(d,h,n,B,P){P=this._o(P);return this._d("line",[{type:"path",ops:Ya(d,h,n,B,P)}],P)}rectangle(d,h,n,B,P){P=this._o(P);const W=[];var wa=S([[d,h],[d+n,h],[d+n,h+B],[d,h+B]],!0,P);P.fill&&(d=[[d,h],[d+n,h],[d+n,h+B],[d,h+B]],"solid"===P.fillStyle?W.push(ha(d,P)):W.push(sa(d,P)));return"none"!==P.stroke&&W.push(wa),this._d("rectangle",W,P)}ellipse(d,h,n,B,P){P=this._o(P);const W=[];B=da(n,B,P);n=ua(d,h,P,B);
P.fill&&("solid"===P.fillStyle?(d=ua(d,h,P,B).opset,d.type="fillPath",W.push(d)):W.push(sa(n.estimatedPoints,P)));return"none"!==P.stroke&&W.push(n.opset),this._d("ellipse",W,P)}circle(d,h,n,B){d=this.ellipse(d,h,n,n,B);return d.shape="circle",d}linearPath(d,h){h=this._o(h);return this._d("linearPath",[S(d,!1,h)],h)}arc(d,h,n,B,P,W,wa=!1,ra){ra=this._o(ra);const Aa=[],Ma=ia(d,h,n,B,P,W,wa,!0,ra);if(wa&&ra.fill)if("solid"===ra.fillStyle)d=ia(d,h,n,B,P,W,!0,!1,ra),d.type="fillPath",Aa.push(d);else{wa=
Aa.push;{n=Math.abs(n/2);B=Math.abs(B/2);n+=db(.01*n,ra);for(B+=db(.01*B,ra);0>P;)P+=2*Math.PI,W+=2*Math.PI;W-P>2*Math.PI&&(P=0,W=2*Math.PI);const Ga=(W-P)/ra.curveStepCount,hb=[];for(;P<=W;P+=Ga)hb.push([d+n*Math.cos(P),h+B*Math.sin(P)]);d=(hb.push([d+n*Math.cos(W),h+B*Math.sin(W)]),hb.push([d,h]),sa(hb,ra))}wa.call(Aa,d)}return"none"!==ra.stroke&&Aa.push(Ma),this._d("arc",Aa,ra)}curve(d,h){h=this._o(h);const n=[],B=fa(d,h);h.fill&&"none"!==h.fill&&3<=d.length&&(d=H(function(P,W=0){var wa=P.length;
if(3>wa)throw Error("A curve must have at least three points.");const ra=[];if(3===wa)ra.push([...P[0]],[...P[1]],[...P[2]],[...P[2]]);else{wa=[];wa.push(P[0],P[0]);for(var Aa=1;Aa<P.length;Aa++)wa.push(P[Aa]),Aa===P.length-1&&wa.push(P[Aa]);P=[];W=1-W;ra.push([...wa[0]]);for(Aa=1;Aa+2<wa.length;Aa++){const Ma=wa[Aa];P[0]=[Ma[0],Ma[1]];P[1]=[Ma[0]+(W*wa[Aa+1][0]-W*wa[Aa-1][0])/6,Ma[1]+(W*wa[Aa+1][1]-W*wa[Aa-1][1])/6];P[2]=[wa[Aa+1][0]+(W*wa[Aa][0]-W*wa[Aa+2][0])/6,wa[Aa+1][1]+(W*wa[Aa][1]-W*wa[Aa+
2][1])/6];P[3]=[wa[Aa+1][0],wa[Aa+1][1]];ra.push(P[1],P[2],P[3])}}return ra}(d),10,(1+h.roughness)/2),"solid"===h.fillStyle?n.push(ha(d,h)):n.push(sa(d,h)));return"none"!==h.stroke&&n.push(B),this._d("curve",n,h)}polygon(d,h){h=this._o(h);const n=[],B=S(d,!0,h);return h.fill&&("solid"===h.fillStyle?n.push(ha(d,h)):n.push(sa(d,h))),"none"!==h.stroke&&n.push(B),this._d("polygon",n,h)}path(d,h){const n=this._o(h),B=[];if(!d)return this._d("path",B,n);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g",
" ");h=n.fill&&"transparent"!==n.fill&&"none"!==n.fill;const P="none"!==n.stroke,W=!!(n.simplification&&1>n.simplification),wa=function(ra,Aa,Ma){var Ga=ma(oa(ja(ra)));ra=[];let hb=[];var lb=[0,0];let mb=[];const Rb=()=>{4<=mb.length&&hb.push(...H(mb,Aa));mb=[]};for(const {key:Ob,data:tc}of Ga)switch(Ob){case "M":Rb();hb.length&&(ra.push(hb),hb=[]);lb=[tc[0],tc[1]];hb.push(lb);break;case "L":Rb();hb.push([tc[0],tc[1]]);break;case "C":mb.length||(Ga=hb.length?hb[hb.length-1]:lb,mb.push([Ga[0],Ga[1]]));
mb.push([tc[0],tc[1]]);mb.push([tc[2],tc[3]]);mb.push([tc[4],tc[5]]);break;case "Z":Rb(),hb.push([lb[0],lb[1]])}Rb();hb.length&&(ra.push(hb),hb=[]);if(!Ma)return ra;lb=[];for(const Ob of ra)ra=O(Ob,Ma),ra.length&&lb.push(ra);return lb}(d,1,W?4-4*n.simplification:(1+n.roughness)/2);if(h)if(n.combineNestedSvgPaths){const ra=[];wa.forEach(Aa=>ra.push(...Aa));"solid"===n.fillStyle?B.push(ha(ra,n)):B.push(sa(ra,n))}else wa.forEach(ra=>{"solid"===n.fillStyle?B.push(ha(ra,n)):B.push(sa(ra,n))});return P&&
(W?wa.forEach(ra=>{B.push(S(ra,!1,n))}):B.push(function(ra,Aa){ra=ma(oa(ja(ra)));const Ma=[];let Ga=[0,0],hb=[0,0];for(const {key:lb,data:mb}of ra)switch(lb){case "M":{const Rb=1*(Aa.maxRandomnessOffset||0);Ma.push({op:"move",data:mb.map(Ob=>Ob+db(Rb,Aa))});hb=[mb[0],mb[1]];Ga=[mb[0],mb[1]];break}case "L":Ma.push(...Ya(hb[0],hb[1],mb[0],mb[1],Aa));hb=[mb[0],mb[1]];break;case "C":{const [Rb,Ob,tc,Zc,dd,pd]=mb;Ma.push(...jc(Rb,Ob,tc,Zc,dd,pd,hb,Aa));hb=[dd,pd];break}case "Z":Ma.push(...Ya(hb[0],hb[1],
Ga[0],Ga[1],Aa)),hb=[Ga[0],Ga[1]]}return{type:"path",ops:Ma}}(d,n))),this._d("path",B,n)}opsToPath(d){let h="";for(const n of d.ops)switch(d=n.data,n.op){case "move":h+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":h+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":h+=`L${d[0]} ${d[1]} `}return h.trim()}toPaths(d){var h=d.sets||[];d=d.options||this.defaultOptions;const n=[];for(const B of h){h=null;switch(B.type){case "path":h={d:this.opsToPath(B),stroke:d.stroke,strokeWidth:d.strokeWidth,
fill:"none"};break;case "fillPath":h={d:this.opsToPath(B),stroke:"none",strokeWidth:0,fill:d.fill||"none"};break;case "fillSketch":h=this.fillSketch(B,d)}h&&n.push(h)}return n}fillSketch(d,h){let n=h.fillWeight;return 0>n&&(n=h.strokeWidth/2),{d:this.opsToPath(d),stroke:h.fill||"none",strokeWidth:n,fill:"none"}}}class ni{constructor(d,h){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new xh(h)}draw(d){const h=d.sets||[],n=d.options||this.getDefaultOptions(),B=this.ctx;for(const P of h)switch(P.type){case "path":B.save();
B.strokeStyle="none"===n.stroke?"transparent":n.stroke;B.lineWidth=n.strokeWidth;n.strokeLineDash&&B.setLineDash(n.strokeLineDash);n.strokeLineDashOffset&&(B.lineDashOffset=n.strokeLineDashOffset);this._drawToContext(B,P);B.restore();break;case "fillPath":B.save();B.fillStyle=n.fill||"";this._drawToContext(B,P,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");B.restore();break;case "fillSketch":this.fillSketch(B,P,n)}}fillSketch(d,h,n){let B=n.fillWeight;0>B&&(B=n.strokeWidth/2);d.save();
n.fillLineDash&&d.setLineDash(n.fillLineDash);n.fillLineDashOffset&&(d.lineDashOffset=n.fillLineDashOffset);d.strokeStyle=n.fill||"";d.lineWidth=B;this._drawToContext(d,h);d.restore()}_drawToContext(d,h,n="nonzero"){d.beginPath();for(const B of h.ops){const P=B.data;switch(B.op){case "move":d.moveTo(P[0],P[1]);break;case "bcurveTo":d.bezierCurveTo(P[0],P[1],P[2],P[3],P[4],P[5]);break;case "lineTo":d.lineTo(P[0],P[1])}}"fillPath"===h.type?d.fill(n):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,
h,n,B,P){d=this.gen.line(d,h,n,B,P);return this.draw(d),d}rectangle(d,h,n,B,P){d=this.gen.rectangle(d,h,n,B,P);return this.draw(d),d}ellipse(d,h,n,B,P){d=this.gen.ellipse(d,h,n,B,P);return this.draw(d),d}circle(d,h,n,B){d=this.gen.circle(d,h,n,B);return this.draw(d),d}linearPath(d,h){d=this.gen.linearPath(d,h);return this.draw(d),d}polygon(d,h){d=this.gen.polygon(d,h);return this.draw(d),d}arc(d,h,n,B,P,W,wa=!1,ra){d=this.gen.arc(d,h,n,B,P,W,wa,ra);return this.draw(d),d}curve(d,h){d=this.gen.curve(d,
h);return this.draw(d),d}path(d,h){d=this.gen.path(d,h);return this.draw(d),d}}class wk{constructor(d,h){this.svg=d;this.gen=new xh(h)}draw(d){var h=d.sets||[];const n=d.options||this.getDefaultOptions(),B=this.svg.ownerDocument||window.document,P=B.createElementNS("http://www.w3.org/2000/svg","g");for(const W of h){h=null;switch(W.type){case "path":h=B.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",this.opsToPath(W));h.setAttribute("stroke",n.stroke);h.setAttribute("stroke-width",
n.strokeWidth+"");h.setAttribute("fill","none");n.strokeLineDash&&h.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim());n.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case "fillPath":h=B.createElementNS("http://www.w3.org/2000/svg","path");h.setAttribute("d",this.opsToPath(W));h.setAttribute("stroke","none");h.setAttribute("stroke-width","0");h.setAttribute("fill",n.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||h.setAttribute("fill-rule",
"evenodd");break;case "fillSketch":h=this.fillSketch(B,W,n)}h&&P.appendChild(h)}return P}fillSketch(d,h,n){let B=n.fillWeight;0>B&&(B=n.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(h)),d.setAttribute("stroke",n.fill||""),d.setAttribute("stroke-width",B+""),d.setAttribute("fill","none"),n.fillLineDash&&d.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),
d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,h,n,B,P){d=this.gen.line(d,h,n,B,P);return this.draw(d)}rectangle(d,h,n,B,P){d=this.gen.rectangle(d,h,n,B,P);return this.draw(d)}ellipse(d,h,n,B,P){d=this.gen.ellipse(d,h,n,B,P);return this.draw(d)}circle(d,h,n,B){d=this.gen.circle(d,h,n,B);return this.draw(d)}linearPath(d,h){d=this.gen.linearPath(d,h);return this.draw(d)}polygon(d,h){d=this.gen.polygon(d,h);return this.draw(d)}arc(d,
h,n,B,P,W,wa=!1,ra){d=this.gen.arc(d,h,n,B,P,W,wa,ra);return this.draw(d)}curve(d,h){d=this.gen.curve(d,h);return this.draw(d)}path(d,h){d=this.gen.path(d,h);return this.draw(d)}}const Fh={canvas:(d,h)=>new ni(d,h),svg:(d,h)=>new wk(d,h),generator:d=>new xh(d),newSeed:()=>xh.newSeed()};var Xd=function(d){return null!=d&&"text"===d.type},Eg=function(d){return null!=d&&dj(d.type)},dj=function(d){return"arrow"===d||"line"===d||"draw"===d},eg=function(d){return null!=d&&"arrow"===d.type},xk=function(d){return null!=
d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},zf=function(d,h,n,B,P){return[(d-n)*Math.cos(P)-(h-B)*Math.sin(P)+n,(d-n)*Math.sin(P)+(h-B)*Math.cos(P)+B]},ej=function(d,h,n){return zf(d[0],d[1],h[0],h[1],n)},fg=function(d,h,n,B,P,W,wa,ra){var Aa=Math.cos(B);B=Math.sin(B);return d.e&&d.w?h+=P+wa:d.e?(h+=P*(1+Aa),n+=P*B,h+=wa*(1-Aa),n+=wa*-B):d.w&&(h+=P*(1-Aa),n+=P*-B,h+=wa*(1+Aa),n+=wa*B),d.n&&d.s?n+=W+ra:d.n?(h+=W*B,n+=W*(1-Aa),h+=ra*-B,n+=ra*(1+Aa)):d.s&&(h+=
W*-B,n+=W*(1+Aa),h+=ra*B,n+=ra*(1-Aa)),[h,n]},ai=function(d,h){if(void 0===h&&(h=1),3<=d.length){var n=[d[0],d[d.length-1]];d=n[0];n=n[1];return Math.hypot(n[0]-d[0],n[1]-d[1])<=Oa.qx/h}return!1},Bi=function(d,h,n){var B=d.length;if(3>B)return!1;var P=[Number.MAX_SAFE_INTEGER,n];h=[h,n];for(var W=n=0;W<B;W++){var wa=d[W],ra=d[(W+1)%B],Aa=wa,Ma=ra,Ga=h,hb=P,lb=fj(Aa,Ma,Ga),mb=fj(Aa,Ma,hb),Rb=fj(Ga,hb,Aa),Ob=fj(Ga,hb,Ma);if(lb!==mb&&Rb!==Ob||0===lb&&yk(Aa,Ga,Ma)||0===mb&&yk(Aa,hb,Ma)||0===Rb&&yk(Ga,
Aa,hb)||0===Ob&&yk(Ga,Ma,hb)){if(0===fj(wa,h,ra))return yk(wa,h,ra);n++}}return 1==n%2},yk=function(d,h,n){return h[0]<=Math.max(d[0],n[0])&&h[0]>=Math.min(d[0],n[0])&&h[1]<=Math.max(d[1],n[1])&&h[1]>=Math.min(d[1],n[1])},fj=function(d,h,n){d=(h[1]-d[1])*(n[0]-h[0])-(h[0]-d[0])*(n[1]-h[1]);return 0===d?0:0<d?1:2},oi=function(d,h,n){return n?[Math.round(d/n)*n,Math.round(h/n)*n]:[d,h]},Di=function(d,h,n){var B=n.map(function(Aa){return Aa[d]}),P=Math.max.apply(Math,B);B=Math.min.apply(Math,B);P-=B;
var W=0===P?1:h/P,wa=1/0;h=n.map(function(Aa){return Aa.map(function(Ma,Ga){if(Ga!==d)return Ma;Ma*=W;return wa=Math.min(Ma,wa),Ma})});if(2===h.length)return h;var ra=B-wa;return h.map(function(Aa){return Aa.map(function(Ma,Ga){return Ga===d?Ma+ra:Ma})})},Zf=function(d){return Eg(d)?rj(d):[d.x,d.y,d.x+d.width,d.y+d.height]},Ei=function(d){for(var h=0,n=d.sets;h<n.length;h++){var B=n[h];if("path"===B.type)return B.ops}return d.sets[0].ops},Ak=function(d,h){var n=[0,0];d=d.reduce(function(B,P){var W,
wa=P.op;P=P.data;if("move"===wa)n=P;else if("bcurveTo"===wa){var ra=[P[0],P[1]],Aa=[P[2],P[3]],Ma=[P[4],P[5]],Ga=n;n=Ma;wa=function(mb,Rb){return Math.pow(1-mb,3)*Ma[Rb]+3*mb*Math.pow(1-mb,2)*Aa[Rb]+3*Math.pow(mb,2)*(1-mb)*ra[Rb]+Ga[Rb]*Math.pow(mb,3)};for(P=0;1>=P;){var hb=wa(P,0),lb=wa(P,1);h&&(hb=(W=h(hb,lb))[0],lb=W[1]);B.minY=Math.min(B.minY,lb);B.minX=Math.min(B.minX,hb);B.maxX=Math.max(B.maxX,hb);B.maxY=Math.max(B.maxY,lb);P+=.1}}return B},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[d.minX,
d.minY,d.maxX,d.maxY]},rj=function(d){if(2>d.points.length||!ti.get(d)){var h=d.points.reduce(function(n,B){var P=B[0];B=B[1];return n.minY=Math.min(n.minY,B),n.minX=Math.min(n.minX,P),n.maxX=Math.max(n.maxX,P),n.maxY=Math.max(n.maxY,B),n},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[h.minX+d.x,h.minY+d.y,h.maxX+d.x,h.maxY+d.y]}h=ti.get(d);h=Ei(h[0]);h=Ak(h);return[h[0]+d.x,h[1]+d.y,h[2]+d.x,h[3]+d.y]},pi=function(d){var h=Zf(d),n=h[0],B=h[1],P=h[2],W=h[3];h=(n+P)/2;var wa=(B+W)/2;if(Eg(d))return function(hb,
lb,mb){if(2>hb.points.length||!ti.get(hb)){var Rb=hb.points.reduce(function(Ob,tc){var Zc,dd=tc[0];tc=tc[1];return dd=(Zc=zf(hb.x+dd,hb.y+tc,lb,mb,hb.angle))[0],tc=Zc[1],Ob.minY=Math.min(Ob.minY,tc),Ob.minX=Math.min(Ob.minX,dd),Ob.maxX=Math.max(Ob.maxX,dd),Ob.maxY=Math.max(Ob.maxY,tc),Ob},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[Rb.minX,Rb.minY,Rb.maxX,Rb.maxY]}Rb=ti.get(hb);Rb=Ei(Rb[0]);return Ak(Rb,function(Ob,tc){return zf(hb.x+Ob,hb.y+tc,lb,mb,hb.angle)})}(d,h,wa);if("diamond"===d.type){B=
zf(h,B,h,wa,d.angle);var ra=B[0];B=B[1];W=zf(h,W,h,wa,d.angle);var Aa=W[0];W=W[1];var Ma=zf(n,wa,h,wa,d.angle);n=Ma[0];Ma=Ma[1];wa=zf(P,wa,h,wa,d.angle);h=wa[0];wa=wa[1];return[Math.min(ra,Aa,n,h),Math.min(B,W,Ma,wa),Math.max(ra,Aa,n,h),Math.max(B,W,Ma,wa)]}if("ellipse"===d.type)return P=(P-n)/2,ra=(W-B)/2,B=Math.cos(d.angle),Aa=Math.sin(d.angle),d=Math.hypot(P*B,ra*Aa),P=Math.hypot(ra*B,P*Aa),[h-d,wa-P,h+d,wa+P];Aa=zf(n,B,h,wa,d.angle);ra=Aa[0];Aa=Aa[1];Ma=zf(n,W,h,wa,d.angle);n=Ma[0];Ma=Ma[1];var Ga=
zf(P,W,h,wa,d.angle);W=Ga[0];Ga=Ga[1];wa=zf(P,B,h,wa,d.angle);h=wa[0];wa=wa[1];return[Math.min(ra,n,W,h),Math.min(Aa,Ma,Ga,wa),Math.max(ra,n,W,h),Math.max(Aa,Ma,Ga,wa)]},zg=function(d){if(!d.length)return[0,0,0,0];var h=1/0,n=-1/0,B=1/0,P=-1/0;return d.forEach(function(W){W=pi(W);var wa=W[1],ra=W[2],Aa=W[3];h=Math.min(h,W[0]);B=Math.min(B,wa);n=Math.max(n,ra);P=Math.max(P,Aa)}),[h,B,n,P]},Rg=function(d,h,n){if(!Eg(d))return[d.x,d.y,d.x+h,d.y+n];h=Di(0,h,Di(1,n,d.points));n=Fh.generator();h="sharp"===
d.strokeSharpness?n.linearPath(h,Oh(d)):n.curve(h,Oh(d));h=Ei(h);h=Ak(h);return[h[0]+d.x,h[1]+d.y,h[2]+d.x,h[3]+d.y]},pe=function(d,h,n){var B=Fh.generator();h="sharp"===n?B.linearPath(h,Oh(d)):B.curve(h,Oh(d));h=Ei(h);h=Ak(h);return[h[0]+d.x,h[1]+d.y,h[2]+d.x,h[3]+d.y]};const se=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var ph=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Jg=function(d){return[se.Q6[d],se.iQ[d],se.pl[d],se.ht[d],se.QN[d],se.iN[d],se.sl[d],se.$C[d],se.ek[d],se.LR[d],se.er[d],se.$y[d]]};const Dk={canvasBackground:ph([se.ix,se.MA[0],se.MA[1]],Jg(0)),elementBackground:ph(["transparent",se.MA[4],se.MA[6]],Jg(6)),elementStroke:ph([se.Sn,se.MA[8],se.MA[7]],Jg(9))};var Rf=g(6207),Kg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Gj=/^Win/.test(window.navigator.platform),
Te=Kg?"metaKey":"ctrlKey",pg=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},gj=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},Ag=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},Ri=function(d){var h=d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(Oa.ut[h],", ").concat(Oa._D))},Si=function(d,
h){var n=document.createElement("div"),B=document.body;n.style.position="absolute";n.style.whiteSpace="pre";n.style.font=h;B.appendChild(n);n.innerText=d.split("\n").map(function(P){return P||" "}).join("\n");d=n.offsetWidth;h=n.offsetHeight;B=document.createElement("span");B.style.display="inline-block";B.style.overflow="hidden";B.style.width="1px";B.style.height="1px";n.appendChild(B);B=B.offsetTop+B.offsetHeight;return document.body.removeChild(n),{width:d,height:h,baseline:B}},qi=function(d,h){var n,
B=0,P=function(){for(var W=[],wa=0;wa<arguments.length;wa++)W[wa]=arguments[wa];n=W;clearTimeout(B);B=window.setTimeout(function(){return d.apply(void 0,W)},h)};return P.flush=function(){clearTimeout(B);n&&d.apply(void 0,n)},P.cancel=function(){clearTimeout(B)},P},Fi=function(d){d&&(d.style.cursor="")},Gi=function(d,h){d&&(d.style.cursor=h)},ri=function(d,h){d&&("selection"===h?Fi(d):d.style.cursor=Oa.oc.CROSSHAIR)},qh=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===
d?void 0:d.nodeName)},Od=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Kg?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},lg=function(d,h){var n=h.zoom,B=1/n.value;return{x:(d.clientX-n.translation.x-h.offsetLeft)*B-h.scrollX,y:(d.clientY-n.translation.y-h.offsetTop)*B-h.scrollY}},dh=function(d,h){var n=h.zoom;return{x:(d.sceneX+h.scrollX+h.offsetLeft)*
n.value+n.translation.x,y:(d.sceneY+h.scrollY+h.offsetTop)*n.value+n.translation.y}},Sf=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},rh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Bg=function(d){return{x:d[0],y:d[1]}},Fk=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},Tf=function(d){return function(h){(0,Rf.unstable_batchedUpdates)(d,h)}},sl=function(d,h){var n,B=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(n=B.length-1;0<n&&!(d>=B[n].value);n--);return(d/B[n].value).toFixed(h).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+B[n].symbol},Df=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||Oa.eQ},yh=function(){var d=new Map,h=Oa.rk,n=Oa.n5,B=se.Sn,P=Oa.Hg,W=window.innerHeight,wa="".concat(Mb("labels.untitled"),"-"),ra=wa.concat;var Aa=new Date;var Ma=Aa.getFullYear();var Ga="".concat(Aa.getMonth()+
1).padStart(2,"0"),hb="".concat(Aa.getDate()).padStart(2,"0"),lb="".concat(Aa.getHours()).padStart(2,"0");Aa="".concat(Aa.getMinutes()).padStart(2,"0");Ma="".concat(Ma,"-").concat(Ga,"-").concat(hb,"-").concat(lb).concat(Aa);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:h,currentItemFontSize:n,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:B,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:P,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:W,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:ra.call(wa,Ma),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:se.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},eh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},si=function(d,h){for(var n={},B=0,P=
Object.keys(d);B<P.length;B++){var W=P[B],wa=eh[W];null!=wa&&wa[h]&&(n[W]=d[W])}return n},gg=yh(),Nh=[12,8],Uk=[3,6],bi=function(d,h,n){switch(n.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":h.draw(ti.get(d));break;case "arrow":case "draw":case "line":ti.get(d).forEach(function(hb){h.draw(hb)});break;default:if(!Xd(d))throw Error("Unimplemented type ".concat(d.type));var B=rh.test(d.text),P=B&&!n.canvas.isConnected;P&&document.body.appendChild(n.canvas);n.canvas.setAttribute("dir",
B?"rtl":"ltr");B=n.font;n.font=Ri(d);var W=n.fillStyle;n.fillStyle=d.strokeColor;var wa=n.textAlign;n.textAlign=d.textAlign;var ra=d.text.replace(/\r\n?/g,"\n").split("\n"),Aa=d.height/ra.length,Ma=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var Ga=0;Ga<ra.length;Ga++)n.fillText(ra[Ga],d,(Ga+1)*Aa-Ma);n.fillStyle=W;n.font=B;n.textAlign=wa;P&&n.canvas.remove()}n.globalAlpha=1},Gk=new WeakMap,ti=new WeakMap,Oh=function(d){var h={seed:d.seed,strokeLineDash:"dashed"===
d.strokeStyle?Nh:"dotted"===d.strokeStyle?Uk:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return h.fillStyle=d.fillStyle,h.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,"ellipse"===d.type&&(h.curveFitting=1),h;case "line":case "draw":return ai(d.points)&&
(h.fillStyle=d.fillStyle,h.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),h;case "arrow":return h;default:throw Error("Unimplemented type ".concat(d.type));}},ak=function(d,h){var n=ti.get(d)||null;if(!n){switch(Gk.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){n=d.width;var B=d.height,P=.25*Math.min(n,B);n=h.path("M ".concat(P," 0 L ").concat(n-P," 0 Q ").concat(n," 0, ").concat(n," ").concat(P," L ").concat(n," ").concat(B-P," Q ").concat(n," ").concat(B,", ").concat(n-
P," ").concat(B," L ").concat(P," ").concat(B," Q 0 ").concat(B,", 0 ").concat(B-P," L 0 ").concat(P," Q 0 0, ").concat(P," 0"),Oh(d))}else n=h.rectangle(0,0,d.width,d.height,Oh(d));break;case "diamond":n=function(wa){var ra=Math.floor(wa.width/2)+1,Aa=Math.floor(wa.height/2)+1;return[ra,0,wa.width,Aa,ra,wa.height,0,Aa]}(d);n=h.polygon([[n[0],n[1]],[n[2],n[3]],[n[4],n[5]],[n[6],n[7]]],Oh(d));break;case "ellipse":n=h.ellipse(d.width/2,d.height/2,d.width,d.height,Oh(d));break;case "line":case "draw":case "arrow":var W=
Oh(d);n=d.points.length?d.points:[[0,0]];if(n="sharp"===d.strokeSharpness?W.fill?[h.polygon(n,W)]:[h.linearPath(n,W)]:[h.curve(n,W)],"arrow"===d.type){B=d.startArrowhead;B=void 0===B?null:B;P=d.endArrowhead;P=void 0===P?"arrow":P;function wa(ra,Aa,Ma,Ga){Aa=function(Rb,Ob,tc,Zc){Ob=Ei(Ob[0]);if(1>Ob.length)return null;var dd="start"===tc?1:Ob.length-1,pd=Ob[dd].data,te=[pd[4],pd[5]],oe=[pd[2],pd[3]],Fe=[pd[0],pd[1]];Ob=Ob[dd-1];var we=[0,0];"move"===Ob.op?we=Ob.data:"bcurveTo"===Ob.op&&(we=[Ob.data[4],
Ob.data[5]]);dd=function(td,Pd){return Math.pow(1-td,3)*te[Pd]+3*td*Math.pow(1-td,2)*oe[Pd]+3*Math.pow(td,2)*(1-td)*Fe[Pd]+we[Pd]*Math.pow(td,3)};Ob="start"===tc?we:te;tc=Ob[0];Ob=Ob[1];pd=[dd(.3,0),dd(.3,1)];dd=pd[0];pd=pd[1];var Ve=Math.hypot(tc-dd,Ob-pd);dd=(tc-dd)/Ve;pd=(Ob-pd)/Ve;Ve={arrow:30,bar:15,dot:15}[Zc];Rb=Rb.points.reduce(function(td,Pd,$d,Le){$d=0<$d?Le[$d-1]:[0,0];return td+Math.hypot(Pd[0]-$d[0],Pd[1]-$d[1])},0);Ve=Math.min(Ve,Rb/2);Rb=tc-dd*Ve;dd=Ob-pd*Ve;if("dot"===Zc)return[tc,
Ob,Math.hypot(dd-Ob,Rb-tc)];pd={arrow:20,bar:90}[Zc];Ve=zf(Rb,dd,tc,Ob,-pd*Math.PI/180);Zc=Ve[0];Ve=Ve[1];Rb=zf(Rb,dd,tc,Ob,pd*Math.PI/180);return[tc,Ob,Zc,Ve,Rb[0],Rb[1]]}(ra,Aa,Ma,Ga);if(null===Aa)return[];if("dot"===Ga)return[h.circle(Aa[0],Aa[1],Aa[2],Ib(Ib({},W),{},{fill:ra.strokeColor,fillStyle:"solid"}))];Ga=Aa[0];Ma=Aa[1];var hb=Aa[2],lb=Aa[3],mb=Aa[4];Aa=Aa[5];return"dotted"===ra.strokeStyle?W.strokeLineDash=[3,4]:delete W.strokeLineDash,[h.line(hb,lb,Ga,Ma,W),h.line(mb,Aa,Ga,Ma,W)]}null!==
B&&(B=wa(d,n,"start",B),n.push.apply(n,B));null!==P&&(B=wa(d,n,"end",P),n.push.apply(n,B))}break;case "text":n=[]}ti.set(d,n)}},jn=function(d,h,n,B,P){var W=h.generator;switch(d.type){case "selection":n.translate(d.x+P.scrollX,d.y+P.scrollY);h=n.fillStyle;n.fillStyle="rgba(0, 0, 255, 0.10)";n.fillRect(0,0,d.width,d.height);n.fillStyle=h;n.translate(-d.x-P.scrollX,-d.y-P.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(ak(d,W),B){h=P?
P.zoom:gg.zoom;W=(B=Gk.get(d))&&B.canvasZoom!==h.value&&!(null!=P&&P.shouldCacheIgnoreZoom);if(!B||W){B=document.createElement("canvas");W=B.getContext("2d");var wa=0,ra=0;if(Eg(d)){wa=Zf(d);var Aa=wa[0];ra=wa[1];var Ma=wa[3];B.width=Math.abs(Aa-wa[2])*window.devicePixelRatio*h.value+40*h.value;B.height=Math.abs(ra-Ma)*window.devicePixelRatio*h.value+40*h.value;wa=d.x>Aa?Math.floor(Math.abs(d.x-Aa))*window.devicePixelRatio*h.value:0;ra=d.y>ra?Math.floor(Math.abs(d.y-ra))*window.devicePixelRatio*h.value:
0;W.translate(wa,ra)}else B.width=d.width*window.devicePixelRatio*h.value+40*h.value,B.height=d.height*window.devicePixelRatio*h.value+40*h.value;W.translate(20*h.value,20*h.value);W.scale(window.devicePixelRatio*h.value,window.devicePixelRatio*h.value);Aa=Fh.canvas(B);h=(bi(d,Aa,W),W.translate(-20*h.value,-20*h.value),W.scale(1/(window.devicePixelRatio*h.value),1/(window.devicePixelRatio*h.value)),{element:d,canvas:B,canvasZoom:h.value,canvasOffsetX:wa,canvasOffsetY:ra});d=(Gk.set(d,h),h)}else d=
B;h=d.element;wa=Zf(h);B=wa[0];W=wa[1];ra=wa[2];wa=wa[3];Aa=((B+ra)/2+P.scrollX)*window.devicePixelRatio;P=((W+wa)/2+P.scrollY)*window.devicePixelRatio;n.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);n.translate(Aa,P);n.rotate(h.angle);n.drawImage(d.canvas,-(ra-B)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(wa-W)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);n.rotate(-h.angle);n.translate(-Aa,-P);n.scale(window.devicePixelRatio,
window.devicePixelRatio);!0}else W=Zf(d),ra=W[0],B=W[1],wa=W[2],Aa=W[3],W=(ra+wa)/2+P.scrollX,P=(B+Aa)/2+P.scrollY,ra=(wa-ra)/2-(d.x-ra),B=(Aa-B)/2-(d.y-B),n.translate(W,P),n.rotate(d.angle),n.translate(-ra,-B),bi(d,h,n),n.translate(ra,B),n.rotate(-d.angle),n.translate(-W,-P);break;default:throw Error("Unimplemented type ".concat(d.type));}},sh=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return d.mapElementToScene=function(h,
n){"string"==typeof h?this.sceneMapById.set(h,n):this.sceneMapByElement.set(h,n)},d.getScene=function(h){return"string"==typeof h?this.sceneMapById.get(h)||null:this.sceneMapByElement.get(h)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=function(h){return this.elementsMap.get(h)||null},d.prototype.getNonDeletedElement=function(h){return(h=this.getElement(h))&&!h.isDeleted?h:
null},d.prototype.getNonDeletedElements=function(h){var n=this,B=[];return h.forEach(function(P){P=n.getNonDeletedElement(P);null!=P&&B.push(P)}),B},d.prototype.replaceAllElements=function(h){var n=this;this.elements=h;this.elementsMap.clear();h.forEach(function(B){n.elementsMap.set(B.id,B);d.mapElementToScene(B,n)});this.nonDeletedElements=Wd(this.elements);this.informMutation()},d.prototype.informMutation=function(){for(var h=0,n=Array.from(this.callbacks);h<n.length;h++)(0,n[h])()},d.prototype.addCallback=
function(h){var n=this;if(this.callbacks.has(h))throw Error();return this.callbacks.add(h),function(){if(!n.callbacks.has(h))throw Error();n.callbacks.delete(h)}},d.prototype.destroy=function(){var h=this;d.sceneMapById.forEach(function(n,B){n===h&&d.sceneMapById.delete(B)});this.callbacks.clear()},d}();sh.sceneMapByElement=new WeakMap;sh.sceneMapById=new Map;var Jm=new Ue(Date.now()),bk=function(){return Math.floor(Jm.next()*Math.pow(2,31))},ui=function(){return((d=21)=>{let h="",n=crypto.getRandomValues(new Uint8Array(d));
for(;d--;){let B=63&n[d];h+=36>B?B.toString(36):62>B?(B-26).toString(36).toUpperCase():63>B?"_":"-"}return h})()},bf=function(d,h){var n,B=!1,P=h.points,W;for(W in void 0!==P&&(h=gb(gb({},function(mb){var Rb=mb.map(function(Ob){return Ob[0]});mb=mb.map(function(Ob){return Ob[1]});return{width:Math.max.apply(Math,Rb)-Math.min.apply(Math,Rb),height:Math.max.apply(Math,mb)-Math.min.apply(Math,mb)}}(P)),h)),h){var wa=h[W];if(void 0!==wa&&(d[W]!==wa||"object"==typeof wa&&null!==wa&&"groupIds"!==W)){if("points"===
W){var ra=d[W],Aa=wa;if(ra.length===Aa.length){for(var Ma=!1,Ga=ra.length;--Ga;){var hb=ra[Ga],lb=Aa[Ga];if(hb[0]!==lb[0]||hb[1]!==lb[1]){Ma=!0;break}}if(!Ma)continue}}d[W]=wa;B=!0}}B&&(void 0===h.height&&void 0===h.width&&void 0===P||ti.delete(d),d.version++,d.versionNonce=bk(),null===(n=sh.getScene(d))||void 0===n||n.informMutation())},qg=function(d,h){return gb(gb(gb({},d),h),{},{version:d.version+1,versionNonce:bk()})},Mh=function(d){return Eg(d)?2>d.points.length:0===d.width&&0===d.height},Ie=
function(d,h,n){var B=Math.abs(h),P=Math.abs(n);"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(P/B)/Oa.ay)*Oa.ay,0===d?n=0:d===Math.PI/2?h=0:n=Math.round(B*Math.tan(d))*Math.sign(n)||n):"selection"!==d&&(n=B*Math.sign(n));return{width:h,height:n}},Jl=function(d){var h={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var n=Math.abs(d.width);h.width=n;h.x=d.x-n}0>d.height&&(n=Math.abs(d.height),h.height=n,h.y=d.y-n);return h},Gf=g(5474),Qh=g.n(Gf),ul=function(d,h){for(var n=0,
B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},dk=function(d,h,n){var B,P;n=n.filter(function(W){return W.groupIds.includes(d)});return 2>n.length?h.selectedGroupIds[d]||h.editingGroupId===d?Na(Na({},h),{},{selectedGroupIds:Na(Na({},h.selectedGroupIds),{},(B={},B[d]=!1,B)),editingGroupId:null}):h:Na(Na({},h),{},{selectedGroupIds:Na(Na({},h.selectedGroupIds),{},(P={},P[d]=!0,P)),selectedElementIds:Na(Na({},h.selectedElementIds),Object.fromEntries(n.map(function(W){return[W.id,!0]})))})},th=
function(d,h){return h.groupIds.filter(function(n){return n!==d.editingGroupId}).find(function(n){return d.selectedGroupIds[n]})},Ii=function(d){return Object.entries(d.selectedGroupIds).filter(function(h){h[0];return h[1]}).map(function(h){var n=h[0];h[1];return n})},Rh=function(d,h){for(var n=Na({},d),B=0,P=of(h,d);B<P.length;B++){var W=P[B].groupIds;if(d.editingGroupId){var wa=W.indexOf(d.editingGroupId);-1<wa&&(W=W.slice(0,wa))}0<W.length&&(n=dk(W[W.length-1],n,h))}return n},ek=function(d,h){return d.filter(function(n){return n.groupIds.includes(h)})},
uj=function(d,h){var n,B,P=h.x,W=h.y,wa=h.strokeColor,ra=h.backgroundColor,Aa=h.fillStyle,Ma=h.strokeWidth,Ga=h.strokeStyle,hb=h.roughness,lb=h.opacity,mb=h.width;mb=void 0===mb?0:mb;var Rb=h.height;Rb=void 0===Rb?0:Rb;var Ob=h.angle;Ob=void 0===Ob?0:Ob;var tc=h.groupIds;tc=void 0===tc?[]:tc;var Zc=h.strokeSharpness,dd=h.boundElementIds;dd=void 0===dd?null:dd;h=Qh()(h,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:h.id||ui(),type:d,x:P,y:W,width:mb,height:Rb,angle:Ob,strokeColor:wa,backgroundColor:ra,fillStyle:Aa,strokeWidth:Ma,strokeStyle:Ga,roughness:hb,opacity:lb,groupIds:tc,strokeSharpness:Zc,seed:null!==(n=h.seed)&&void 0!==n?n:bk(),version:h.version||1,versionNonce:null!==(B=h.versionNonce)&&void 0!==B?B:0,isDeleted:!1,boundElementIds:dd}},Ll=function(d){return uj(d.type,d)},Sh=function(d,h){return{x:"center"===d.textAlign?h.width/2:"right"===d.textAlign?h.width:0,y:"middle"===d.verticalAlign?
h.height/2:0}},Hj=function(d){var h=Si(d.text,Ri(d)),n=Sh(d,h);return qg(Da(Da({},uj("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-n.x,y:d.y-n.y,width:h.width,height:h.height,baseline:h.baseline}),{})},Je=function(d){return Da(Da({},uj(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},Ij=function(d,h){if(void 0===
h&&(h=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var n="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},B;for(B in d)d.hasOwnProperty(B)&&(0!==h||"shape"!==B&&"canvas"!==B)&&(n[B]=Ij(d[B],h+1));return n}if(Array.isArray(d)){n=d.length;for(B=Array(n);n--;)B[n]=Ij(d[n],h+1);return B}return d},Vi=function(d,h,n,B){n=Ij(n);return n.id=ui(),n.seed=bk(),n.groupIds=function(P,W,wa){var ra=ul([],P);W=W?P.indexOf(W):-1;P=-1<
W?W:P.length;for(W=0;W<P;W++)ra[W]=wa(ra[W]);return ra}(n.groupIds,d,function(P){return h.has(P)||h.set(P,ui()),h.get(P)}),B&&(n=Object.assign(n,B)),n},De={mouse:8,pen:16,touch:28},vl={e:!0,s:!0,n:!0,w:!0},Nl={e:!0,s:!0,n:!0,w:!0},Th={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},vj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},$g=function(d,h,n,B,P,W,wa){d=zf(d+n/2,h+B/2,P,W,wa);return[d[0]-n/2,d[1]-B/2,n,B]},Ek=function(d,h,n,B,P){var W=d[0],wa=d[1],ra=d[2];d=d[3];void 0===P&&(P={});var Aa=De[B];B=Aa/n.value;var Ma=Aa/
n.value,Ga=Aa/n.value,hb=Aa/n.value,lb=ra-W,mb=d-wa,Rb=(W+ra)/2,Ob=(wa+d)/2,tc=4/n.value;Aa=(Aa-8)/(2*n.value);var Zc={nw:P.nw?void 0:$g(W-tc-Ga+Aa,wa-tc-hb+Aa,B,Ma,Rb,Ob,h),ne:P.ne?void 0:$g(ra+tc-Aa,wa-tc-hb+Aa,B,Ma,Rb,Ob,h),sw:P.sw?void 0:$g(W-tc-Ga+Aa,d+tc-Aa,B,Ma,Rb,Ob,h),se:P.se?void 0:$g(ra+tc-Aa,d+tc-Aa,B,Ma,Rb,Ob,h),rotation:P.rotation?void 0:$g(W+lb/2-B/2,wa-tc-hb+Aa-16/n.value,B,Ma,Rb,Ob,h)};n=5*De.mouse/n.value;return Math.abs(lb)>n&&(P.n||(Zc.n=$g(W+lb/2-B/2,wa-tc-hb+Aa,B,Ma,Rb,Ob,h)),
P.s||(Zc.s=$g(W+lb/2-B/2,d+tc-Aa,B,Ma,Rb,Ob,h))),Math.abs(mb)>n&&(P.w||(Zc.w=$g(W-tc-Ga+Aa,wa+mb/2-Ma/2,B,Ma,Rb,Ob,h)),P.e||(Zc.e=$g(ra+tc-Aa,wa+mb/2-Ma/2,B,Ma,Rb,Ob,h))),Zc},sj=function(d,h,n){void 0===n&&(n="mouse");var B={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var P=d.points[1];0===P[0]||0===P[1]?B=vj:0<P[0]&&0>P[1]?B=Th:0<P[0]&&0<P[1]?B=vj:0>P[0]&&0<P[1]?B=Th:0>P[0]&&0>P[1]&&(B=vj)}}else"text"===d.type&&(B=Nl);return Ek(Zf(d),d.angle,h,n,B)},wi=function(d,
h){return[0,0,0,0,h,d,1,0]},Ug=function(d,h){void 0===d&&(d=0);void 0===h&&(h=0);var n=[0,0,0,0,0,0,0,0];if(0>h||7<h)throw Error("Expected `index` betwen 0 and 7, got `".concat(h,"`"));return 0!==d&&(n[h]=d),n},Gh=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},tl=function(d,h){return"number"==typeof h?[d[0]-h,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-h[0],d[1]-h[1],d[2]-h[2],d[3]-h[3],d[4]-h[4],d[5]-h[5],d[6]-h[6],d[7]-h[7]]},Ik=function(d,h){return"number"==typeof h?[d[0]*h,d[1]*
h,d[2]*h,d[3]*h,d[4]*h,d[5]*h,d[6]*h,d[7]*h]:[h[0]*d[0]+h[2]*d[2]+h[3]*d[3]-h[6]*d[6],h[1]*d[0]+h[0]*d[1]-h[4]*d[2]+h[5]*d[3]+h[2]*d[4]-h[3]*d[5]-h[7]*d[6]-h[6]*d[7],h[2]*d[0]+h[0]*d[2]-h[6]*d[3]+h[3]*d[6],h[3]*d[0]+h[6]*d[2]+h[0]*d[3]-h[2]*d[6],h[4]*d[0]+h[2]*d[1]-h[1]*d[2]+h[7]*d[3]+h[0]*d[4]+h[6]*d[5]-h[5]*d[6]+h[3]*d[7],h[5]*d[0]-h[3]*d[1]+h[7]*d[2]+h[1]*d[3]-h[6]*d[4]+h[0]*d[5]+h[4]*d[6]+h[2]*d[7],h[6]*d[0]+h[3]*d[2]-h[2]*d[3]+h[0]*d[6],h[7]*d[0]+h[6]*d[1]+h[5]*d[2]+h[4]*d[3]+h[3]*d[4]+h[2]*
d[5]+h[1]*d[6]+h[0]*d[7]]},ik=function(d,h){return[Jj(d,h),d[1]*h[7]+d[4]*h[5]-d[5]*h[4]+d[7]*h[1],d[2]*h[7]-d[4]*h[6]+d[6]*h[4]+d[7]*h[2],d[3]*h[7]+d[5]*h[6]-d[6]*h[5]+d[7]*h[3],d[4]*h[7]+d[7]*h[4],d[5]*h[7]+d[7]*h[5],d[6]*h[7]+d[7]*h[6],d[7]*h[7]]},Jj=function(d,h){return d[0]*h[7]+d[1]*h[6]+d[2]*h[5]+d[3]*h[4]+d[4]*h[3]+d[5]*h[2]+d[6]*h[1]+d[7]*h[0]},Nm=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},hj=function(d){var h=Nm(d);return 0===h||1===h?d:Ik(d,(0>d[6]?
-1:1)/h)},Kl=(Ug(1,1),Ug(1,2),Ug(1,3),Ug(1,4),Ug(1,5),Ug(1,6),Ug(1,7),function(d,h,n){return hj([0,n,d,h,0,0,0,0])}),fk=function(d,h){return n=d,[(B=h)[0]*n[0]+B[2]*n[2]+B[3]*n[3]-B[6]*n[6],B[1]*n[0]+B[0]*n[1]-B[4]*n[2]+B[5]*n[3]+B[2]*n[4]-B[3]*n[5]-B[7]*n[6]-B[6]*n[7],B[2]*n[0]+B[0]*n[2]-B[6]*n[3]+B[3]*n[6],B[3]*n[0]+B[6]*n[2]+B[0]*n[3]-B[2]*n[6],B[4]*n[0]+B[7]*n[3]+B[0]*n[4]+B[3]*n[7],B[5]*n[0]+B[7]*n[2]+B[0]*n[5]+B[2]*n[7],B[6]*n[0]+B[0]*n[6],B[7]*n[0]+B[0]*n[7]];var n,B},gk=function(d){return[0,
0,0,0,d[1],d[0],1,0]},di=function(d){return[d[5],d[4]]},jj=function(d,h){return n=Ik(d,Math.sin(h/2)),B=Math.cos(h/2),"number"==typeof B?[n[0]+B,n[1],n[2],n[3],n[4],n[5],n[6],n[7]]:[n[0]+B[0],n[1]+B[1],n[2]+B[2],n[3]+B[3],n[4]+B[4],n[5]+B[5],n[6]+B[6],n[7]+B[7]];var n,B},Ji=function(d,h){return hj(Ik(Ik(d,h),Gh(d)))},Kk=function(d,h,n,B){var P=10/h.zoom.value;return!hk(d,h,[n,B])&&Ol(d,[n,B],P)},hk=function(d,h,n){h=10/h.zoom.value;if("text"===d.type)var B=cm;else"arrow"===d.type?B=!1:(B="transparent"!==
d.backgroundColor,B="line"===d.type||"draw"===d.type?B&&ai(d.points):B),B=B?jk:Hk;return ij({element:d,point:n,threshold:h,check:B})},Ol=function(d,h,n){var B=h[0],P=h[1],W=Zf(d);h=W[0];var wa=W[1],ra=W[2];W=W[3];B=zf(B,P,(h+ra)/2,(wa+W)/2,-d.angle);d=B[0];B=B[1];return d>h-n&&d<ra+n&&B>wa-n&&B<W+n},Mk=function(d,h){var n=h.x;h=h.y;var B=Wi(d,d.width,d.height);return ij({element:d,point:[n,h],threshold:B,check:Fn})},Wi=function(d,h,n){return Math.max(16,Math.min(.25*("diamond"===d.type?1/Math.sqrt(2):
1)*Math.min(h,n),32))},ij=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var h=am(d.element,d.point);return d.check(h,d.threshold);case "arrow":case "line":case "draw":return bo(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},am=function(d,h){switch(d.type){case "rectangle":case "text":var n=Qi(d,h),B=n[1],P=n[2];d=Math;h=d.max;n=Kl(0,1,-n[3]);n=Jj(B,n);P=Kl(1,0,-P);B=Jj(B,P);return h.call(d,
n,B);case "diamond":return B=Qi(d,h),d=B[1],h=B[2],B=B[3],h=Kl(B,h,-B*h),Jj(d,h);case "ellipse":return d=ln(d,h),h=d[1],-Math.sign(h[1])*Jj(d[0],h)}},cm=function(d,h){return 0>d},jk=function(d,h){return d<h},Hk=function(d,h){return Math.abs(d)<h},Fn=function(d,h){return 0<=d&&d<h},ln=function(d,h){h=Qi(d,h);d=h[1];var n=h[2],B=h[3];h=di(d);var P=h[0],W=h[1],wa=.707,ra=.707;[0,1,2,3].forEach(function(Aa){Aa=(n*n-B*B)*Math.pow(wa,3)/n;var Ma=(B*B-n*n)*Math.pow(ra,3)/B,Ga=P-Aa,hb=W-Ma,lb=Math.hypot(B*
ra-Ma,n*wa-Aa),mb=Math.hypot(hb,Ga);wa=Math.min(1,Math.max(0,(Ga*lb/mb+Aa)/n));ra=Math.min(1,Math.max(0,(hb*lb/mb+Ma)/B));Aa=Math.hypot(ra,wa);wa/=Aa;ra/=Aa});h=wi(n*wa,B*ra);return[d,fk(hj(ik(h,d)),h)]},bo=function(d){var h=d.element,n=d.threshold;if(!ti.get(h))return!1;var B=Qi(d.element,d.point),P=B[0],W=B[1],wa=B[2];B=Kl(0,1,-B[3]);wa=Kl(1,0,-wa);if(!jk(Jj(W,B),n)||!jk(Jj(W,wa),n))return!1;P=di(P);var ra=P[0],Aa=P[1];P=ti.get(h);return d.check===jk&&P.some(function(Ma){var Ga=h.strokeSharpness;
var hb=[],lb=!1,mb=0;for(Ma=Ei(Ma);mb<Ma.length;mb++){var Rb=Ma[mb];"move"===Rb.op?(lb=!lb)&&hb.push([Rb.data[0],Rb.data[1]]):"bcurveTo"===Rb.op&&lb&&(hb.push([Rb.data[0],Rb.data[1]]),hb.push([Rb.data[2],Rb.data[3]]),hb.push([Rb.data[4],Rb.data[5]]))}4<=hb.length?"sharp"===Ga?Ga=Bi(hb,ra,Aa):(Ga=H(hb,10,5),Ga=Bi(Ga,ra,Aa)):Ga=!1;return Ga})?!0:P.some(function(Ma){return Tk(Ma,ra,Aa,n)})},Qi=function(d,h){var n,B=gk(h);h=Zf(d);var P=Ql(h),W=jj(P,d.angle);B=Ji(W,B);P=tl(B,[0,0,0,0,P[4],P[5],0,0]);P=
[0,0,0,0,Math.abs(P[4]),Math.abs(P[5]),1,0];d=(n=d.x,[0,0,0,0,d.y,n,0,0]);return[tl(B,d),P,(h[2]-h[0])/2,(h[3]-h[1])/2]},Il=function(d){var h=Zf(d);h=Ql(h);d=jj(h,d.angle);h=[0,0,0,0,h[4],h[5],0,0];h=Gh([1,0,0,0,-.5*h[5],.5*h[4],0,0]);return Ik(h,d)},Ql=function(d){return wi((d[0]+d[2])/2,(d[1]+d[3])/2)},zk=function(d,h,n,B){switch(void 0===B&&(B=0),d.type){case "rectangle":case "text":case "diamond":var P=yg(d);var W=P.flatMap(function(wa,ra){ra=[wa,P[(ra+1)%4]];var Aa=B;wa=ra[0];ra=ra[1];var Ma=
[0,0,0,0,ra[4]-wa[4],ra[5]-wa[5],0,0];var Ga=Math.sqrt(Math.abs(Ma[7]*Ma[7]-Ma[5]*Ma[5]-Ma[4]*Ma[4]+Ma[1]*Ma[1]));Ma=0===Ga||1===Ga?Ma:Ik(Ma,1/Ga);Aa*=.5;Aa=[1,0,0,0,Aa*Ma[4],Aa*Ma[5],0,0];ra=[Ji(Aa,wa),Ji(Aa,ra)];wa=ra[0];ra=ra[1];if(0<=Jj(wa,h)*Jj(ra,h))var hb=[];else{a:{wa=hj(ik(ra,wa));wa=hj((hb=h,[(lb=wa)[0]*hb[0],lb[1]*hb[0]+lb[0]*hb[1],lb[2]*hb[0]+lb[0]*hb[2],lb[3]*hb[0]+lb[0]*hb[3],lb[4]*hb[0]+lb[2]*hb[1]-lb[1]*hb[2]+lb[0]*hb[4],lb[5]*hb[0]-lb[3]*hb[1]+lb[1]*hb[3]+lb[0]*hb[5],lb[6]*hb[0]+
lb[3]*hb[2]-lb[2]*hb[3]+lb[0]*hb[6],lb[7]*hb[0]+lb[6]*hb[1]+lb[5]*hb[2]+lb[4]*hb[3]+lb[3]*hb[4]+lb[2]*hb[5]+lb[1]*hb[6]]));break a;var lb}hb=[wa]}return hb}).concat(P.flatMap(function(wa){var ra=B;if(0===ra)var Aa=0===Jj(h,wa)?[wa]:[];else{Aa=h[2];var Ma=h[3],Ga=h[1],hb=di(wa);wa=hb[0];var lb=hb[1];hb=Aa*Aa+Ma*Ma;ra=ra*ra*hb-Math.pow(Aa*wa+Ma*lb+Ga,2);if(0===hb||0>=ra)Aa=[];else{ra=Math.sqrt(ra);var mb=wa*Ma*Ma-lb*Aa*Ma-Aa*Ga;Ga=lb*Aa*Aa-wa*Aa*Ma-Ma*Ga;Aa=[wi((mb+Ma*ra)/hb,(Ga-Aa*ra)/hb),wi((mb-Ma*
ra)/hb,(Ga+Aa*ra)/hb)]}}return Aa}));break;case "ellipse":W=Ci(d,B,h)}if(2>W.length)return[];d=W.sort(function(wa,ra){return Nm(ik(wa,n))-Nm(ik(ra,n))});return[d[0],d[d.length-1]]},yg=function(d,h){void 0===h&&(h=1);var n=h*d.width/2;h=h*d.height/2;switch(d.type){case "rectangle":case "text":return[wi(n,h),wi(n,-h),wi(-n,-h),wi(-n,h)];case "diamond":return[wi(0,h),wi(n,0),wi(0,-h),wi(-n,0)]}},Ci=function(d,h,n){var B=d.width/2+h;d=d.height/2+h;h=n[2];var P=n[3],W=n[1];n=B*B*h*h+d*d*P*P;var wa=n-W*
W;if(0===n||0>=wa)return[];wa=Math.sqrt(wa);var ra=-B*B*h*W;W*=-d*d*P;return[wi((ra+B*d*P*wa)/n,(W-B*d*h*wa)/n),wi((ra-B*d*P*wa)/n,(W+B*d*h*wa)/n)]},fh=function(d,h,n){var B=Math.sign(h),P=0,W=null;return yg(d,Math.abs(h)).forEach(function(wa){var ra=B*hj(ik(wa,n))[1];ra>P&&(P=ra,W=wa)}),W},Tk=function(d,h,n,B){var P=[0,0];return Ei(d).some(function(W,wa){wa=W.op;var ra=W.data;if("move"===wa)P=ra;else if("bcurveTo"===wa){W=[ra[0],ra[1]];wa=[ra[2],ra[3]];ra=[ra[4],ra[5]];var Aa=P;return P=ra,function(Ma,
Ga,hb,lb,mb,Rb){var Ob=mb[0];mb=mb[1];for(var tc=function(te,oe){return Math.pow(1-te,3)*lb[oe]+3*te*Math.pow(1-te,2)*hb[oe]+3*Math.pow(te,2)*(1-te)*Ga[oe]+Ma[oe]*Math.pow(te,3)},Zc=0;1>=Zc;){var dd=tc(Zc,0),pd=tc(Zc,1);if(Math.sqrt(Math.pow(dd-Ob,2)+Math.pow(pd-mb,2))<Rb)return!0;Zc+=.01}return!1}(Aa,W,wa,ra,[h,n],B)}return!1})},Zg=function(d,h,n){return h>=d[0]&&h<=d[0]+d[2]&&n>=d[1]&&n<=d[1]+d[3]},Ki=function(d,h,n,B,P,W){return d.reduce(function(wa,ra){return wa?wa:(wa=function(Aa,Ma,Ga,hb,lb,
mb){if(!Ma.selectedElementIds[Aa.id])return!1;Aa=sj(Aa,lb,mb);Ma=Aa.rotation;var Rb=Qh()(Aa,["rotation"]);if(Ma&&Zg(Ma,Ga,hb))return"rotation";Aa=Object.keys(Rb).filter(function(Ob){Ob=Rb[Ob];return!!Ob&&Zg(Ob,Ga,hb)});return 0<Aa.length&&Aa[0]}(ra,h,n,B,P,W))?{element:ra,transformHandleType:wa}:null},null)},hf=function(d,h,n,B,P){var W=Ek([d[0],d[1],d[2],d[3]],0,B,P,vl);return Object.keys(W).find(function(wa){return(wa=W[wa])&&Zg(wa,h,n)})||!1},uh=["ns","nesw","ew","nwse"],ve=function(d){var h=d.element,
n=h&&-1==Math.sign(h.height)*Math.sign(h.width),B=null;switch(d.transformHandleType){case "n":case "s":B="ns";break;case "w":case "e":B="ew";break;case "nw":case "se":B=n?"nesw":"nwse";break;case "ne":case "sw":B=n?"nwse":"nesw";break;case "rotation":return"grab"}B&&h&&(d=B,h=h.angle,n=uh.indexOf(d),0<=n&&(d=uh[(n+Math.round(h/(Math.PI/4)))%uh.length]),B=d);return B?"".concat(B,"-resize"):""},Zk=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Vf=function(){function d(h,
n){this.elementId=h.id;sh.mapElementToScene(this.elementId,n);d.normalizePoints(h);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(h){var n;return(null===(n=sh.getScene(h))||void 0===n?void 0:n.getNonDeletedElement(h))||null},d.handlePointDragging=function(h,n,B,P,W){if(!h.editingLinearElement)return!1;var wa=h.editingLinearElement,ra=wa.activePointIndex,Aa=wa.isDragging,
Ma=d.getElement(wa.elementId);return Ma?null!=ra&&-1<ra?(!1===Aa&&n({editingLinearElement:ab(ab({},wa),{},{isDragging:!0})}),h=d.createPointAt(Ma,B-wa.pointerOffset.x,P-wa.pointerOffset.y,h.gridSize),d.movePoint(Ma,ra,h),eg(Ma)&&W(Ma,0===ra?"start":"end"),!0):!1:!1},d.handlePointerUp=function(h,n,B){h=n.activePointIndex;var P=n.isDragging,W=d.getElement(n.elementId);if(!W)return n;var wa={};!P||0!==h&&h!==W.points.length-1||(ai(W.points,B.zoom.value)&&d.movePoint(W,h,0===h?W.points[W.points.length-
1]:W.points[0]),P=B.isBindingEnabled?Xh(Bg(d.getPointAtIndexGlobalCoordinates(W,h)),sh.getScene(W)):null,(B={})[0===h?"startBindingElement":"endBindingElement"]=P,wa=B);return ab(ab(ab({},n),wa),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(h,n,B,P,W){var wa={didAddPoint:!1,hitElement:null};if(!n.editingLinearElement)return wa;var ra=d.getElement(n.editingLinearElement.elementId);if(!ra)return wa;if(h.altKey)return null==n.editingLinearElement.lastUncommittedPoint&&bf(ra,
{points:Zk(Zk([],ra.points),[d.createPointAt(ra,W.x,W.y,n.gridSize)])}),P.resumeRecording(),B({editingLinearElement:ab(ab({},n.editingLinearElement),{},{activePointIndex:ra.points.length-1,lastUncommittedPoint:null,endBindingElement:Xh(W,sh.getScene(ra))})}),wa.didAddPoint=!0,wa;h=d.getPointIndexUnderCursor(ra,n.zoom,W.x,W.y);if(-1<h)wa.hitElement=ra;else{var Aa=n.editingLinearElement;P=Aa.startBindingElement;Aa=Aa.endBindingElement;n.isBindingEnabled&&eg(ra)&&Hf(ra,P,Aa)}Aa=Zf(ra);P=(Aa[0]+Aa[2])/
2;Aa=(Aa[1]+Aa[3])/2;ra=-1<h&&zf(ra.x+ra.points[h][0],ra.y+ra.points[h][1],P,Aa,ra.angle);return B({editingLinearElement:ab(ab({},n.editingLinearElement),{},{activePointIndex:-1<h?h:null,pointerOffset:ra?{x:W.x-ra[0],y:W.y-ra[1]}:{x:0,y:0}})}),wa},d.handlePointerMove=function(h,n,B,P,W){var wa=P.lastUncommittedPoint,ra=d.getElement(P.elementId);if(!ra)return P;var Aa=ra.points,Ma=Aa[Aa.length-1];if(!h.altKey)return Ma===wa&&d.movePoint(ra,Aa.length-1,"delete"),ab(ab({},P),{},{lastUncommittedPoint:null});
h=d.createPointAt(ra,n-P.pointerOffset.x,B-P.pointerOffset.y,W);return Ma===wa?d.movePoint(ra,ra.points.length-1,h):d.movePoint(ra,"new",h),ab(ab({},P),{},{lastUncommittedPoint:ra.points[ra.points.length-1]})},d.getPointsGlobalCoordinates=function(h){var n=Zf(h),B=(n[0]+n[2])/2,P=(n[1]+n[3])/2;return h.points.map(function(W){var wa;return[(wa=zf(h.x+W[0],h.y+W[1],B,P,h.angle))[0],wa[1]]})},d.getPointAtIndexGlobalCoordinates=function(h,n){var B=0>n?h.points.length+n:n;n=Zf(h);B=h.points[B];return zf(h.x+
B[0],h.y+B[1],(n[0]+n[2])/2,(n[1]+n[3])/2,h.angle)},d.pointFromAbsoluteCoords=function(h,n){var B=Zf(h);n=zf(n[0],n[1],(B[0]+B[2])/2,(B[1]+B[3])/2,-h.angle);return[n[0]-h.x,n[1]-h.y]},d.getPointIndexUnderCursor=function(h,n,B,P){h=this.getPointsGlobalCoordinates(h);for(var W=h.length;-1<--W;){var wa=h[W];if(Math.hypot(wa[0]-B,wa[1]-P)*n.value<this.POINT_HANDLE_SIZE/2+1)return W}return-1},d.createPointAt=function(h,n,B,P){n=oi(n,B,P);B=Zf(h);n=zf(n[0],n[1],(B[0]+B[2])/2,(B[1]+B[3])/2,-h.angle);return[n[0]-
h.x,n[1]-h.y]},d.normalizePoints=function(h){var n=h.points,B=n[0][0],P=n[0][1];bf(h,{points:n.map(function(W,wa){return[W[0]-B,W[1]-P]}),x:h.x+B,y:h.y+P})},d.movePointByOffset=function(h,n,B){var P=h.points[n];d.movePoint(h,n,[P[0]+B.x,P[1]+B.y])},d.movePoint=function(h,n,B,P){var W=h.points,wa=0,ra=0;if("delete"===B){if("new"===n)throw Error("invalid args in movePoint");(B=W.slice()).splice(n,1);0===n&&(wa=B[0][0],ra=B[0][1],B=B.map(function(hb,lb){return 0===lb?[0,0]:[hb[0]-wa,hb[1]-ra]}))}else if("new"===
n)B=Zk(Zk([],W),[B]);else{var Aa=B[0]-W[n][0],Ma=B[1]-W[n][1];B=W.map(function(hb,lb){return lb===n?0===lb?(wa=Aa,ra=Ma,hb):(wa=0,ra=0,[hb[0]+Aa,hb[1]+Ma]):wa||ra?[hb[0]-wa,hb[1]-ra]:hb})}var Ga=pe(h,B,h.strokeSharpness||"round");W=pe(h,W,h.strokeSharpness||"round");W=zf(wa,ra,(W[0]+W[2])/2-(Ga[0]+Ga[2])/2,(W[1]+W[3])/2-(Ga[1]+Ga[3])/2,h.angle);bf(h,ab(ab({},P),{},{points:B,x:h.x+W[0],y:h.y+W[1]}))},d}();Vf.POINT_HANDLE_SIZE=20;var Pm=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=
h[n];return d},Hf=function(d,h,n){var B=new Set,P=new Set;Fg(d,h,n,"start",B,P);Fg(d,n,h,"end",B,P);h=Array.from(P).filter(function(W){return!B.has(W)});sh.getScene(d).getNonDeletedElements(h).forEach(function(W){var wa;bf(W,{boundElementIds:null===(wa=W.boundElementIds)||void 0===wa?void 0:wa.filter(function(ra){return ra!==d.id})})})},Fg=function(d,h,n,B,P,W){if("keep"!==h)if(null!=h)null!=n&&("keep"===n?wf(d,h,B):"start"!==B&&n.id===h.id)||(Aj(d,h,B),P.add(h.id));else{var wa;h="start"===B?"startBinding":
"endBinding";n=d[h];d=null==n?null:(bf(d,((wa={})[h]=null,wa)),n.elementId);null!=d&&W.add(d)}},mg=function(d){d.forEach(function(h){eg(h)?Hf(h,Ng(h,"start"),Ng(h,"end")):xk(h)&&dm(h)})},dm=function(d){mh(d).forEach(function(h){var n=h[1];return Hf(h[0],"end"===n?"keep":d,"start"===n?"keep":d)})},kk=function(d,h,n,B){null!=h.startBoundElement&&Aj(d,h.startBoundElement,"start");h=Xh(B,n);null==h||wf(d,h,"end")||Aj(d,h,"end")},Aj=function(d,h,n){var B,P;bf(d,((B={})["start"===n?"startBinding":"endBinding"]=
function(W){for(var wa=1;wa<arguments.length;wa++){var ra=null!=arguments[wa]?arguments[wa]:{};wa%2?Jb(Object(ra),!0).forEach(function(Aa){ze()(W,Aa,ra[Aa])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(ra)):Jb(Object(ra)).forEach(function(Aa){Object.defineProperty(W,Aa,Object.getOwnPropertyDescriptor(ra,Aa))})}return W}({elementId:h.id},Pe(d,h,n)),B));bf(h,{boundElementIds:Array.from(new Set(Pm(Pm([],null!==(P=h.boundElementIds)&&void 0!==P?P:[]),[d.id])))})},
wf=function(d,h,n){n=d["start"===n?"endBinding":"startBinding"];return(null==n?void 0:n.elementId)===h.id&&3>d.points.length},bh=function(d){d.forEach(function(h){eg(h)&&Hf(h,null,null)})},Xh=function(d,h){return ki(h.getElements(),function(n){return xk(n)&&Mk(n,d)})},Pe=function(d,h,n){var B="start"===n?-1:1;n=-1===B?0:d.points.length-1;B=n-B;n=Vf.getPointAtIndexGlobalCoordinates(d,n);B=Vf.getPointAtIndexGlobalCoordinates(d,B);a:{d=Il(h);B=Ji(d,gk(B));d=Ji(d,gk(n));var P=hj(ik(d,B));d=h.height/h.width;
B=h.width/2;var W=h.height/2,wa=P[2],ra=P[3];P=P[1];var Aa=Math.abs(ra),Ma=Math.abs(wa);switch(h.type){case "rectangle":case "text":d=P/(B*(Ma+d*Aa));break a;case "diamond":d=Aa<Ma?P/(Ma*B):P/(Aa*W);break a;case "ellipse":d=P/(B*Math.sqrt(Math.pow(wa,2)+Math.pow(d,2)*Math.pow(ra,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,am(h,n))}},xi=function(d,h){var n,B=null!==(n=d.boundElementIds)&&void 0!==n?n:[];if(0!==B.length){h=null!=h?h:{};var P=h.newSize,W=oj(h.simultaneouslyUpdated);sh.getScene(d).getNonDeletedElements(B).forEach(function(wa){var ra,
Aa;if((null===(ra=wa.startBinding)||void 0===ra?void 0:ra.elementId)===d.id||(null===(Aa=wa.endBinding)||void 0===Aa?void 0:Aa.elementId)===d.id)ra=qf(d,wa.startBinding,P),Aa=qf(d,wa.endBinding,P),W.has(wa.id)?bf(wa,{startBinding:ra,endBinding:Aa}):(dn(wa,"start",ra,d),dn(wa,"end",Aa,d))})}},oj=function(d){return new Set((d||[]).map(function(h){return h.id}))},dn=function(d,h,n,B){var P;if(!(null==n||n.elementId!==B.id&&2<d.points.length)){var W=sh.getScene(d).getElement(n.elementId);if(null!=W){var wa=
"start"===h?-1:1;B=-1===wa?0:d.points.length-1;var ra=Vf.getPointAtIndexGlobalCoordinates(d,B-wa);wa=function(Aa,Ma,Ga){if(0===Ma){var hb=Zf(Aa);hb=Ql(hb);return di(hb)}hb=Il(Aa);Ga=Ji(hb,gk(Ga));hb=Gh(hb);switch(Aa.type){case "rectangle":case "text":case "diamond":var lb=fh(Aa,Ma,Ga);break;case "ellipse":var mb=Math.abs(Ma);lb=Aa.width*mb/2;Aa=Aa.height*mb/2;Ma=Math.sign(Ma);mb=di(Ga);Ga=mb[0];mb=mb[1];mb=0===mb?1E-4:mb;var Rb=Math.pow(Ga,2)*Math.pow(Aa,2)+Math.pow(mb,2)*Math.pow(lb,2);Ma=(-Ga*Math.pow(Aa,
2)+Ma*mb*Math.sqrt(Math.max(0,Rb-Math.pow(lb,2)*Math.pow(Aa,2))))/Rb;Ga=(-Ma*Ga-1)/mb;lb=-Math.pow(lb,2)*Ma/(Math.pow(Ga,2)*Math.pow(Aa,2)+Math.pow(Ma,2)*Math.pow(lb,2));lb=wi(lb,(-Ma*lb-1)/Ga)}return di(Ji(hb,lb))}(W,n.focus,ra);0===n.gap?W=wa:(W=function(Aa,Ma,Ga,hb){void 0===hb&&(hb=0);var lb=Il(Aa);Ma=Ji(lb,gk(Ma));Ga=Ji(lb,gk(Ga));Ga=hj(ik(Ga,Ma));var mb=Gh(lb);return zk(Aa,Ga,Ma,hb).map(function(Rb){return di(Ji(mb,Rb))})}(W,ra,wa,n.gap),W=0===W.length?wa:W[0]);Vf.movePoint(d,B,Vf.pointFromAbsoluteCoords(d,
W),((P={})["start"===h?"startBinding":"endBinding"]=n,P))}}},qf=function(d,h,n){if(null==h||null==n)return h;var B=h.gap,P=h.focus,W=n.width;n=n.height;var wa=d.width,ra=d.height;return{elementId:h.elementId,gap:Math.max(1,Math.min(Wi(d,W,n),B*(W<n?W/wa:n/ra))),focus:P}},Fl=function(d){return[Ng(d,"start"),Ng(d,"end")].filter(function(h){return null!=h})},Ng=function(d,h){return Xh(Bg(Vf.getPointAtIndexGlobalCoordinates(d,"start"===h?0:-1)),sh.getScene(d))},mh=function(d){return sh.getScene(d).getElements().map(function(h){if(!eg(h))return null;
var n=Wf(h,"start",d),B=Wf(h,"end",d);return n||B?[h,n&&B?"both":n?"start":"end",d]:null}).filter(function(h){return null!=h})},Wf=function(d,h,n){return null==d["start"===h?"startBinding":"endBinding"]&&!wf(d,n,h)&&Mk(n,Bg(Vf.getPointAtIndexGlobalCoordinates(d,"start"===h?0:-1)))},Wj=function(d,h,n,B){var P=new Set,W=new Set,wa="duplicatesServeAsOld"===B;h.forEach(function(ra){var Aa=ra.boundElementIds;if(null!=Aa&&0<Aa.length&&(Aa.forEach(function(Ma){wa&&!n.has(Ma)&&P.add(Ma)}),W.add(n.get(ra.id))),
eg(ra))null!=ra.startBinding&&(Aa=ra.startBinding.elementId,wa&&!n.has(Aa)&&W.add(Aa)),null!=ra.endBinding&&(Aa=ra.endBinding.elementId,wa&&!n.has(Aa)&&W.add(Aa)),null==ra.startBinding&&null==ra.endBinding||P.add(n.get(ra.id))});d.filter(function(ra){return P.has(ra.id)}).forEach(function(ra){var Aa=ra.endBinding;bf(ra,{startBinding:Ah(ra.startBinding,n),endBinding:Ah(Aa,n)})});d.filter(function(ra){return W.has(ra.id)}).forEach(function(ra){var Aa=ra.boundElementIds;null!=Aa&&0<Aa.length&&bf(ra,
{boundElementIds:Aa.map(function(Ma){var Ga;return null!==(Ga=n.get(Ma))&&void 0!==Ga?Ga:Ma})})})},Ah=function(d,h){var n;if(null==d)return null;var B=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(n=h.get(B))&&void 0!==n?n:B}},pj=function(d,h){var n=new Set(h.map(function(P){return P.id})),B=new Set;h.forEach(function(P){var W;xk(P)&&(null===(W=P.boundElementIds)||void 0===W||W.forEach(function(wa){n.has(wa)||B.add(wa)}))});d.filter(function(P){return B.has(P.id)}).forEach(function(P){var W=
P.endBinding;bf(P,{startBinding:lm(P.startBinding,n),endBinding:lm(W,n)})})},lm=function(d,h){return null==d||h.has(d.elementId)?null:d},qj=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Ef=function(d){return d>=2*Math.PI?d-2*Math.PI:d},df=function(d,h,n){return Eg(d)?{points:Di(0,h,Di(1,n,d.points))}:{}},Og=function(d,h,n){h=h/d.width*d.fontSize;if(1>h)return null;d=Si(d.text,Ri({fontSize:h,fontFamily:d.fontFamily}));return{size:h,baseline:d.baseline+(n-d.height)}},
Gl=function(d,h,n,B){var P=zg(d),W=P[0],wa=P[1],ra=P[2],Aa=P[3];switch(h){case "se":var Ma=Math.max((n-W)/(ra-W),(B-wa)/(Aa-wa));var Ga=function(lb,mb,Rb){var Ob=mb[0];mb=mb[1];return{x:lb.x+(Ob-W)*(Ma-1)+Ob-Rb[0],y:lb.y+(mb-wa)*(Ma-1)+mb-Rb[1]}};break;case "nw":Ma=Math.max((ra-n)/(ra-W),(Aa-B)/(Aa-wa));Ga=function(lb,mb,Rb){var Ob=mb[2];mb=mb[3];return{x:lb.x-(ra-Ob)*(Ma-1)+Ob-Rb[2],y:lb.y-(Aa-mb)*(Ma-1)+mb-Rb[3]}};break;case "ne":Ma=Math.max((n-W)/(ra-W),(Aa-B)/(Aa-wa));Ga=function(lb,mb,Rb){var Ob=
mb[0];mb=mb[3];return{x:lb.x+(Ob-W)*(Ma-1)+Ob-Rb[0],y:lb.y-(Aa-mb)*(Ma-1)+mb-Rb[3]}};break;case "sw":Ma=Math.max((ra-n)/(ra-W),(B-wa)/(Aa-wa)),Ga=function(lb,mb,Rb){var Ob=mb[1];mb=mb[2];return{x:lb.x-(ra-mb)*(Ma-1)+mb-Rb[2],y:lb.y+(Ob-wa)*(Ma-1)+Ob-Rb[1]}}}if(0<Ma){var hb=d.reduce(function(lb,mb){if(!lb)return lb;var Rb=mb.width*Ma,Ob=mb.height*Ma,tc={};if("text"===mb.type){tc=Og(mb,Rb,Ob);if(null===tc)return null;tc={fontSize:tc.size,baseline:tc.baseline}}var Zc=Zf(mb),dd=df(mb,Rb,Ob);xi(mb,{newSize:{width:Rb,
height:Ob},simultaneouslyUpdated:d});var pd=Rg(oc(oc({},mb),dd),Rb,Ob);Zc=Ga(mb,Zc,pd);mb=Zc.x;Zc=Zc.y;return qj(qj([],lb),[oc(oc({width:Rb,height:Ob,x:mb,y:Zc},dd),tc)])},[]);hb&&d.forEach(function(lb,mb){bf(lb,hb[mb])})}},nl=function(d,h,n,B,P,W,wa){var ra=5*Math.PI/2+Math.atan2(B-wa,n-W);P&&(ra+=Oa.ay/2,ra-=ra%Oa.ay);h.forEach(function(Aa,Ma){var Ga,hb,lb=Zf(Aa);Ma=(lb[0]+lb[2])/2;lb=(lb[1]+lb[3])/2;var mb=null!==(Ga=null===(hb=d.originalElements.get(Aa.id))||void 0===hb?void 0:hb.angle)&&void 0!==
Ga?Ga:Aa.angle;Ga=zf(Ma,lb,W,wa,ra+mb-Aa.angle);bf(Aa,{x:Aa.x+(Ga[0]-Ma),y:Aa.y+(Ga[1]-lb),angle:Ef(ra+mb)})})},ii=function(d,h,n,B,P,W,wa,ra,Aa,Ma){var Ga;Aa&&(wa=(Ga=Ie(h,wa,W<B?-ra:ra)).width,0>(ra=Ga.height)&&(ra=-ra));h=P<n?n-wa:n;W=W<B?B-ra:B;Ma&&(h=n-(wa+=wa)/2,W=B-(ra+=ra)/2);0!==wa&&0!==ra&&bf(d,{x:h,y:W,width:wa,height:ra})},Rk=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},qk=function(d){var h=Si(d.text,Ri(d));bf(d,{width:h.width,height:h.height,baseline:h.baseline})},
kh=function(d,h){return!(d.viewModeEnabled||!d.editingElement&&!of(h,d).length&&"selection"===d.elementType)},Nk=function(d){return d.filter(function(h){return h.isDeleted||!Mh(h)})},Xi=function(d){return d.reduce(function(h,n){return h[n.id]=n,h},{})},Yk=function(d){return d.reduce(function(h,n){return h+n.version},0)},Wd=function(d){return d.filter(function(h){return!h.isDeleted})},vf=function(d){return Wd(d).map(function(h){return dj(h.type)?xc(xc({},h),{},{lastCommittedPoint:null}):h})},hi=function(d,
h,n){var B=[d.horizontal,d.vertical].map(function(P){return null!=P&&P.x<=h&&h<=P.x+P.width&&P.y<=n&&n<=P.y+P.height});d=B[0];B=B[1];return{isOverEither:d||B,isOverHorizontal:d,isOverVertical:B}},jg=function(d,h){return d.some(function(n){return h.selectedElementIds[n.id]})},of=function(d,h){return d.filter(function(n){return h.selectedElementIds[n.id]})},lk=function(d,h){return h.editingElement?[h.editingElement]:of(d,h)},Ti=function(d){var h=d.scenePoint,n=d.viewportDimensions;d=d.zoom;return{scrollX:n.width/
2*(1/d.value)-h.x-1/d.value*d.translation.x,scrollY:n.height/2*(1/d.value)-h.y-1/d.value*d.translation.y}},ji=function(d,h,n){var B;if(!d.length)return{scrollX:0,scrollY:0};var P=zg(d);n=P[0];var W=P[1],wa=P[2];P=P[3];return function(ra,Aa,Ma){Aa=Ma[2];var Ga=Ma[3],hb=dh({sceneX:Ma[0],sceneY:Ma[1]},ra);Ma=hb.x;hb=hb.y;Aa=dh({sceneX:Aa,sceneY:Ga},ra);Ga=Aa.y;return Aa.x-Ma>ra.width||Ga-hb>ra.height}(h,0,[n,W,wa,P])&&(n=(B=function(ra,Aa){if(!ra.length)return[0,0,0,0];var Ma=1/0,Ga=ra[0];return ra.forEach(function(hb){var lb=
pi(hb);lb=Math.hypot(Aa.x-(lb[0]+lb[2])/2,Aa.y-(lb[1]+lb[3])/2);lb<Ma&&(Ma=lb,Ga=hb)}),pi(Ga)}(d,lg({clientX:h.scrollX,clientY:h.scrollY},h)))[0],W=B[1],wa=B[2],P=B[3]),Ti({scenePoint:{x:(n+wa)/2,y:(W+P)/2},viewportDimensions:{width:h.width,height:h.height},zoom:h.zoom})},Kj=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Kf=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},rk=function(d){return"rectangle"===
d||"arrow"===d||"draw"===d||"line"===d},ki=function(d,h){for(var n=null,B=d.length-1;0<=B;--B){var P=d[B];if(!P.isDeleted&&h(P)){n=P;break}}return n},Yh=function(d,h,n,B){return void 0===B&&(B={x:0,y:0}),{value:d,translation:{x:B.x-n.left-d/h.value*(B.x-n.left-h.translation.x),y:B.y-n.top-d/h.value*(B.y-n.top-h.translation.y)}}},Rj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,10))},$e=(g(9478),R().forwardRef(function(d,h){var n=R().useRef(null);R().useImperativeHandle(h,function(){return n.current});
h="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?R().createElement("button",{className:Kc("ToolIcon_type_button",h,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:n},R().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&R().createElement("span",
{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&R().createElement("div",{className:"ToolIcon__label"},d["aria-label"]),d.children):R().createElement("label",{className:Kc("ToolIcon",d.className),title:d.title},R().createElement("input",{className:"ToolIcon_type_radio ".concat(h),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:n}),R().createElement("div",
{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&R().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)))}));$e.defaultProps={visible:!0,className:""};var vg=function(d){return"light"===d?se.$y[4]:se.$y[9]},le=function(d){return"light"===d?se.Sn:se.MA[4]},Gg=function(d){return"light"===d?se.ix:"#1e1e1e"},ke=function(d,h){void 0===h&&(h=512);h="number"==typeof h?{width:h}:h;var n=h.width;n=void 0===n?512:n;var B=h.height;B=void 0===B?n:B;var P=h.mirror;h=h.style;return R().createElement("svg",
{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(n," ").concat(B),className:Kc({"rtl-mirror":P}),style:h},"string"==typeof d?R().createElement("path",{fill:"currentColor",d}):d)},ol=ke("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),re=ke("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),ym=ke("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),mm=ke("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),tk=ke("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ni=ke("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),$i=ke("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
nh=ke("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),li=ke("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Bj=ke("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),sk=ke("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Sk=ke("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
ch=ke("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Cj=ke("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),$c=ke("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),Td=(ke("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),ke("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),ke(R().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),qd=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,
null,R().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:le(d),stroke:le(d),strokeWidth:"2"}),R().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Dd=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,
null,R().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:vg(d),stroke:vg(d),strokeWidth:"2"}),R().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:le(d),stroke:le(d),strokeWidth:"2"})),{width:24,mirror:!0})}),mi=R().memo(function(d){d=d.appearance;
return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:le(d),stroke:le(d),strokeWidth:"2"}),R().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Af=R().memo(function(d){d=d.appearance;
return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:vg(d),stroke:vg(d),strokeLinejoin:"round",strokeWidth:"2"}),R().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:le(d),stroke:le(d),strokeLinejoin:"round",strokeWidth:"2"})),{width:24,mirror:!0})}),
Bh=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 2,5 H 22",fill:le(d),stroke:le(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:vg(d),
stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),wg=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 2,19 H 22",fill:le(d),stroke:le(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Lj=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 5,2 V 22",fill:le(d),stroke:le(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),on=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 19,2 V 22",fill:le(d),stroke:le(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),Qc=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M5 5V19Z",fill:"black"}),R().createElement("path",{d:"M19 5V19M5 5V19",stroke:le(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),Cd=R().memo(function(d){d=
d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M5 5L19 5M5 19H19",fill:le(d),stroke:le(d),strokeWidth:"2",strokeLinecap:"round"}),R().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),Ch=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"}),R().createElement("path",{d:"M 2,12 H 22",fill:le(d),stroke:le(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),ad=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",
fill:vg(d),stroke:vg(d),strokeWidth:"2"}),R().createElement("path",{d:"M 12,2 V 22",fill:le(d),stroke:le(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})}),Tj=ke("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),Sj=(ke("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ke("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ke("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),aj=ke("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Mf=ke("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Dg=ke("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Id=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M25 26H111V111H25",
fill:le(d)}),R().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:le(d),strokeWidth:"2"}),R().createElement("path",{d:"M100 100H160V160H100",fill:le(d)}),R().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:le(d),strokeWidth:"2"}),R().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Gg(d),stroke:le(d),strokeWidth:"6"}),R().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30",fill:Gg(d),stroke:le(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Gg(d),stroke:le(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Gg(d),stroke:le(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),
Mj=R().memo(function(d){d=d.appearance;return ke(R().createElement(R().Fragment,null,R().createElement("path",{d:"M25 26H111V111H25",fill:le(d)}),R().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",
stroke:le(d),strokeWidth:"2"}),R().createElement("path",{d:"M100 100H160V160H100",fill:le(d)}),R().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:le(d),strokeWidth:"2"}),
R().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Gg(d),stroke:le(d),strokeWidth:"6"}),R().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Gg(d),stroke:le(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Gg(d),stroke:le(d),strokeWidth:"6"}),R().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Gg(d),stroke:le(d),strokeWidth:"6"}),R().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30",
fill:Gg(d),stroke:le(d),strokeWidth:"6"}),R().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Gg(d),stroke:le(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),zm=R().memo(function(d){d=d.appearance;return ke(R().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:le(d)}),{width:40,height:20})}),Li=R().memo(function(d){d=d.appearance;return ke(R().createElement("g",{fill:le(d),fillRule:"evenodd",clipRule:"evenodd"},R().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),R().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),be=R().memo(function(d){d=d.appearance;return ke(R().createElement("path",{d:"M2 2H38V18H2V2Z",fill:le(d)}),{width:40,height:20})}),xl=R().memo(function(d){var h=d.appearance;d=d.strokeWidth;return ke(R().createElement("path",{d:"M6 10H34",stroke:le(h),strokeWidth:d,fill:"none"}),{width:40,height:20})}),Lg=R().memo(function(d){d=d.appearance;return ke(R().createElement("path",{d:"M6 10H34",stroke:le(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),wj=R().memo(function(d){d=
d.appearance;return ke(R().createElement("path",{d:"M6 10H34",stroke:le(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),ce=R().memo(function(d){d=d.appearance;return ke(R().createElement("path",{d:"M6 10H34",stroke:le(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),$h=R().memo(function(d){d=d.appearance;return ke(R().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:le(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Cg=R().memo(function(d){d=d.appearance;return ke(R().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:le(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),nm=R().memo(function(d){d=
d.appearance;return ke(R().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:le(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),um=R().memo(function(d){d=d.appearance;return ke(R().createElement("path",
{d:"M10 17L10 5L35 5",stroke:le(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Dj=R().memo(function(d){d=d.appearance;return ke(R().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:le(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),$k=R().memo(function(d){d=d.appearance;return ke(R().createElement("path",{d:"M6 10H34",stroke:le(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Am=R().memo(function(d){var h=d.appearance;d=d.flip;d=void 0!==d&&
d;return ke(R().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:le(h),strokeWidth:2,fill:"none"},R().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),R().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),yl=R().memo(function(d){var h=d.appearance;d=d.flip;d=void 0!==d&&d;return ke(R().createElement("g",{stroke:le(h),fill:le(h),transform:d?"translate(40, 0) scale(-1, 1)":""},R().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),R().createElement("circle",
{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),jh=R().memo(function(d){var h=d.appearance;d=d.flip;d=void 0!==d&&d;return ke(R().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},R().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:le(h),strokeWidth:2,fill:"none"})),{width:40,height:20})}),al=[],Ud=function(d){return al=al.concat(d),d},Ze=function(d,h){var n;return d.editingGroupId&&(h=ek(Wd(h),d.editingGroupId),h.length)?id(id({},d),{},
{selectedElementIds:(n={},n[h[0].id]=!0,n)}):d},pn=Ud({name:"deleteSelectedElements",perform:function(d,h){if(h.editingLinearElement){var n=h.editingLinearElement,B=n.activePointIndex,P=n.startBindingElement,W=n.endBindingElement,wa=Vf.getElement(n.elementId);if(!wa)return!1;if(null==B||-1===B||2>wa.points.length)return d=d.filter(function(ra){return ra.id!==wa.id}),{elements:d,appState:id(id({},Ze(h,d)),{},{editingLinearElement:null}),commitToHistory:!1};n={startBindingElement:0===B?null:P,endBindingElement:B===
wa.points.length-1?null:W};return Vf.movePoint(wa,B,"delete"),{elements:d,appState:id(id({},h),{},{editingLinearElement:id(id(id({},h.editingLinearElement),n),{},{activePointIndex:0<B?B-1:0})}),commitToHistory:!0}}n=function(ra,Aa){return{elements:ra.map(function(Ma){return Aa.selectedElementIds[Ma.id]?qg(Ma,{isDeleted:!0}):Ma}),appState:id(id({},Aa),{},{selectedElementIds:{}})}}(d,h);B=n.elements;n=n.appState;return pj(B,d.filter(function(ra){return h.selectedElementIds[ra.id]})),{elements:B,appState:id(id({},
n=Ze(n,B)),{},{elementType:"selection",multiElement:null}),commitToHistory:jg(Wd(d),h)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{type:"button",icon:Ni,title:Mb("labels.delete"),"aria-label":Mb("labels.delete"),onClick:function(){return B(null)},visible:jg(Wd(h),n)})}}),Dh=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];
return d},rg=function(d,h){for(var n=[],B=[],P=null,W=-1;++W<d.length;)h.selectedElementIds[d[W].id]?(B.length&&(n=n.concat(B),B=[]),n.push(W),P=W+1):d[W].isDeleted&&P===W?(P=W+1,B.push(W)):B=[];return n},Ai=function(d,h,n,B){var P=h[n],W=function(wa){return!wa.isDeleted&&(!d.editingGroupId||wa.groupIds.includes(d.editingGroupId))};n="left"===B?function(wa,ra,Aa){void 0===Aa&&(Aa=wa.length-1);0>Aa&&(Aa=wa.length+Aa);for(Aa=Math.min(wa.length-1,Math.max(Aa,0))+1;-1<--Aa;)if(ra(wa[Aa],Aa,wa))return Aa;
return-1}(h,W,Math.max(0,n-1)):function(wa,ra,Aa){void 0===Aa&&(Aa=0);0>Aa&&(Aa=wa.length+Aa);for(Aa=Math.min(wa.length,Math.max(Aa,0))-1;++Aa<wa.length;)if(ra(wa[Aa],Aa,wa))return Aa;return-1}(h,W,n+1);W=h[n];if(!W)return-1;if(d.editingGroupId){if((null==P?void 0:P.groupIds.join(""))===(null==W?void 0:W.groupIds.join("")))return n;if(null==W||!W.groupIds.includes(d.editingGroupId))return-1}if(!W.groupIds.length)return n;P=d.editingGroupId?W.groupIds[W.groupIds.indexOf(d.editingGroupId)-1]:W.groupIds[W.groupIds.length-
1];P=ek(h,P);return P.length?"left"===B?h.indexOf(P[0]):h.indexOf(P[P.length-1]):n},sg=function(d,h,n){var B,P=rg(h,d),W=(B=0,P.reduce(function(wa,ra,Aa){return 0<Aa&&P[Aa-1]!==ra-1&&(B=++B),(wa[B]||(wa[B]=[])).push(ra),wa},[]));return"right"===n&&(W=W.reverse()),W.forEach(function(wa,ra){ra=wa[0];wa=wa[wa.length-1];var Aa="left"===n?ra:wa,Ma=Ai(d,h,Aa,n);if(-1!==Ma&&Aa!==Ma){Aa="left"===n?h.slice(0,Ma):h.slice(0,ra);var Ga=h.slice(ra,wa+1);ra="left"===n?h.slice(Ma,ra):h.slice(wa+1,Ma+1);wa="left"===
n?h.slice(wa+1):h.slice(Ma+1);h=Dh("left"===n?Dh(Dh(Dh([],Aa),Ga),ra):Dh(Dh(Dh([],Aa),ra),Ga),wa)}}),h},Qg=function(d,h,n){var B=rg(d,h),P=[],W=[];if("left"===n){if(h.editingGroupId){if(!(h=ek(d,h.editingGroupId)).length)return d;var wa=d.indexOf(h[0])}else wa=0;h=B[B.length-1]}else{if(h.editingGroupId){if(!(h=ek(d,h.editingGroupId)).length)return d;h=d.indexOf(h[h.length-1])}else h=d.length-1;wa=B[0]}for(var ra=wa;ra<h+1;ra++)B.includes(ra)?P.push(d[ra]):W.push(d[ra]);B=d.slice(0,wa);d=d.slice(h+
1);return Dh("left"===n?Dh(Dh(Dh([],B),P),W):Dh(Dh(Dh([],B),W),P),d)},Xf=Ud({name:"sendBackward",perform:function(d,h){return{elements:sg(h,d.slice(),"left"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[Te]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var h=d.updateData;d=d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return h(null)},title:"".concat(Mb("labels.sendBackward"),
" — ").concat(Od("CtrlOrCmd+["))},R().createElement(Dd,{appearance:d.appearance}))}}),Hl=Ud({name:"bringForward",perform:function(d,h){return{elements:sg(h,d.slice(),"right"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[Te]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var h=d.updateData;d=d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return h(null)},
title:"".concat(Mb("labels.bringForward")," — ").concat(Od("CtrlOrCmd+]"))},R().createElement(qd,{appearance:d.appearance}))}}),f=Ud({name:"sendToBack",perform:function(d,h){return{elements:Qg(d,h,"left"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return Kg?d[Te]&&d.altKey&&"BracketLeft"===d.code:d[Te]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var h=d.updateData;d=d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return h(null)},title:"".concat(Mb("labels.sendToBack")," — ").concat(Od(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},R().createElement(Af,{appearance:d.appearance}))}}),A=Ud({name:"bringToFront",perform:function(d,h){return{elements:Qg(d,h,"right"),appState:h,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return Kg?d[Te]&&d.altKey&&"BracketRight"===d.code:d[Te]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var h=d.updateData;d=
d.appState;return R().createElement("button",{type:"button",className:"zIndexButton",onClick:function(n){return h(null)},title:"".concat(Mb("labels.bringToFront")," — ").concat(Od(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},R().createElement(mi,{appearance:d.appearance}))}}),V=Ud({name:"selectAll",perform:function(d,h){return!h.editingLinearElement&&{appState:Rh(ed(ed({},h),{},{editingGroupId:null,selectedElementIds:d.reduce(function(n,B){return B.isDeleted||(n[B.id]=!0),n},{})}),Wd(d)),commitToHistory:!0}},
contextItemLabel:"labels.selectAll",keyTest:function(d){return d[Te]&&"a"===d.key}}),U=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},ea=Ud({name:"duplicateSelection",perform:function(d,h){if(h.editingLinearElement){var n=h.editingLinearElement,B=n.activePointIndex;n=Vf.getElement(n.elementId);if(!n||null===B)return!1;var P=n.points,W=P[B],wa=P[B+1];return bf(n,{points:U(U(U([],P.slice(0,B+1)),[wa?[(W[0]+wa[0])/2,(W[1]+wa[1])/2]:[W[0]+30,W[1]+30]]),P.slice(B+1))}),
{appState:ne(ne({},h),{},{editingLinearElement:ne(ne({},h.editingLinearElement),{},{activePointIndex:B+1})}),elements:d,commitToHistory:!0}}return ne(ne({},Ba(d,h)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[Te]&&"d"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{type:"button",icon:Mf,title:"".concat(Mb("labels.duplicateSelection")," — ").concat(Od("CtrlOrCmd+D")),"aria-label":Mb("labels.duplicateSelection"),
onClick:function(){return B(null)},visible:jg(Wd(h),n)})}}),Ba=function(d,h){for(var n=new Map,B=[],P=[],W=new Map,wa=function(hb){var lb=Vi(h.editingGroupId,n,hb,{x:hb.x+Oa.k/2,y:hb.y+Oa.k/2});return W.set(hb.id,lb.id),P.push(hb),B.push(lb),lb},ra=[],Aa=0;Aa<d.length;){var Ma=d[Aa];if(h.selectedElementIds[Ma.id]){if(Ma.groupIds.length){var Ga=th(h,Ma);if(Ga){Ma=ek(d,Ga);ra.push.apply(ra,U(U([],Ma),Ma.map(function(hb){return wa(hb)})));Aa+=Ma.length;continue}}ra.push(Ma,wa(Ma))}else ra.push(Ma);Aa++}return Wj(ra,
P,W),{elements:ra,appState:Rh(ne(ne({},h),{},{selectedGroupIds:{},selectedElementIds:B.reduce(function(hb,lb){return hb[lb.id]=!0,hb},{})}),Wd(ra))}},Ka=function(d){var h=d.options,n=d.value,B=d.onChange,P=d.group;return R().createElement("div",{className:"buttonList buttonListIcon"},h.map(function(W){return R().createElement("label",{key:W.text,className:Kc({active:n===W.value}),title:W.text},R().createElement("input",{type:"radio",name:P,onChange:function(){return B(W.value)},checked:n===W.value}),
W.icon)}))},Sa=function(d){var h=d.options,n=d.value,B=d.onChange,P=d.group;return R().createElement("div",{className:"buttonList"},h.map(function(W){return R().createElement("label",{key:W.text,className:Kc({active:n===W.value})},R().createElement("input",{type:"radio",name:P,onChange:function(){return B(W.value)},checked:n===W.value}),W.text)}))},fb=(g(2816),function(d){var h=d.children,n=d.left,B=d.top,P=d.onCloseRequest;d=d.fitInViewport;var W=void 0!==d&&d,wa=(0,Z.useRef)(null);return(0,Z.useLayoutEffect)(function(){if(W&&
wa.current){var ra=wa.current,Aa=ra.getBoundingClientRect(),Ma=Aa.y,Ga=Aa.width,hb=Aa.height,lb=window.innerWidth;Aa.x+Ga>lb&&(ra.style.left="".concat(lb-Ga,"px"));Aa=window.innerHeight;Ma+hb>Aa&&(ra.style.top="".concat(Aa-hb,"px"))}},[W]),(0,Z.useEffect)(function(){if(P){var ra=function(Aa){var Ma;null!==(Ma=wa.current)&&void 0!==Ma&&Ma.contains(Aa.target)||(0,Rf.unstable_batchedUpdates)(function(){return P(Aa)})};return document.addEventListener("pointerdown",ra,!1),function(){return document.removeEventListener("pointerdown",
ra,!1)}}},[P]),R().createElement("div",{className:"popover",style:{top:B,left:n},ref:wa},h)}),yb=(g(5574),function(d){var h=(new Option).style;return h.color=d,!!h.color}),Hb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),hc=function(d){var h=d.colors,n=d.color,B=d.onChange,P=d.onClose,W=d.label,wa=d.showInput,ra=void 0===wa||wa;d=d.type;var Aa=R().useRef(),Ma=R().useRef(),Ga=R().useRef(),hb=R().useRef();R().useEffect(function(){Ma.current?Ma.current.focus():hb.current?
hb.current.focus():Ga.current&&Ga.current.focus()},[]);return R().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":Mb("labels.colorPicker"),onKeyDown:function(lb){if("Tab"===lb.key){var mb,Rb=document.activeElement;if(lb.shiftKey)Rb===Aa.current&&(null===(mb=hb.current)||void 0===mb||mb.focus(),lb.preventDefault());else if(Rb===hb.current){var Ob;null===(Ob=Aa.current)||void 0===Ob||Ob.focus();lb.preventDefault()}}else pg(lb.key)?
(Rb=document.activeElement,mb=yf.rtl,-1!==(Ob=Array.prototype.indexOf.call(Ga.current.children,Rb))&&(Rb=Ga.current.children.length-(ra?1:0),Ga.current.children[lb.key===(mb?"ArrowLeft":"ArrowRight")?(Ob+1)%Rb:lb.key===(mb?"ArrowRight":"ArrowLeft")?(Rb+Ob-1)%Rb:"ArrowDown"===lb.key?(Ob+5)%Rb:"ArrowUp"===lb.key?(Rb+Ob-5)%Rb:Ob].focus()),lb.preventDefault()):Hb.includes(lb.key.toLowerCase())&&!Ag(lb.target)?(Ob=Hb.indexOf(lb.key.toLowerCase()),Ga.current.children[Ob].focus(),lb.preventDefault()):"Escape"!==
lb.key&&"Enter"!==lb.key||(lb.preventDefault(),P());lb.nativeEvent.stopImmediatePropagation()}},R().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),R().createElement("div",{className:"color-picker-triangle"}),R().createElement("div",{className:"color-picker-content",ref:function(lb){lb&&(Ga.current=lb)},tabIndex:0},h.map(function(lb,mb){return R().createElement("button",{className:"color-picker-swatch",onClick:function(Rb){Rb.currentTarget.focus();B(lb)},title:"".concat(lb,
" — ").concat(Hb[mb].toUpperCase()),"aria-label":lb,"aria-keyshortcuts":Hb[mb],style:{color:lb},key:lb,ref:function(Rb){Rb&&0===mb&&(Aa.current=Rb);Rb&&lb===n&&(Ma.current=Rb)},onFocus:function(){B(lb)}},"transparent"===lb?R().createElement("div",{className:"color-picker-transparent"}):void 0,R().createElement("span",{className:"color-picker-keybinding"},Hb[mb]))}),ra&&R().createElement(bc,{color:n,label:W,onChange:function(lb){B(lb)},ref:hb})))},bc=R().forwardRef(function(d,h){var n=d.color,B=d.onChange;
d=d.label;var P=R().useState(n),W=P[0],wa=P[1],ra=R().useRef(null);R().useEffect(function(){wa(n)},[n]);R().useImperativeHandle(h,function(){return ra.current});var Aa=R().useCallback(function(Ma){Ma=Ma.toLowerCase();var Ga;(Ga="transparent"===Ma||yb(Ma)?Ma:yb("#".concat(Ma))?"#".concat(Ma):null)&&B(Ga);wa(Ma)},[B]);return R().createElement("label",{className:"color-input-container"},R().createElement("div",{className:"color-picker-hash"},"#"),R().createElement("input",{spellCheck:!1,className:"color-picker-input",
"aria-label":d,onChange:function(Ma){return Aa(Ma.target.value)},value:(W||"").replace(/^#/,""),onBlur:function(){return wa(n)},ref:ra}))}),mc=function(d){var h=d.type,n=d.color,B=d.onChange;d=d.label;var P=R().useState(!1),W=P[0],wa=P[1],ra=R().useRef(null);return R().createElement("div",null,R().createElement("div",{className:"color-picker-control-container"},R().createElement("button",{className:"color-picker-label-swatch","aria-label":d,style:n?{"--swatch-color":n}:void 0,onClick:function(){return wa(!W)},
ref:ra}),R().createElement(bc,{color:n,label:d,onChange:function(Aa){B(Aa)}})),R().createElement(R().Suspense,{fallback:""},W?R().createElement(fb,{onCloseRequest:function(Aa){return Aa.target!==ra.current&&wa(!1)}},R().createElement(hc,{colors:Dk[h],color:n||null,onChange:function(Aa){B(Aa)},onClose:function(){var Aa;wa(!1);null===(Aa=ra.current)||void 0===Aa||Aa.focus()},label:d,showInput:!1,type:h})):null))},Uc=g(6950),Yc=g.n(Uc);g(7143);var he=function(d,h,n){return d.map(function(B){var P;return h.selectedElementIds[B.id]||
B.id===(null===(P=h.editingElement)||void 0===P?void 0:P.id)?n(B):B})},hg=function(d,h,n,B){var P,W,wa=h.editingElement;d=Wd(d);return null!==(P=null!==(W=wa&&n(wa))&&void 0!==W?W:jg(d,h)?function(ra,Aa,Ma){ra=Array.from(new Set(of(ra,Aa).map(function(Ga){return Ma(Ga)})));return 1===ra.length?ra[0]:null}(d,h,n):B)&&void 0!==P?P:null},qe=(Ud({name:"changeStrokeColor",perform:function(d,h,n){return{elements:he(d,h,function(B){return qg(B,{strokeColor:n})}),appState:me(me({},h),{},{currentItemStrokeColor:n}),
commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState;d=d.updateData;return R().createElement(R().Fragment,null,R().createElement("h3",{"aria-hidden":"true"},Mb("labels.stroke")),R().createElement(mc,{type:"elementStroke",label:Mb("labels.stroke"),color:hg(h,n,function(B){return B.strokeColor},n.currentItemStrokeColor),onChange:d}))}}),Ud({name:"changeBackgroundColor",perform:function(d,h,n){return{elements:he(d,h,function(B){return qg(B,{backgroundColor:n})}),appState:me(me({},
h),{},{currentItemBackgroundColor:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState;d=d.updateData;return R().createElement(R().Fragment,null,R().createElement("h3",{"aria-hidden":"true"},Mb("labels.background")),R().createElement(mc,{type:"elementBackground",label:Mb("labels.background"),color:hg(h,n,function(B){return B.backgroundColor},n.currentItemBackgroundColor),onChange:d}))}}),Ud({name:"changeFillStyle",perform:function(d,h,n){return{elements:he(d,h,function(B){return qg(B,
{fillStyle:n})}),appState:me(me({},h),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.fill")),R().createElement(Ka,{options:[{value:"hachure",text:Mb("labels.hachure"),icon:R().createElement(zm,{appearance:n.appearance})},{value:"cross-hatch",text:Mb("labels.crossHatch"),icon:R().createElement(Li,{appearance:n.appearance})},{value:"solid",text:Mb("labels.solid"),
icon:R().createElement(be,{appearance:n.appearance})}],group:"fill",value:hg(h,n,function(P){return P.fillStyle},n.currentItemFillStyle),onChange:function(P){B(P)}}))}}),Ud({name:"changeStrokeWidth",perform:function(d,h,n){return{elements:he(d,h,function(B){return qg(B,{strokeWidth:n})}),appState:me(me({},h),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",
null,Mb("labels.strokeWidth")),R().createElement(Ka,{group:"stroke-width",options:[{value:1,text:Mb("labels.thin"),icon:R().createElement(xl,{appearance:n.appearance,strokeWidth:2})},{value:2,text:Mb("labels.bold"),icon:R().createElement(xl,{appearance:n.appearance,strokeWidth:6})},{value:4,text:Mb("labels.extraBold"),icon:R().createElement(xl,{appearance:n.appearance,strokeWidth:10})}],value:hg(h,n,function(P){return P.strokeWidth},n.currentItemStrokeWidth),onChange:function(P){return B(P)}}))}}),
Ud({name:"changeSloppiness",perform:function(d,h,n){return{elements:he(d,h,function(B){return qg(B,{seed:bk(),roughness:n})}),appState:me(me({},h),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.sloppiness")),R().createElement(Ka,{group:"sloppiness",options:[{value:0,text:Mb("labels.architect"),icon:R().createElement($h,{appearance:n.appearance})},
{value:1,text:Mb("labels.artist"),icon:R().createElement(Cg,{appearance:n.appearance})},{value:2,text:Mb("labels.cartoonist"),icon:R().createElement(nm,{appearance:n.appearance})}],value:hg(h,n,function(P){return P.roughness},n.currentItemRoughness),onChange:function(P){return B(P)}}))}}),Ud({name:"changeStrokeStyle",perform:function(d,h,n){return{elements:he(d,h,function(B){return qg(B,{strokeStyle:n})}),appState:me(me({},h),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(d){var h=
d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.strokeStyle")),R().createElement(Ka,{group:"strokeStyle",options:[{value:"solid",text:Mb("labels.strokeStyle_solid"),icon:R().createElement(Lg,{appearance:n.appearance})},{value:"dashed",text:Mb("labels.strokeStyle_dashed"),icon:R().createElement(wj,{appearance:n.appearance})},{value:"dotted",text:Mb("labels.strokeStyle_dotted"),icon:R().createElement(ce,{appearance:n.appearance})}],
value:hg(h,n,function(P){return P.strokeStyle},n.currentItemStrokeStyle),onChange:function(P){return B(P)}}))}}),Ud({name:"changeOpacity",perform:function(d,h,n){return{elements:he(d,h,function(B){return qg(B,{opacity:n})}),appState:me(me({},h),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(d){var h,n=d.elements,B=d.appState,P=d.updateData;return R().createElement("label",{className:"control-label"},Mb("labels.opacity"),R().createElement("input",{type:"range",min:"0",max:"100",
step:"10",onChange:function(W){return P(+W.target.value)},onWheel:function(W){W.stopPropagation();var wa=+W.target.value;0>W.deltaY&&100>wa?P(wa+10):0<W.deltaY&&0<wa&&P(wa-10)},value:null!==(h=hg(n,B,function(W){return W.opacity},B.currentItemOpacity))&&void 0!==h?h:void 0}))}}),Ud({name:"changeFontSize",perform:function(d,h,n){return{elements:he(d,h,function(B){return Xd(B)?(B=qg(B,{fontSize:n}),qk(B),B):B}),appState:me(me({},h),{},{currentItemFontSize:n}),commitToHistory:!0}},PanelComponent:function(d){var h=
d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.fontSize")),R().createElement(Sa,{group:"font-size",options:[{value:16,text:Mb("labels.small")},{value:20,text:Mb("labels.medium")},{value:28,text:Mb("labels.large")},{value:36,text:Mb("labels.veryLarge")}],value:hg(h,n,function(P){return Xd(P)&&P.fontSize},n.currentItemFontSize||Oa.n5),onChange:function(P){return B(P)}}))}}),Ud({name:"changeFontFamily",perform:function(d,h,n){return{elements:he(d,
h,function(B){return Xd(B)?(B=qg(B,{fontFamily:n}),qk(B),B):B}),appState:me(me({},h),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;d=[{value:1,text:Mb("labels.handDrawn")},{value:2,text:Mb("labels.normal")},{value:3,text:Mb("labels.code")}];return R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.fontFamily")),R().createElement(Sa,{group:"font-family",options:d,value:hg(h,n,function(P){return Xd(P)&&
P.fontFamily},n.currentItemFontFamily||Oa.rk),onChange:function(P){return B(P)}}))}}),Ud({name:"changeTextAlign",perform:function(d,h,n){return{elements:he(d,h,function(B){return Xd(B)?(B=qg(B,{textAlign:n}),qk(B),B):B}),appState:me(me({},h),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.textAlign")),R().createElement(Sa,{group:"text-align",
options:[{value:"left",text:Mb("labels.left")},{value:"center",text:Mb("labels.center")},{value:"right",text:Mb("labels.right")}],value:hg(h,n,function(P){return Xd(P)&&P.textAlign},n.currentItemTextAlign),onChange:function(P){return B(P)}}))}}),Ud({name:"changeSharpness",perform:function(d,h,n){var B=lk(Wd(d),h),P=B.length?B.every(function(W){return!Eg(W)}):!dj(h.elementType);B=B.length?B.every(Eg):dj(h.elementType);return{elements:he(d,h,function(W){return qg(W,{strokeSharpness:n})}),appState:me(me({},
h),{},{currentItemStrokeSharpness:P?n:h.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:B?n:h.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.edges")),R().createElement(Ka,{group:"edges",options:[{value:"sharp",text:Mb("labels.sharp"),icon:R().createElement(um,{appearance:n.appearance})},{value:"round",text:Mb("labels.round"),
icon:R().createElement(Dj,{appearance:n.appearance})}],value:hg(h,n,function(P){return P.strokeSharpness},rk(n.elementType)&&(dj(n.elementType)?n.currentItemLinearStrokeSharpness:n.currentItemStrokeSharpness)||null),onChange:function(P){return B(P)}}))}}),Ud({name:"changeArrowhead",perform:function(d,h,n){var B;return{elements:he(d,h,function(P){if(Eg(P)){var W=n.position,wa=n.type;if("start"===W)return qg(P,{startArrowhead:wa});if("end"===W)return qg(P,{endArrowhead:wa})}return P}),appState:me(me({},
h),{},(B={},B["start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=n.type,B)),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;d=yf.rtl;return R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.arrowheads")),R().createElement("div",{className:"iconSelectList"},R().createElement(kd,{label:"arrowhead_start",options:[{value:null,text:Mb("labels.arrowhead_none"),icon:R().createElement($k,{appearance:n.appearance}),
keyBinding:"q"},{value:"arrow",text:Mb("labels.arrowhead_arrow"),icon:R().createElement(Am,{appearance:n.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:Mb("labels.arrowhead_bar"),icon:R().createElement(jh,{appearance:n.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:Mb("labels.arrowhead_dot"),icon:R().createElement(yl,{appearance:n.appearance,flip:!d}),keyBinding:"r"}],value:hg(h,n,function(P){return Eg(P)&&"arrow"===P.type?P.startArrowhead:n.currentItemStartArrowhead},n.currentItemStartArrowhead),
onChange:function(P){return B({position:"start",type:P})}}),R().createElement(kd,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:Mb("labels.arrowhead_none"),keyBinding:"q",icon:R().createElement($k,{appearance:n.appearance})},{value:"arrow",text:Mb("labels.arrowhead_arrow"),keyBinding:"w",icon:R().createElement(Am,{appearance:n.appearance,flip:d})},{value:"bar",text:Mb("labels.arrowhead_bar"),keyBinding:"e",icon:R().createElement(jh,{appearance:n.appearance,flip:d})},{value:"dot",
text:Mb("labels.arrowhead_dot"),keyBinding:"r",icon:R().createElement(yl,{appearance:n.appearance,flip:d})}],value:hg(h,n,function(P){return Eg(P)&&"arrow"===P.type?P.endArrowhead:n.currentItemEndArrowhead},n.currentItemEndArrowhead),onChange:function(P){return B({position:"end",type:P})}})))}}),g(2189)),xf=g.n(qe),kg=R().createContext(!1),og=function(){return window.matchMedia?window.matchMedia(xf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},ag=function(d){d=
d.children;var h=(0,Z.useRef)();h.current||(h.current=og());var n=(0,Z.useState)(h.current.matches),B=n[0],P=n[1];return(0,Z.useEffect)(function(){var W=function(){return P(h.current.matches)};return h.current.addListener(W),function(){return h.current.removeListener(W)}},[]),R().createElement(kg.Provider,{value:B},d)};Ud({name:"changeViewBackgroundColor",perform:function(d,h,n){return{appState:Xe(Xe({},h),{},{viewBackgroundColor:n}),commitToHistory:!0}},PanelComponent:function(d){var h=d.appState,
n=d.updateData;return R().createElement("div",{style:{position:"relative"}},R().createElement(mc,{label:Mb("labels.canvasBackground"),type:"canvasBackground",color:h.viewBackgroundColor,onChange:function(B){return n(B)}}))}});Ud({name:"clearCanvas",perform:function(d,h){return{elements:d.map(function(n){return qg(n,{isDeleted:!0})}),appState:Xe(Xe({},yh()),{},{appearance:h.appearance,elementLocked:h.elementLocked,exportBackground:h.exportBackground,exportEmbedScene:h.exportEmbedScene,gridSize:h.gridSize,
shouldAddWatermark:h.shouldAddWatermark,showStats:h.showStats,pasteDialog:h.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var h=d.updateData;return R().createElement($e,{type:"button",icon:Ni,title:Mb("buttons.clearReset"),"aria-label":Mb("buttons.clearReset"),showAriaLabel:Oe(),onClick:function(){window.confirm(Mb("alerts.clearReset"))&&h(null)}})}});Ud({name:"zoomIn",perform:function(d,h){d=Yh(Rj(h.zoom.value+Oa.V4),h.zoom,{left:h.offsetLeft,top:h.offsetTop},{x:h.width/2,y:h.height/
2});return{appState:Xe(Xe({},h),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var h=d.updateData;return R().createElement($e,{type:"button",icon:li,title:"".concat(Mb("buttons.zoomIn")," — ").concat(Od("CtrlOrCmd++")),"aria-label":Mb("buttons.zoomIn"),onClick:function(){h(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[Te]||d.shiftKey)}});Ud({name:"zoomOut",perform:function(d,h){d=Yh(Rj(h.zoom.value-Oa.V4),h.zoom,{left:h.offsetLeft,top:h.offsetTop},
{x:h.width/2,y:h.height/2});return{appState:Xe(Xe({},h),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var h=d.updateData;return R().createElement($e,{type:"button",icon:Bj,title:"".concat(Mb("buttons.zoomOut")," — ").concat(Od("CtrlOrCmd+-")),"aria-label":Mb("buttons.zoomOut"),onClick:function(){h(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===d.code)&&(d[Te]||d.shiftKey)}});Ud({name:"resetZoom",perform:function(d,h){return{appState:Xe(Xe({},h),{},{zoom:Yh(1,
h.zoom,{left:h.offsetLeft,top:h.offsetTop},{x:h.width/2,y:h.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var h=d.updateData;return R().createElement($e,{type:"button",icon:Td,title:Mb("buttons.resetZoom"),"aria-label":Mb("buttons.resetZoom"),onClick:function(){h(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[Te]||d.shiftKey)}});var Ye=function(d,h,n){d=Wd(d);var B=of(d,h);B=n&&0<B.length?zg(B):zg(d);n=Yh(Math.min(Math.max(Math.floor(Math.min(h.width/
(B[2]-B[0]),h.height/(B[3]-B[1]))/Oa.V4)*Oa.V4,Oa.V4),1),h.zoom,{left:h.offsetLeft,top:h.offsetTop});d=(B[0]+B[2])/2;B=(B[1]+B[3])/2;return{appState:Xe(Xe(Xe({},h),Ti({scenePoint:{x:d,y:B},viewportDimensions:{width:h.width,height:h.height},zoom:n})),{},{zoom:n}),commitToHistory:!1}};Ud({name:"zoomToSelection",perform:function(d,h){return Ye(d,h,!0)},keyTest:function(d){return"Digit2"===d.code&&d.shiftKey&&!d.altKey&&!d[Te]}});Ud({name:"zoomToFit",perform:function(d,h){return Ye(d,h,!1)},keyTest:function(d){return"Digit1"===
d.code&&d.shiftKey&&!d.altKey&&!d[Te]}});var If,Be,Nf=Ud({name:"finalize",perform:function(d,h,n,B){var P,W;n=B.canvas;if(h.editingLinearElement){B=h.editingLinearElement;var wa=B.startBindingElement,ra=B.endBindingElement,Aa=Vf.getElement(B.elementId);if(Aa)return eg(Aa)&&Hf(Aa,wa,ra),{elements:2>Aa.points.length||Mh(Aa)?d.filter(function(hb){return hb.id!==Aa.id}):void 0,appState:Yf(Yf({},h),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&
window.document.activeElement.blur();if(B=h.multiElement?h.multiElement:"draw"===(null===(W=h.editingElement)||void 0===W?void 0:W.type)?h.editingElement:null){"draw"!==B.type&&"touch"!==h.lastPointerDownWith&&(W=B.points,(wa=B.lastCommittedPoint)&&W[W.length-1]===wa||bf(B,{points:B.points.slice(0,-1)}));Mh(B)&&(d=d.slice(0,-1));W=ai(B.points,h.zoom.value);if(("line"===B.type||"draw"===B.type)&&W){var Ma=B.points,Ga=Ma[0];bf(B,{points:Ma.map(function(hb,lb){return lb===Ma.length-1?[Ga[0],Ga[1]]:hb})})}eg(B)&&
!W&&1<B.points.length&&(wa=Vf.getPointAtIndexGlobalCoordinates(B,-1),W=wa[0],wa=wa[1],kk(B,h,sh.getScene(B),{x:W,y:wa}));h.elementLocked||"draw"===h.elementType||(h.selectedElementIds[B.id]=!0)}return(h.elementLocked||"draw"===h.elementType)&&B||Fi(n),{elements:d,appState:Yf(Yf({},h),{},{elementType:(h.elementLocked||"draw"===h.elementType)&&B?h.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:B&&!h.elementLocked&&
"draw"!==h.elementType?Yf(Yf({},h.selectedElementIds),{},(P={},P[B.id]=!0,P)):h.selectedElementIds}),commitToHistory:"draw"===h.elementType}},keyTest:function(d,h){return"Escape"===d.key&&(null!==h.editingLinearElement||!h.draggingElement&&null===h.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==h.multiElement},PanelComponent:function(d){var h=d.appState;d=d.updateData;return R().createElement($e,{type:"button",icon:sk,title:Mb("buttons.done"),"aria-label":Mb("buttons.done"),onClick:d,
visible:null!=h.multiElement})}}),gh="undefined"!=typeof v&&null!==(If=v.env)&&void 0!==If&&If.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,h,n,B){window.gtag("event",h,{event_category:d,event_label:n,value:B})}:("undefined"!=typeof v&&null!==(Be=v.env)&&void 0!==Be&&Be.JEST_WORKER_ID,function(d,h,n,B){}),lh=(g(8518),function(){var d=function(h,n){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,P){B.__proto__=P}||function(B,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,
W)&&(B[W]=P[W])})(h,n)};return function(h,n){function B(){this.constructor=h}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");d(h,n);h.prototype=null===n?Object.create(n):(B.prototype=n.prototype,new B)}}()),Eh=function(d){function h(){for(var n=[],B=0;B<arguments.length;B++)n[B]=arguments[B];var P,W;B=this;return B=d.apply(this,n)||this,P=W=B,B.handleFocus=function(wa){wa=wa.currentTarget;var ra=window.getSelection();if(ra){var Aa=
document.createRange();Aa.selectNodeContents(wa);ra.removeAllRanges();ra.addRange(Aa)}},B.handleBlur=function(wa){wa=wa.currentTarget.innerText.trim();wa!==W.props.value&&W.props.onChange(wa);(wa=window.getSelection())&&wa.removeAllRanges()},B.handleKeyDown=function(wa){"Enter"!==wa.key||(wa.preventDefault(),wa.nativeEvent.isComposing||229===wa.keyCode)||wa.currentTarget.blur()},B.makeEditable=function(wa){if(wa)try{wa.contentEditable="plaintext-only"}catch(ra){wa.contentEditable="true"}},P}return lh(h,
d),h.prototype.render=function(){return R().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},h}(Z.Component),Jh=(g(2680),function(d){var h=d.children,n=d.label,B=d.position;B=void 0===B?"below":B;d=d.long;d=void 0!==d&&d;return R().createElement("div",{className:"Tooltip"},R().createElement("span",
{className:"above"===B?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},n),h)}),Lk=function(d){var h=d.title?d.title:"dark"===d.value?Mb("buttons.lightMode"):Mb("buttons.darkMode");return R().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:h},R().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(n){return d.onChange(n.target.checked?
"dark":"light")},checked:"dark"===d.value,"aria-label":h}),R().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?Pl.MOON:Pl.SUN))},Pl={SUN:R().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},R().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:R().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},R().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const bm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",wl=bm?"chooseFileSystemEntries"===bm?g.e(736).then(g.bind(g,9012)):g.e(736).then(g.bind(g,499)):g.e(736).then(g.bind(g,5034));bm?"chooseFileSystemEntries"===bm?g.e(736).then(g.bind(g,6980)):g.e(736).then(g.bind(g,868)):g.e(736).then(g.bind(g,3110));const lf=bm?"chooseFileSystemEntries"===bm?g.e(736).then(g.bind(g,1170)):g.e(736).then(g.bind(g,7814)):g.e(736).then(g.bind(g,4001));var bl,Oi=function(d,h){if(null!=h&&h.collaborators&&
(h=h.collaborators.get(d),null!=h&&h.color))return h.color;d=d.split("").reduce(function(B,P){return B+P.charCodeAt(0)},0);h=Dk.elementBackground.slice(1);var n=Dk.elementStroke.slice(1);return{background:h[d%h.length],stroke:n[d%n.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(bl||(bl={}));var Bm=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),pl=function(d,h,n,B,P,W,wa,ra,Aa){void 0===Aa&&(Aa=!1);d.translate(W,wa);d.rotate(ra);Aa&&d.fillRect(h-W,n-wa,B,P);d.strokeRect(h-W,n-wa,B,P);d.rotate(-ra);d.translate(-W,-wa)},Cm=function(d,h,n,B){d.beginPath();d.arc(h,n,B,0,2*Math.PI);d.fill();d.stroke()},en=function(d,h,n,B,P,W,wa,ra){var Aa=void 0===ra?{}:ra;ra=Aa.renderScrollbars;ra=void 0===ra||ra;var Ma=Aa.renderSelection,Ga=void 0===Ma||Ma;Ma=Aa.renderOptimizations;var hb=void 0!==Ma&&Ma;Aa=Aa.renderGrid;var lb=void 0===
Aa||Aa;if(!W)return{atLeastOneVisibleElement:!1};var mb=W.getContext("2d");mb.scale(B,B);var Rb=W.width/B,Ob=W.height/B;(wa.exportWithDarkMode&&(mb.filter=Oa.Gi),"string"==typeof wa.viewBackgroundColor)?(("transparent"===wa.viewBackgroundColor||5===wa.viewBackgroundColor.length||9===wa.viewBackgroundColor.length||/(hsla|rgba)\(/.test(wa.viewBackgroundColor))&&mb.clearRect(0,0,Rb,Ob),Aa=mb.fillStyle,mb.fillStyle=wa.viewBackgroundColor,mb.fillRect(0,0,Rb,Ob),mb.fillStyle=Aa):mb.clearRect(0,0,Rb,Ob);
Aa=wa.zoom.translation.x;Ma=wa.zoom.translation.y;mb.translate(Aa,Ma);mb.scale(wa.zoom.value,wa.zoom.value);lb&&h.gridSize&&function(td,Pd,$d,Le,zh,Vh){var yj=td.strokeStyle;td.strokeStyle="rgba(0,0,0,0.1)";td.beginPath();for(var Zi=$d;Zi<$d+zh+2*Pd;Zi+=Pd)td.moveTo(Zi,Le-Pd),td.lineTo(Zi,Le+Vh+2*Pd);for(Zi=Le;Zi<Le+Vh+2*Pd;Zi+=Pd)td.moveTo($d-Pd,Zi),td.lineTo($d+zh+2*Pd,Zi);td.stroke();td.strokeStyle=yj}(mb,h.gridSize,-Math.ceil(Aa/wa.zoom.value/h.gridSize)*h.gridSize+wa.scrollX%h.gridSize,-Math.ceil(Ma/
wa.zoom.value/h.gridSize)*h.gridSize+wa.scrollY%h.gridSize,Rb/wa.zoom.value,Ob/wa.zoom.value);W=d.filter(function(td){var Pd={zoom:wa.zoom,offsetLeft:h.offsetLeft,offsetTop:h.offsetTop,scrollX:wa.scrollX,scrollY:wa.scrollY},$d=pi(td);td=$d[0];var Le=$d[1],zh=$d[2];$d=$d[3];var Vh=lg({clientX:Pd.offsetLeft,clientY:Pd.offsetTop},Pd);Pd=lg({clientX:Pd.offsetLeft+Rb,clientY:Pd.offsetTop+Ob},Pd);return Vh.x<=zh&&Vh.y<=$d&&Pd.x>=td&&Pd.y>=Le});(W.forEach(function(td){jn(td,P,mb,hb,wa)}),h.editingLinearElement)&&
(lb=Vf.getElement(h.editingLinearElement.elementId))&&function(td,Pd,$d,Le){td.translate($d.scrollX,$d.scrollY);var zh=td.strokeStyle,Vh=td.lineWidth;td.lineWidth=1/$d.zoom.value;Vf.getPointsGlobalCoordinates(Le).forEach(function(yj,Zi){var Sl;td.strokeStyle="red";td.setLineDash([]);td.fillStyle=(null===(Sl=Pd.editingLinearElement)||void 0===Sl?void 0:Sl.activePointIndex)===Zi?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Cm(td,yj[0],yj[1],Vf.POINT_HANDLE_SIZE/2/$d.zoom.value)});td.setLineDash([]);
td.lineWidth=Vh;td.translate(-$d.scrollX,-$d.scrollY);td.strokeStyle=zh}(mb,h,wa,lb);if(n&&jn(n,P,mb,hb,wa),h.isBindingEnabled&&h.suggestedBindings.filter(function(td){return null!=td}).forEach(function(td){var Pd=mb.strokeStyle,$d=mb.lineWidth,Le=Array.isArray(td)?bj:Yl;mb.translate(wa.scrollX,wa.scrollY);Le(mb,td);mb.strokeStyle=Pd;mb.lineWidth=$d;mb.translate(-wa.scrollX,-wa.scrollY)}),Ga&&!h.multiElement&&!h.editingLinearElement){var tc=d.reduce(function(td,Pd){var $d=[];if(h.selectedElementIds[Pd.id]&&
null==th(h,Pd)&&$d.push(se.Sn),wa.remoteSelectedElementIds[Pd.id]&&$d.push.apply($d,wa.remoteSelectedElementIds[Pd.id].map(function(zh){return Oi(zh,h).background})),$d.length){var Le=Zf(Pd);td.push({angle:Pd.angle,elementX1:Le[0],elementY1:Le[1],elementX2:Le[2],elementY2:Le[3],selectionColors:$d})}return td},[]);n=function(td){td=ek(d,td);td=zg(td);tc.push({angle:0,elementX1:td[0],elementX2:td[2],elementY1:td[1],elementY2:td[3],selectionColors:[se.Sn]})};Ga=0;for(lb=Ii(h);Ga<lb.length;Ga++)n(lb[Ga]);
h.editingGroupId&&n(h.editingGroupId);tc.forEach(function(td){var Pd=td.angle,$d=td.elementX1,Le=td.elementY1,zh=td.selectionColors,Vh=td.elementX2-$d;td=td.elementY2-Le;var yj=mb.getLineDash(),Zi=mb.lineWidth,Sl=mb.lineDashOffset,qn=mb.strokeStyle,em=4/wa.zoom.value,rn=8/wa.zoom.value,Qm=4/wa.zoom.value;mb.lineWidth=1/wa.zoom.value;mb.translate(wa.scrollX,wa.scrollY);for(var eo=zh.length,Rm=0;Rm<eo;++Rm)mb.strokeStyle=zh[Rm],mb.setLineDash([rn,Qm+(rn+Qm)*(eo-1)]),mb.lineDashOffset=(rn+Qm)*Rm,pl(mb,
$d-em,Le-em,Vh+2*em,td+2*em,$d+Vh/2,Le+td/2,Pd);mb.lineDashOffset=Sl;mb.strokeStyle=qn;mb.lineWidth=Zi;mb.setLineDash(yj);mb.translate(-wa.scrollX,-wa.scrollY)});Ga=of(d,h);if(mb.translate(wa.scrollX,wa.scrollY),1===Ga.length)mb.fillStyle=se.ix,n=sj(Ga[0],wa.zoom,"mouse"),h.viewModeEnabled||uk(mb,wa,n,Ga[0].angle);else if(1<Ga.length&&!h.isRotating){n=4/wa.zoom.value;mb.fillStyle=se.ix;var Zc=zg(Ga);Ga=Zc[0];lb=Zc[1];var dd=Zc[2];Zc=Zc[3];var pd=mb.getLineDash();mb.setLineDash([2/wa.zoom.value]);
var te=mb.lineWidth;mb.lineWidth=1/wa.zoom.value;pl(mb,Ga-n,lb-n,dd-Ga+2*n,Zc-lb+2*n,(Ga+dd)/2,(lb+Zc)/2,0);mb.lineWidth=te;mb.setLineDash(pd);n=Ek([Ga,lb,dd,Zc],0,wa.zoom,"mouse",vl);uk(mb,wa,n,0)}mb.translate(-wa.scrollX,-wa.scrollY)}for(var oe in mb.scale(1/wa.zoom.value,1/wa.zoom.value),mb.translate(-Aa,-Ma),wa.remotePointerViewportCoords){Aa=wa.remotePointerViewportCoords[oe];dd=Aa.x;Zc=Aa.y;dd-=h.offsetLeft;Zc-=h.offsetTop;pd=0>dd||dd>Rb-9||0>Zc||Zc>Ob-14;dd=Math.max(dd,0);dd=Math.min(dd,Rb-
9);Zc=Math.max(Zc,0);Zc=Math.min(Zc,Ob-14);Aa=Oi(oe,h);Ma=Aa.background;n=Aa.stroke;Ga=mb.strokeStyle;lb=(Aa=mb.fillStyle,mb.globalAlpha);mb.strokeStyle=n;mb.fillStyle=Ma;te=wa.remotePointerUserStates[oe];(pd||te===bl.AWAY)&&(mb.globalAlpha=.48);wa.remotePointerButton&&"down"===wa.remotePointerButton[oe]&&(mb.beginPath(),mb.arc(dd,Zc,15,0,2*Math.PI,!1),mb.lineWidth=3,mb.strokeStyle="#ffffff88",mb.stroke(),mb.closePath(),mb.beginPath(),mb.arc(dd,Zc,15,0,2*Math.PI,!1),mb.lineWidth=1,mb.strokeStyle=
n,mb.stroke(),mb.closePath());mb.beginPath();mb.moveTo(dd,Zc);mb.lineTo(dd+1,Zc+14);mb.lineTo(dd+4,Zc+9);mb.lineTo(dd+9,Zc+10);mb.lineTo(dd,Zc);mb.fill();mb.stroke();var Fe=wa.remotePointerUsernames[oe],we="";te===bl.AWAY?we=Bm?"⚫️":" (".concat(bl.AWAY,")"):te===bl.IDLE?we=Bm?"\ud83d\udca4":" (".concat(bl.IDLE,")"):te===bl.ACTIVE&&(we=Bm?"\ud83d\udfe2":"");te="".concat(Fe?"".concat(Fe," "):"").concat(we);!pd&&te&&(dd+=9,Zc+=14,pd=mb.measureText(te),Fe=pd.actualBoundingBoxDescent+pd.actualBoundingBoxAscent,
mb.fillStyle=n,mb.fillRect(dd-1,Zc-1,pd.width+8+2,Fe+8+2),mb.fillStyle=Ma,mb.fillRect(dd,Zc,pd.width+8,Fe+8),mb.fillStyle=se.ix,mb.fillText(te,dd+4,Zc+4+pd.actualBoundingBoxAscent));mb.strokeStyle=Ga;mb.fillStyle=Aa;mb.globalAlpha=lb;mb.closePath()}if(ra){var Ve=function(td,Pd,$d,Le){var zh=Le.scrollX,Vh=Le.scrollY,yj=Le.zoom;if(0===td.length)return{horizontal:null,vertical:null};Le=zg(td);var Zi=Le[0],Sl=Le[1];td=Le[2];Le=Le[3];var qn=Pd/yj.value,em=$d/yj.value,rn=Pd-qn,Qm=$d-em;yj=parseInt(Sf("sat"));
var eo=parseInt(Sf("sab")),Rm=parseInt(Sf("sal")),Ur=parseInt(Sf("sar")),Ut=yf.rtl;zh=rn/2-zh+Rm;Vh=Qm/2-Vh+yj;qn=zh+qn-Ur;em=Vh+em-eo;Zi=Math.min(Zi,zh);Sl=Math.min(Sl,Vh);td=Math.max(td,qn);Le=Math.max(Le,em);return{horizontal:zh===Zi&&qn===td?null:{x:Math.max(Rm,4)+(zh-Zi)/(td-Zi)*Pd,y:$d-6-Math.max(4,eo),width:(qn-zh)/(td-Zi)*Pd-Math.max(8,Rm+Ur),height:6},vertical:Vh===Sl&&em===Le?null:{x:Ut?Math.max(Rm,4):Pd-6-Math.max(Ur,4),y:(Vh-Sl)/(Le-Sl)*$d+Math.max(yj,4),width:6,height:(em-Vh)/(Le-Sl)*
$d-Math.max(8,yj+eo)}}}(d,Rb,Ob,wa);Aa=mb.fillStyle;Ga=mb.strokeStyle;mb.fillStyle="rgba(0,0,0,0.3)";mb.strokeStyle="rgba(255,255,255,0.8)";[Ve.horizontal,Ve.vertical].forEach(function(td){if(td){var Pd=td.x,$d=td.y,Le=td.width;td=td.height;mb.beginPath();mb.moveTo(Pd+3,$d);mb.lineTo(Pd+Le-3,$d);mb.quadraticCurveTo(Pd+Le,$d,Pd+Le,$d+3);mb.lineTo(Pd+Le,$d+td-3);mb.quadraticCurveTo(Pd+Le,$d+td,Pd+Le-3,$d+td);mb.lineTo(Pd+3,$d+td);mb.quadraticCurveTo(Pd,$d+td,Pd,$d+td-3);mb.lineTo(Pd,$d+3);mb.quadraticCurveTo(Pd,
$d,Pd+3,$d);mb.closePath();mb.fill();mb.stroke()}});mb.fillStyle=Aa;mb.strokeStyle=Ga}return mb.scale(1/B,1/B),{atLeastOneVisibleElement:0<W.length,scrollBars:Ve}},uk=function(d,h,n,B){Object.keys(n).forEach(function(P){var W=n[P];if(void 0!==W){var wa=d.lineWidth;d.lineWidth=1/h.zoom.value;"rotation"===P?Cm(d,W[0]+W[2]/2,W[1]+W[3]/2,W[2]/2):pl(d,W[0],W[1],W[2],W[3],W[0]+W[2]/2,W[1]+W[3]/2,B,!0);d.lineWidth=wa}})},Yl=function(d,h){var n=Zf(h),B=n[0],P=n[1],W=n[2]-B;n=n[3]-P;var wa=Wi(h,W,n);d.strokeStyle=
"rgba(0,0,0,.05)";d.lineWidth=wa-4;wa=2+wa/2;switch(h.type){case "rectangle":case "text":pl(d,B-wa,P-wa,W+2*wa,n+2*wa,B+W/2,P+n/2,h.angle);break;case "diamond":var ra=Math.hypot(W,n);!function(Aa,Ma,Ga,hb,lb,mb){Aa.translate(hb,lb);Aa.rotate(mb);Aa.beginPath();Aa.moveTo(0,Ga/2);Aa.lineTo(Ma/2,0);Aa.lineTo(0,-Ga/2);Aa.lineTo(-Ma/2,0);Aa.closePath();Aa.stroke();Aa.rotate(-mb);Aa.translate(-hb,-lb)}(d,W+wa*ra/n*2,n+wa*ra/W*2,B+W/2,P+n/2,h.angle);break;case "ellipse":!function(Aa,Ma,Ga,hb,lb,mb){Aa.beginPath();
Aa.ellipse(hb,lb,Ma/2,Ga/2,mb,0,2*Math.PI);Aa.stroke()}(d,W+2*wa,n+2*wa,B+W/2,P+n/2,h.angle)}},bj=function(d,h){var n=h[0],B=h[1];h=h[2];var P=Wi(h,h.width,h.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===B?[0,-1]:"start"===B?[0]:[-1]).forEach(function(W){W=Vf.getPointAtIndexGlobalCoordinates(n,W);Cm(d,W[0],W[1],P)})},Ej=function(d,h,n,B){B=void 0===B?{}:B;var P=B.offsetX,W=void 0===P?0:P;B=B.offsetY;var wa=void 0===B?0:B;n&&d.forEach(function(ra){ra.isDeleted||function(Aa,
Ma,Ga,hb,lb){var mb=Zf(Aa),Rb=mb[0],Ob=mb[1],tc=(mb[2]-Rb)/2-(Aa.x-Rb),Zc=(mb[3]-Ob)/2-(Aa.y-Ob),dd=180*Aa.angle/Math.PI;mb=Ma.generator;switch(Aa.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":ak(Aa,mb);mb=Ma.draw(ti.get(Aa));1!=(oe=Aa.opacity/100)&&(mb.setAttribute("stroke-opacity","".concat(oe)),mb.setAttribute("fill-opacity","".concat(oe)));mb.setAttribute("transform","translate(".concat(hb||0," ").concat(lb||0,
") rotate(").concat(dd," ").concat(tc," ").concat(Zc,")"));Ga.appendChild(mb);break;case "line":case "draw":case "arrow":ak(Aa,mb);var pd=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),te=Aa.opacity/100;ti.get(Aa).forEach(function($d){$d=Ma.draw($d);1!==te&&($d.setAttribute("stroke-opacity","".concat(te)),$d.setAttribute("fill-opacity","".concat(te)));$d.setAttribute("transform","translate(".concat(hb||0," ").concat(lb||0,") rotate(").concat(dd," ").concat(tc," ").concat(Zc,")"));
"line"!==Aa.type&&"draw"!==Aa.type||!ai(Aa.points)||"transparent"===Aa.backgroundColor||$d.setAttribute("fill-rule","evenodd");pd.appendChild($d)});Ga.appendChild(pd);break;default:if(!Xd(Aa))throw Error("Unimplemented type ".concat(Aa.type));var oe=Aa.opacity/100;mb=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==oe&&(mb.setAttribute("stroke-opacity","".concat(oe)),mb.setAttribute("fill-opacity","".concat(oe)));mb.setAttribute("transform","translate(".concat(hb||0," ").concat(lb||
0,") rotate(").concat(dd," ").concat(tc," ").concat(Zc,")"));oe=Aa.text.replace(/\r\n?/g,"\n").split("\n");Rb=Aa.height/oe.length;Ob=Aa.height-Aa.baseline;for(var Fe="center"===Aa.textAlign?Aa.width/2:"right"===Aa.textAlign?Aa.width:0,we=rh.test(Aa.text)?"rtl":"ltr",Ve="center"===Aa.textAlign?"middle":"right"===Aa.textAlign||"rtl"===we?"end":"start",td=0;td<oe.length;td++){var Pd=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Pd.textContent=oe[td];Pd.setAttribute("x","".concat(Fe));
Pd.setAttribute("y","".concat((td+1)*Rb-Ob));Pd.setAttribute("font-family","".concat(Oa.ut[Aa.fontFamily],", ").concat(Oa._D));Pd.setAttribute("font-size","".concat(Aa.fontSize,"px"));Pd.setAttribute("fill",Aa.strokeColor);Pd.setAttribute("text-anchor",Ve);Pd.setAttribute("style","white-space: pre;");Pd.setAttribute("direction",we);mb.appendChild(Pd)}Ga.appendChild(mb)}}(ra,h,n,ra.x+W,ra.y+wa)})},ql=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},sm=function(d,h,n,
B){var P=n.exportBackground,W=n.exportPadding;W=void 0===W?10:W;var wa=n.viewBackgroundColor,ra=n.scale,Aa=void 0===ra?1:ra;n=n.shouldAddWatermark;void 0===B&&(B=function(Ga,hb){var lb=document.createElement("canvas");return lb.width=Ga*Aa,lb.height=hb*Aa,{canvas:lb,scale:Aa}});d=Vn(d,n);var Ma=fn(d,W,n);n=Ma[0];ra=Ma[1];Ma=B(Ma[2],Ma[3]);B=Ma.canvas;Ma=Ma.scale;return en(d,h,null,void 0===Ma?Aa:Ma,Fh.canvas(B),B,{viewBackgroundColor:P?wa:null,exportWithDarkMode:h.exportWithDarkMode,scrollX:-n+W,
scrollY:-ra+W,zoom:yh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),B},Ml=function(d,h){var n=h.exportBackground,B=h.exportPadding;B=void 0===B?10:B;var P=h.viewBackgroundColor,W=h.exportWithDarkMode,wa=h.scale;wa=void 0===wa?1:wa;var ra=h.shouldAddWatermark;h=h.metadata;h=void 0===h?"":h;d=Vn(d,ra);var Aa=fn(d,B,ra);ra=Aa[0];
var Ma=Aa[1],Ga=Aa[2],hb=Aa[3];Aa=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Aa.setAttribute("version","1.1"),Aa.setAttribute("xmlns","http://www.w3.org/2000/svg"),Aa.setAttribute("viewBox","0 0 ".concat(Ga," ").concat(hb)),Aa.setAttribute("width","".concat(Ga*wa)),Aa.setAttribute("height","".concat(hb*wa)),W&&Aa.setAttribute("filter",Oa.Gi),Aa.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(h,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
n&&P)n=Aa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","".concat(Ga)),n.setAttribute("height","".concat(hb)),n.setAttribute("fill",P),Aa.appendChild(n);n=Fh.svg(Aa);return Ej(d,n,Aa,{offsetX:-ra+B,offsetY:-Ma+B}),Aa},Vn=function(d,h){var n=ql([],d);h&&(h=zg(d),d=h[2],h=h[3],n=ql([],n),d=Hj({text:Mb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:Oa.rk,textAlign:"right",verticalAlign:Oa.hs,x:d,y:h+16,strokeColor:se.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),n=ql(n,[d]));return n},fn=function(d,h,n){d=zg(d);var B=d[0],P=d[1];return[B,P,Math.abs(B-d[2])+2*h,Math.abs(P-d[3])+h+(n?0:h)]},Vj=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Mm=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},Gn=function(d,h){return d.slice(1).every(function(n){return null!==
Mm(n[h])})},Yi=function(d){var h=d[0].length;if(2<h)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===h){if(!Gn(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};h=null===Mm(d[0][0]);var n=(h?d.slice(1):d).map(function(W){return Mm(W[0])});return 2>n.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:h?d[0][0]:null,labels:null,values:n}}}var B=Gn(d,0)?0:1;if(!Gn(d,B))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var P=(B+1)%2;n=(h=null===Mm(d[0][B]))?d.slice(1):d;return 2>n.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:h?d[0][B]:null,labels:n.map(function(W){return W[P]}),values:n.map(function(W){return Mm(W[B])})}}},An=Dk.elementBackground.slice(2,Dk.elementBackground.length),cj={fillStyle:"hachure",fontFamily:Oa.rk,fontSize:Oa.n5,opacity:100,roughness:1,strokeColor:Dk.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},
rl=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Tn=function(d,h,n,B,P,W){var wa=rl(d),ra=wa.chartWidth,Aa=wa.chartHeight;wa=d.title?Hj(ye(ye({backgroundColor:P,groupIds:[B]},cj),{},{text:d.title,x:h+ra/2,y:n-256-24-Oa.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;W=W?Ll(ye(ye({backgroundColor:P,groupIds:[B]},cj),{},{type:"rectangle",x:h,y:n-Aa,width:ra,height:Aa,strokeColor:Dk.elementStroke[0],fillStyle:"solid",opacity:6})):null;return Vj(Vj(Vj(Vj(Vj([],
W?[W]:[]),wa?[wa]:[]),function(Ma,Ga,hb,lb,mb){var Rb;return(null===(Rb=Ma.labels)||void 0===Rb?void 0:Rb.map(function(Ob,tc){return Hj(ye(ye({groupIds:[lb],backgroundColor:mb},cj),{},{text:8<Ob.length?"".concat(Ob.slice(0,5),"..."):Ob,x:Ga+44*tc+24,y:hb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,h,n,B,P)),function(Ma,Ga,hb,lb,mb){var Rb=Hj(ye(ye({groupIds:[lb],backgroundColor:mb},cj),{},{x:Ga-12,y:hb-12,text:"0",textAlign:"right"}));return[Rb,Hj(ye(ye({groupIds:[lb],
backgroundColor:mb},cj),{},{x:Ga-12,y:hb-256-Rb.height/2,text:Math.max.apply(Math,Ma.values).toLocaleString(),textAlign:"right"}))]}(d,h,n,B,P)),function(Ma,Ga,hb,lb,mb){var Rb=rl(Ma);Ma=Rb.chartWidth;Rb=Rb.chartHeight;return[Je(ye(ye({backgroundColor:mb,groupIds:[lb]},cj),{},{type:"line",x:Ga,y:hb,startArrowhead:null,endArrowhead:null,width:Ma,points:[[0,0],[Ma,0]]})),Je(ye(ye({backgroundColor:mb,groupIds:[lb]},cj),{},{type:"line",x:Ga,y:hb,startArrowhead:null,endArrowhead:null,height:Rb,points:[[0,
0],[0,-Rb]]})),Je(ye(ye({backgroundColor:mb,groupIds:[lb]},cj),{},{type:"line",x:Ga,y:hb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Ma,opacity:50,points:[[0,0],[Ma,0]]}))]}(d,h,n,B,P))},Dm=function(d,h,n,B){return"line"===d?function(P,W,wa){for(var ra=Math.max.apply(Math,P.values),Aa=ui(),Ma=An[Math.floor(Math.random()*An.length)],Ga=0,hb=[],lb=0,mb=P.values;lb<mb.length;lb++)hb.push([44*Ga,-mb[lb]/ra*256]),Ga++;Ga=Math.max.apply(Math,hb.map(function(Ob){return Ob[0]}));
lb=Math.max.apply(Math,hb.map(function(Ob){return Ob[1]}));mb=Math.min.apply(Math,hb.map(function(Ob){return Ob[0]}));var Rb=Math.min.apply(Math,hb.map(function(Ob){return Ob[1]}));hb=Je(ye(ye({backgroundColor:Ma,groupIds:[Aa]},cj),{},{type:"line",x:W+12+16,y:wa-12,startArrowhead:null,endArrowhead:null,height:lb-Rb,width:Ga-mb,strokeWidth:2,points:hb}));Ga=P.values.map(function(Ob,tc){tc=44*tc+6;Ob=-Ob/ra*256+6;return Ll(ye(ye({backgroundColor:Ma,groupIds:[Aa]},cj),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:W+tc+16,y:wa+Ob-24,width:12,height:12}))});lb=P.values.map(function(Ob,tc){tc=44*tc+6;Ob=Ob/ra*256+18;return Je(ye(ye({backgroundColor:Ma,groupIds:[Aa]},cj),{},{type:"line",x:W+tc+16+6,y:wa-Ob,startArrowhead:null,endArrowhead:null,height:Ob,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Ob]]}))});return Vj(Vj(Vj(Vj([],Tn(P,W,wa,Aa,Ma,"production"===Oa.Vi.DEVELOPMENT)),[hb]),lb),Ga)}(h,n,B):function(P,W,wa){var ra=Math.max.apply(Math,P.values),Aa=ui(),Ma=An[Math.floor(Math.random()*
An.length)],Ga=P.values.map(function(hb,lb){hb=hb/ra*256;return Ll(ye(ye({backgroundColor:Ma,groupIds:[Aa]},cj),{},{type:"rectangle",x:W+44*lb+12,y:wa-hb-12,width:32,height:hb}))});return Vj(Vj([],Ga),Tn(P,W,wa,Aa,Ma,"production"===Oa.Vi.DEVELOPMENT))}(h,n,B)},Un=function(){var d=function(h,n){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,P){B.__proto__=P}||function(B,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,W)&&(B[W]=P[W])})(h,n)};return function(h,n){function B(){this.constructor=
h}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");d(h,n);h.prototype=null===n?Object.create(n):(B.prototype=n.prototype,new B)}}(),mn=function(d){function h(n,B){void 0===n&&(n="Couldn't export canvas.");void 0===B&&(B="CANVAS_ERROR");var P=d.call(this)||this;return P.name=B,P.message=n,P}return Un(h,d),h}(Error),$n=function(d,h){var n,B,P,W,wa,ra,Aa,Ma;d={type:d.type,version:d.version||1,versionNonce:null!==(n=d.versionNonce)&&
void 0!==n?n:0,isDeleted:null!==(B=d.isDeleted)&&void 0!==B&&B,id:d.id||ui(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(P=d.strokeStyle)&&void 0!==P?P:"solid",roughness:null!==(W=d.roughness)&&void 0!==W?W:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(wa=d.seed)&&void 0!==wa?wa:1,groupIds:null!==(ra=d.groupIds)&&void 0!==ra?
ra:[],strokeSharpness:null!==(Aa=d.strokeSharpness)&&void 0!==Aa?Aa:dj(d.type)?"round":"sharp",boundElementIds:null!==(Ma=d.boundElementIds)&&void 0!==Ma?Ma:[]};return Ae(Ae(Ae({},d),Jl(d)),h)},vk=function(d){return(d||[]).reduce(function(h,n){if("selection"!==n.type&&!Mh(n)){a:{var B;switch(n.type){case "text":var P=n.fontSize,W=n.fontFamily;if("font"in n){P=n.font.split(" ");W=P[1];P=parseInt(P[0],10);b:{for(var wa=0,ra=Object.entries(Oa.ut);wa<ra.length;wa++){var Aa=ra[wa],Ma=Aa[0];if(Aa[1].includes(W)){W=
parseInt(Ma);break b}}W=Oa.rk}}n=$n(n,{fontSize:P,fontFamily:W,text:null!==(B=n.text)&&void 0!==B?B:"",baseline:n.baseline,textAlign:n.textAlign||Oa.Hg,verticalAlign:n.verticalAlign||Oa.hs});break a;case "draw":case "line":case "arrow":B=n.startArrowhead;B=void 0===B?null:B;P=n.endArrowhead;P=void 0===P?"arrow"===n.type?"arrow":null:P;n=$n(n,{startBinding:n.startBinding,endBinding:n.endBinding,points:!Array.isArray(n.points)||2>n.points.length?[[0,0],[n.width,n.height]]:n.points,lastCommittedPoint:null,
startArrowhead:B,endArrowhead:P});break a;case "ellipse":case "rectangle":case "diamond":n=$n(n,{});break a}n=void 0}n&&h.push(n)}return h},[])},Uj=function(d,h){d=d||{};for(var n=yh(),B={},P=0,W=Object.entries(n);P<W.length;P++){var wa=W[P],ra=wa[0];wa=wa[1];var Aa=d[ra],Ma=h?h[ra]:void 0;B[ra]=void 0!==Aa?Aa:void 0!==Ma?Ma:wa}return Ae(Ae({},B),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:n.zoom.translation}:d.zoom||n.zoom})},gn=
function(d,h){return{elements:vk(null==d?void 0:d.elements),appState:Uj(null==d?void 0:d.appState,h||null)}},co=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;
P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}
var B,P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Ui=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Tg=function(){function d(){}return d.importLibrary=function(h){return zb()(function(){var n,B,P,W;return co(this,function(wa){switch(wa.label){case 0:return[4,np(h)];case 1:return(n=wa.sent())&&n.library?(B=
function(ra,Aa){return!ra.find(function(Ma){return Ma.length===Aa.length&&Ma.every(function(Ga,hb){return Ga.id===Aa[hb].id&&Ga.versionNonce===Aa[hb].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return P=wa.sent(),W=n.library.reduce(function(ra,Aa){Aa=Wd(vk(Aa));return B(P,Aa)&&ra.push(Aa),ra},[]),d.saveLibrary(Ui(Ui([],P),W)),[2]}})})()},d}();Tg.libraryCache=null;Tg.resetLibrary=function(){Tg.libraryCache=null;localStorage.removeItem(Oa.I.LOCAL_STORAGE_LIBRARY)};Tg.loadLibrary=function(){return new Promise(function(){var d=
zb()(function(h){var n,B;return co(this,function(P){if(Tg.libraryCache)return[2,h(JSON.parse(JSON.stringify(Tg.libraryCache)))];try{if(!(n=localStorage.getItem(Oa.I.LOCAL_STORAGE_LIBRARY)))return[2,h([])];B=JSON.parse(n).map(function(W){return vk(W)});Tg.libraryCache=JSON.parse(JSON.stringify(B));h(B)}catch(W){console.error(W),h([])}return[2]})});return function(h){return d.apply(this,arguments)}}())};Tg.saveLibrary=function(d){var h=Tg.libraryCache;try{var n=JSON.stringify(d);Tg.libraryCache=JSON.parse(n);
localStorage.setItem(Oa.I.LOCAL_STORAGE_LIBRARY,n)}catch(B){Tg.libraryCache=h,console.error(B)}};var om=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];
Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,
P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Zl=function(d,h){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:vf(d),appState:si(h,"export")},null,2)},$l=function(){var d=zb()(function(h,n){var B;return om(this,function(P){switch(P.label){case 0:return B=Zl(h,n),[4,Pg(new Blob([B],{type:"application/json"}),
{fileName:n.name,description:"Excalidraw file",extensions:[".excalidraw"]},n.fileHandle)];case 1:return[2,{fileHandle:P.sent()}]}})});return function(h,n){return d.apply(this,arguments)}}(),hn=function(){var d=zb()(function(h){var n;return om(this,function(B){switch(B.label){case 0:return[4,Zh({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return n=B.sent(),[2,Im(n,h)]}})});return function(h){return d.apply(this,
arguments)}}(),pm=function(){var d=zb()(function(){var h,n;return om(this,function(B){switch(B.label){case 0:return[4,Tg.loadLibrary()];case 1:return h=B.sent(),n=JSON.stringify({type:"excalidrawlib",version:1,library:h},null,2),"library.excalidrawlib",[4,Pg(new Blob([n],{type:Oa.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return B.sent(),[2]}})});return function(){return d.apply(this,arguments)}}(),mp=function(){var d=
zb()(function(){var h;return om(this,function(n){switch(n.label){case 0:return[4,Zh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return h=n.sent(),Tg.importLibrary(h),[2]}})});return function(){return d.apply(this,arguments)}}(),Em=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&
W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],
ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Bn=function(){var d=zb()(function(h){var n;return Em(this,function(B){switch(B.label){case 0:if("image/png"!==
h.type)return[3,6];B.label=1;case 1:return B.trys.push([1,4,,5]),[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))];case 2:return[4,B.sent().decodePngMetadata(h)];case 3:return[2,B.sent()];case 4:throw"INVALID"===B.sent().message?Error(Mb("alerts.imageDoesNotContainScene")):Error(Mb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,h.text()]:[3,8];case 7:return n=B.sent(),[3,10];case 8:return[4,new Promise(function(P){var W=new FileReader;W.readAsText(h,"utf8");
W.onloadend=function(){W.readyState===FileReader.DONE&&P(W.result)}})];case 9:n=B.sent(),B.label=10;case 10:if("image/svg+xml"!==h.type)return[3,15];B.label=11;case 11:return B.trys.push([11,14,,15]),[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))];case 12:return[4,B.sent().decodeSvgMetadata({svg:n})];case 13:return[2,B.sent()];case 14:throw"INVALID"===B.sent().message?Error(Mb("alerts.imageDoesNotContainScene")):Error(Mb("alerts.cannotRestoreFromImage"));case 15:return[2,n]}})});return function(h){return d.apply(this,
arguments)}}(),Im=function(){var d=zb()(function(h,n){var B,P;return Em(this,function(W){switch(W.label){case 0:return[4,Bn(h)];case 1:B=W.sent();try{var wa=P=JSON.parse(B);if("excalidraw"!==(null==wa?void 0:wa.type)||wa.elements&&(!Array.isArray(wa.elements)||wa.appState&&"object"!=typeof wa.appState))throw Error(Mb("alerts.couldNotLoadInvalidFile"));var ra=vf(P.elements||[]),Aa=null==n?void 0:n.appearance,Ma;if(Ma=h.handle){var Ga=["application/json",Oa.LO.excalidraw],hb=Ga.includes;a:{if("string"==
typeof h)var lb=h;else{if(h.type){var mb=h.type;break a}lb=h.name||""}mb=/\.(excalidraw|json)$/.test(lb)?"application/json":/\.png$/.test(lb)?"image/png":/\.jpe?g$/.test(lb)?"image/jpeg":/\.svg$/.test(lb)?"image/svg+xml":""}Ma=hb.call(Ga,mb)}return[2,gn({elements:ra,appState:vb(vb({appearance:Aa,fileHandle:Ma?h.handle:null},si(P.appState||{},"export")),n?ji(P.elements||[],n):{})},n)]}catch(Rb){throw console.error(Rb.message),Error(Mb("alerts.couldNotLoadInvalidFile"));}}})});return function(h,n){return d.apply(this,
arguments)}}(),np=function(){var d=zb()(function(h){var n,B;return Em(this,function(P){switch(P.label){case 0:return[4,Bn(h)];case 1:if(n=P.sent(),"excalidrawlib"!==(B=JSON.parse(n)).type)throw Error(Mb("alerts.couldNotLoadInvalidFile"));return[2,B]}})});return function(h){return d.apply(this,arguments)}}(),Fm=function(){var d=zb()(function(h){return Em(this,function(n){return[2,new Promise(function(B,P){try{h.toBlob(function(W){if(!W)return P(new mn(Mb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));
B(W)})}catch(W){P(W)}})]})});return function(h){return d.apply(this,arguments)}}(),Xj=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;
case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,
sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Hm="",Gm=!1,Ph="clipboard"in navigator&&"readText"in navigator.clipboard,Yj="clipboard"in navigator&&"writeText"in navigator.clipboard,Ck="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Bk=function(){var d=zb()(function(h,n){var B,P,W;return Xj(this,
function(wa){switch(wa.label){case 0:B={type:"excalidraw/elements",created:Date.now(),elements:of(h,n)},Hm=P=JSON.stringify(B),wa.label=1;case 1:return wa.trys.push([1,3,,4]),Gm=!1,[4,Bb(P)];case 2:return wa.sent(),[3,4];case 3:return W=wa.sent(),Gm=!0,console.error(W),[3,4];case 4:return[2]}})});return function(h,n){return d.apply(this,arguments)}}(),I=function(){if(!Hm)return{};try{return JSON.parse(Hm)}catch(d){return console.error(d),{}}},Y=function(d){d=function(h){var n=h.trim().split("\n").map(function(P){return P.trim().split("\t")});
if(n.length&&2!==n[0].length&&(n=h.trim().split("\n").map(function(P){return P.trim().split(",")})),0===n.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var B=n[0].length;if(!n.every(function(P){return P.length===B}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};h=Yi(n);return"VALID_SPREADSHEET"!==h.type&&(n=Yi(function(P){for(var W=[],wa=0;wa<P[0].length;wa++){for(var ra=[],Aa=0;Aa<P.length;Aa++)ra.push(P[Aa][wa]);W.push(ra)}return W}(n)),"VALID_SPREADSHEET"===
n.type)?n:h}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},za=function(){var d=zb()(function(h){var n,B,P;return Xj(this,function(W){switch(W.label){case 0:return W.trys.push([0,5,,6]),h?(B=null===(n=h.clipboardData)||void 0===n?void 0:n.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(P=Ph)?[4,navigator.clipboard.readText()]:[3,3];case 2:P=W.sent(),W.label=3;case 3:B=P,W.label=4;case 4:return[2,B||""];case 5:return W.sent(),[2,""];case 6:return[2]}})});return function(h){return d.apply(this,
arguments)}}(),$a=function(){var d=zb()(function(h){var n,B,P,W;return Xj(this,function(wa){switch(wa.label){case 0:return[4,za(h)];case 1:if(!(n=wa.sent())||n.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,I()];if(B=Y(n))return[2,B];P=I();try{return W=JSON.parse(n),"excalidraw/elements"===(null==(ra=W)?void 0:ra.type)&&(null==P||!P.created||P.created<W.created)?[2,{elements:W.elements}]:[2,P]}catch(Aa){return[2,Gm&&P.elements?P:{text:n}]}}var ra})});return function(h){return d.apply(this,
arguments)}}(),sb=function(){var d=zb()(function(h){var n;return Xj(this,function(B){switch(B.label){case 0:return[4,Fm(h)];case 1:return n=B.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":n})])];case 2:return B.sent(),[2]}})});return function(h){return d.apply(this,arguments)}}(),Bb=function(){var d=zb()(function(h){var n,B;return Xj(this,function(P){switch(P.label){case 0:if(n=!1,!Yj)return[3,4];P.label=1;case 1:return P.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(h||
"")];case 2:return P.sent(),n=!0,[3,4];case 3:return B=P.sent(),console.error(B),[3,4];case 4:if(P=!n){var W=h||" ",wa="rtl"===document.documentElement.getAttribute("dir");P=document.createElement("textarea");P.style.border="0";P.style.padding="0";P.style.margin="0";P.style.position="absolute";P.style[wa?"right":"left"]="-9999px";P.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");P.style.fontSize="12pt";P.setAttribute("readonly","");P.value=W;document.body.appendChild(P);
W=!1;try{P.select(),P.setSelectionRange(0,P.value.length),W=document.execCommand("copy")}catch(ra){console.error(ra)}P=!(P.remove(),W)}if(P)throw Error("couldn't copy");return[2]}})});return function(h){return d.apply(this,arguments)}}(),dc=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=
0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=
h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},qc=function(){var d=zb()(function(h,n,B,P,W){var wa,ra,Aa,Ma,Ga,hb,lb,mb,Rb,Ob=W.exportBackground,tc=W.exportPadding,Zc=void 0===tc?10:tc,dd=W.viewBackgroundColor,
pd=W.name;tc=W.scale;var te=void 0===tc?1:tc,oe=W.shouldAddWatermark;return dc(this,function(Fe){switch(Fe.label){case 0:if(0===n.length)throw Error(Mb("alerts.cannotExportEmptyCanvas"));return"svg"!==h&&"clipboard-svg"!==h?[3,7]:(ra=Ml,Aa=[n],Ma={exportBackground:Ob,exportWithDarkMode:B.exportWithDarkMode,viewBackgroundColor:dd,exportPadding:Zc,scale:te,shouldAddWatermark:oe},B.exportEmbedScene&&"svg"===h?[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))]:[3,3]);case 1:return[4,Fe.sent().encodeSvgMetadata({text:Zl(n,
B)})];case 2:return Ga=Fe.sent(),[3,4];case 3:Ga=void 0,Fe.label=4;case 4:return wa=ra.apply(void 0,Aa.concat([(Ma.metadata=Ga,Ma)])),"svg"!==h?[3,6]:[4,Pg(new Blob([wa.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(pd,".svg"),extensions:[".svg"]})];case 5:return Fe.sent(),[2];case 6:if("clipboard-svg"===h)return Bb(wa.outerHTML),[2];Fe.label=7;case 7:return(hb=sm(n,B,{exportBackground:Ob,viewBackgroundColor:dd,exportPadding:Zc,scale:te,shouldAddWatermark:oe})).style.display="none",document.body.appendChild(hb),
"png"!==h?[3,13]:(lb="".concat(pd,".png"),[4,Fm(hb)]);case 8:return mb=Fe.sent(),B.exportEmbedScene?[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))]:[3,11];case 9:return[4,Fe.sent().encodePngMetadata({blob:mb,metadata:Zl(n,B)})];case 10:mb=Fe.sent(),Fe.label=11;case 11:return[4,Pg(mb,{fileName:lb,extensions:[".png"]})];case 12:return Fe.sent(),[3,17];case 13:if("clipboard"!==h)return[3,17];Fe.label=14;case 14:return Fe.trys.push([14,16,,17]),[4,sb(hb)];case 15:return Fe.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===
(Rb=Fe.sent()).name)throw Rb;throw Error(Mb("alerts.couldNotCopyToClipboard"));case 17:return hb!==P&&hb.remove(),[2]}})});return function(h,n,B,P,W){return d.apply(this,arguments)}}(),Ec=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=
Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&
Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Rc,jd,Ld;Ud({name:"changeProjectName",perform:function(d,h,n){return gh("change","title"),{appState:Ua(Ua({},h),{},{name:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement(Eh,
{label:Mb("labels.fileTitle"),value:h.name||"Unnamed",onChange:function(B){return n(B)}})}});Ud({name:"changeExportBackground",perform:function(d,h,n){return{appState:Ua(Ua({},h),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement("label",null,R().createElement("input",{type:"checkbox",checked:h.exportBackground,onChange:function(B){return n(B.target.checked)}})," ",Mb("labels.withBackground"))}});Ud({name:"changeExportEmbedScene",
perform:function(d,h,n){return{appState:Ua(Ua({},h),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement("label",{style:{display:"flex"}},R().createElement("input",{type:"checkbox",checked:h.exportEmbedScene,onChange:function(B){return n(B.target.checked)}})," ",Mb("labels.exportEmbedScene"),R().createElement(Jh,{label:Mb("labels.exportEmbedScene_details"),position:"above",long:!0},R().createElement("div",{className:"TooltipIcon"},
$c)))}});Ud({name:"changeShouldAddWatermark",perform:function(d,h,n){return{appState:Ua(Ua({},h),{},{shouldAddWatermark:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement("label",null,R().createElement("input",{type:"checkbox",checked:h.shouldAddWatermark,onChange:function(B){return n(B.target.checked)}})," ",Mb("labels.addWatermark"))}});Ud({name:"saveScene",perform:(Rc=zb()(function(d,h,n){var B,P,W;return Ec(this,function(wa){switch(wa.label){case 0:B=
!!h.fileHandle,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,$l(d,h)];case 2:return P=wa.sent().fileHandle,[2,{commitToHistory:!1,appState:Ua(Ua({},h),{},{fileHandle:P,toastMessage:B?P.name?Mb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(P.name,'"')):Mb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(W=wa.sent())?void 0:W.name)&&console.error(W),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,h,n){return Rc.apply(this,arguments)}),keyTest:function(d){return"s"===
d.key&&d[Te]&&!d.shiftKey},PanelComponent:function(d){var h=d.updateData;return R().createElement($e,{type:"button",icon:re,title:Mb("buttons.save"),"aria-label":Mb("buttons.save"),showAriaLabel:Oe(),onClick:function(){return h(null)}})}});Ud({name:"saveAsScene",perform:(jd=zb()(function(d,h,n){var B,P;return Ec(this,function(W){switch(W.label){case 0:return W.trys.push([0,2,,3]),[4,$l(d,Ua(Ua({},h),{},{fileHandle:null}))];case 1:return B=W.sent().fileHandle,[2,{commitToHistory:!1,appState:Ua(Ua({},
h),{},{fileHandle:B})}];case 2:return"AbortError"!==(null==(P=W.sent())?void 0:P.name)&&console.error(P),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,h,n){return jd.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[Te]},PanelComponent:function(d){var h=d.updateData;return R().createElement($e,{type:"button",icon:ym,title:Mb("buttons.saveAs"),"aria-label":Mb("buttons.saveAs"),showAriaLabel:Oe(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in
window),onClick:function(){return h(null)}})}});Ud({name:"loadScene",perform:(Ld=zb()(function(d,h){var n,B,P,W;return Ec(this,function(wa){switch(wa.label){case 0:return wa.trys.push([0,2,,3]),[4,hn(h)];case 1:return n=wa.sent(),B=n.elements,P=n.appState,[2,{elements:B,appState:P,commitToHistory:!0}];case 2:return"AbortError"===(null==(W=wa.sent())?void 0:W.name)?[2,!1]:[2,{elements:d,appState:Ua(Ua({},h),{},{errorMessage:W.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,h){return Ld.apply(this,
arguments)}),keyTest:function(d){return d[Te]&&"o"===d.key},PanelComponent:function(d){var h=d.updateData;d.appState;return R().createElement($e,{type:"button",icon:mm,title:Mb("buttons.load"),"aria-label":Mb("buttons.load"),showAriaLabel:Oe(),onClick:h})}});Ud({name:"exportWithDarkMode",perform:function(d,h,n){return{appState:Ua(Ua({},h),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;return R().createElement("div",{style:{display:"flex",
justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},R().createElement(Lk,{value:h.exportWithDarkMode?"dark":"light",onChange:function(B){n("dark"===B)},title:Mb("labels.toggleExportColorScheme")}))}});var Vd="{}",kf=Ud({name:"copyStyles",perform:function(d,h){d=d.find(function(n){return h.selectedElementIds[n.id]});return d&&(Vd=JSON.stringify(d)),{appState:ob(ob({},h),{},{toastMessage:Mb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[Te]&&
d.altKey&&"KeyC"===d.code}}),af=Ud({name:"pasteStyles",perform:function(d,h){var n=JSON.parse(Vd);return"text"!==(null==n?void 0:n.type)&&"diamond"!==(null==n?void 0:n.type)&&"rectangle"!==(null==n?void 0:n.type)&&"ellipse"!==(null==n?void 0:n.type)&&"arrow"!==(null==n?void 0:n.type)&&"draw"!==(null==n?void 0:n.type)&&"line"!==(null==n?void 0:n.type)?{elements:d,commitToHistory:!1}:{elements:d.map(function(B){return h.selectedElementIds[B.id]?(B=qg(B,{backgroundColor:null==n?void 0:n.backgroundColor,
strokeWidth:null==n?void 0:n.strokeWidth,strokeColor:null==n?void 0:n.strokeColor,strokeStyle:null==n?void 0:n.strokeStyle,fillStyle:null==n?void 0:n.fillStyle,opacity:null==n?void 0:n.opacity,roughness:null==n?void 0:n.roughness}),Xd(B)&&(bf(B,{fontSize:(null==n?void 0:n.fontSize)||Oa.n5,fontFamily:(null==n?void 0:n.fontFamily)||Oa.rk,textAlign:(null==n?void 0:n.textAlign)||Oa.Hg}),qk(B)),B):B}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[Te]&&d.altKey&&
"KeyV"===d.code}}),ci=function(d){return R().createElement("label",{title:"".concat(d.title," — ?"),className:"help-icon"},R().createElement("div",{onClick:d.onClick},$c))};Ud({name:"toggleCanvasMenu",perform:function(d,h){return{appState:gc(gc({},h),{},{openMenu:"canvas"===h.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var h=d.appState;d=d.updateData;return R().createElement($e,{type:"button",icon:Sk,"aria-label":Mb("buttons.menu"),onClick:d,selected:"canvas"===h.openMenu})}});
Ud({name:"toggleEditMenu",perform:function(d,h){return{appState:gc(gc({},h),{},{openMenu:"shape"===h.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var h=d.elements,n=d.appState;d=d.updateData;return R().createElement($e,{visible:kh(n,Wd(h)),type:"button",icon:$i,"aria-label":Mb("buttons.edit"),onClick:d,selected:"shape"===n.openMenu})}});Ud({name:"toggleFullScreen",perform:function(){return qh()||document.documentElement.requestFullscreen(),qh()&&document.exitFullscreen(),
{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[Te]}});Ud({name:"toggleShortcuts",perform:function(d,h){return{appState:gc(gc({},h),{},{showHelpDialog:!h.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;return R().createElement(ci,{title:Mb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Vk=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},ck=function(d,h){d=of(Wd(d),h);return 2<=d.length&&
!function(n){if(2<=n.length)for(var B=function(ra){if(n.reduce(function(Aa,Ma){return Aa&&Ma.groupIds.includes(ra)},!0))return{value:!0}},P=0,W=n[0].groupIds;P<W.length;P++){var wa=B(W[P]);if("object"==typeof wa)return wa.value}return!1}(d)},Uf=Ud({name:"group",perform:function(d,h){var n=of(Wd(d),h);if(2>n.length)return{appState:h,elements:d,commitToHistory:!1};var B=Ii(h);if(1===B.length&&(B=new Set(ek(d,B[0]).map(function(wa){return wa.id})),n=new Set(n.map(function(wa){return wa.id})),(new Set(Vk(Vk([],
Array.from(B)),Array.from(n)))).size===B.size))return{appState:h,elements:d,commitToHistory:!1};var P=ui();B=d.map(function(wa){if(h.selectedElementIds[wa.id]){var ra=h.editingGroupId;var Aa=ul([],wa.groupIds);ra=ra?Aa.indexOf(ra):-1;Aa=(Aa.splice(-1<ra?ra:Aa.length,0,P),Aa);wa=qg(wa,{groupIds:Aa})}return wa});d=ek(B,P);var W=B.lastIndexOf(d[d.length-1]);n=B.slice(W+1);B=B.slice(0,W).filter(function(wa){return!wa.groupIds.includes(P)});d=Vk(Vk(Vk([],B),d),n);return{appState:dk(P,zc(zc({},h),{},{selectedGroupIds:{}}),
Wd(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,h){return ck(d,h)},keyTest:function(d){return!d.shiftKey&&d[Te]&&"KeyG"===d.code},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{hidden:!ck(h,n),type:"button",icon:R().createElement(Id,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Mb("labels.group")," — ").concat(Od("CtrlOrCmd+G")),"aria-label":Mb("labels.group"),
visible:jg(Wd(h),n)})}}),vi=Ud({name:"ungroup",perform:function(d,h){if(0===Ii(h).length)return{appState:h,elements:d,commitToHistory:!1};d=d.map(function(n){var B=function(P,W){return P.filter(function(wa){return!W[wa]})}(n.groupIds,h.selectedGroupIds);return B.length===n.groupIds.length?n:qg(n,{groupIds:B})});return{appState:Rh(zc(zc({},h),{},{selectedGroupIds:{}}),Wd(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[Te]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",
contextItemPredicate:function(d,h){return 0<Ii(h).length},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{type:"button",hidden:0===Ii(n).length,icon:R().createElement(Mj,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Mb("labels.ungroup")," — ").concat(Od("CtrlOrCmd+Shift+G")),"aria-label":Mb("labels.ungroup"),visible:jg(Wd(h),n)})}}),Jk=(g(1395),function(d){var h=d.children,n=d.color,B=d.border;d=d.onClick;return R().createElement("div",
{className:"Avatar",style:{background:n,border:"1px solid ".concat(B)},onClick:d},h)});Ud({name:"goToCollaborator",perform:function(d,h,n){return n?{appState:Sc(Sc(Sc({},h),Ti({scenePoint:n,viewportDimensions:{width:h.width,height:h.height},zoom:h.zoom})),{},{openMenu:"canvas"===h.openMenu?null:h.openMenu}),commitToHistory:!1}:{appState:h,commitToHistory:!1}},PanelComponent:function(d){var h=d.appState,n=d.updateData;d=d.id;if(!d)return null;var B=h.collaborators.get(d);if(!B)return null;d=Oi(d,h);
h=d.background;d=d.stroke;var P=function(W){if(!W)return"?";W=W.trim().split(" ");return 2>W.length?W[0].substring(0,2).toUpperCase():(W[0][0]+W[W.length-1][0]).toUpperCase()}(B.username);return R().createElement(Jk,{color:h,border:d,onClick:function(){return n(B.pointer)}},P)}});var Km=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Fo=Ud({name:"addToLibrary",perform:function(d,h){var n=of(Wd(d),h);return Tg.loadLibrary().then(function(B){Tg.saveLibrary(Km(Km([],B),
[n.map(Ij)]))}),!1},contextItemLabel:"labels.addToLibrary"}),En=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Yn=function(d){var h=new Map;return d.forEach(function(n){var B=0===n.groupIds.length?n.id:n.groupIds[n.groupIds.length-1],P=h.get(B)||[];h.set(B,En(En([],P),[n]))}),Array.from(h.values())},uf=function(d,h,n){var B,P,W,wa=n.axis;n=n.position;d=Zj(d);var ra="x"===wa?["minX","maxX"]:["minY","maxY"],Aa=ra[0];ra=ra[1];return lc(lc({},{x:0,y:0}),{},"start"===n?
((B={})[wa]=h[Aa]-d[Aa],B):"end"===n?((P={})[wa]=h[ra]-d[ra],P):((W={})[wa]=(h[Aa]+h[ra])/2-(d[Aa]+d[ra])/2,W))},Zj=function(d){d=zg(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},Uh=function(d,h){return 1<of(Wd(d),h).length},Hi=function(d,h,n){h=function(P,W){var wa=Yn(P),ra=Zj(P);return wa.flatMap(function(Aa){var Ma=uf(Aa,ra,W);return Aa.map(function(Ga){return qg(Ga,{x:Ga.x+Ma.x,y:Ga.y+Ma.y})})})}(of(Wd(d),h),n);var B=Xi(h);return d.map(function(P){return B[P.id]||P})},nn=(Ud({name:"alignTop",
perform:function(d,h){return{appState:h,elements:Hi(d,h,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Te]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{hidden:!Uh(h,n),type:"button",icon:R().createElement(Bh,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Mb("labels.alignTop")," — ").concat(Od("CtrlOrCmd+Shift+Up")),"aria-label":Mb("labels.alignTop"),
visible:jg(Wd(h),n)})}}),Ud({name:"alignBottom",perform:function(d,h){return{appState:h,elements:Hi(d,h,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Te]&&d.shiftKey&&"ArrowDown"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{hidden:!Uh(h,n),type:"button",icon:R().createElement(wg,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Mb("labels.alignBottom")," — ").concat(Od("CtrlOrCmd+Shift+Down")),
"aria-label":Mb("labels.alignBottom"),visible:jg(Wd(h),n)})}}),Ud({name:"alignLeft",perform:function(d,h){return{appState:h,elements:Hi(d,h,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[Te]&&d.shiftKey&&"ArrowLeft"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{hidden:!Uh(h,n),type:"button",icon:R().createElement(Lj,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Mb("labels.alignLeft"),
" — ").concat(Od("CtrlOrCmd+Shift+Left")),"aria-label":Mb("labels.alignLeft"),visible:jg(Wd(h),n)})}}),Ud({name:"alignRight",perform:function(d,h){return{appState:h,elements:Hi(d,h,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[Te]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{hidden:!Uh(h,n),type:"button",icon:R().createElement(on,{appearance:n.appearance}),onClick:function(){return B(null)},
title:"".concat(Mb("labels.alignRight")," — ").concat(Od("CtrlOrCmd+Shift+Right")),"aria-label":Mb("labels.alignRight"),visible:jg(Wd(h),n)})}}),Ud({name:"alignVerticallyCentered",perform:function(d,h){return{appState:h,elements:Hi(d,h,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{hidden:!Uh(h,n),type:"button",icon:R().createElement(Ch,{appearance:n.appearance}),onClick:function(){return B(null)},
title:Mb("labels.centerVertically"),"aria-label":Mb("labels.centerVertically"),visible:jg(Wd(h),n)})}}),Ud({name:"alignHorizontallyCentered",perform:function(d,h){return{appState:h,elements:Hi(d,h,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{hidden:!Uh(h,n),type:"button",icon:R().createElement(ad,{appearance:n.appearance}),onClick:function(){return B(null)},title:Mb("labels.centerHorizontally"),
"aria-label":Mb("labels.centerHorizontally"),visible:jg(Wd(h),n)})}}),function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d}),$p=function(d){var h=new Map;return d.forEach(function(n){var B=0===n.groupIds.length?n.id:n.groupIds[n.groupIds.length-1],P=h.get(B)||[];h.set(B,nn(nn([],P),[n]))}),Array.from(h.values())},tj=function(d){var h=zg(d);d=h[0];var n=h[1],B=h[2];h=h[3];return{minX:d,minY:n,maxX:B,maxY:h,width:B-d,height:h-n,midX:(d+B)/2,midY:(n+h)/2}},Eo=function(d,h){return 1<
of(Wd(d),h).length},Cn=function(d,h,n){h=function(P,W){var wa="x"===W.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],ra=wa[0],Aa=wa[1],Ma=wa[2],Ga=wa[3],hb=tj(P);P=$p(P).map(function(pd){return[pd,tj(pd)]}).sort(function(pd,te){return pd[1][Aa]-te[1][Aa]});for(var lb=wa=0;lb<P.length;lb++)wa+=P[lb][1][Ga];var mb=(hb[Ga]-wa)/(P.length-1);if(0>mb){var Rb=P.findIndex(function(pd){return pd[1][ra]===hb[ra]}),Ob=P.findIndex(function(pd){return pd[1][Ma]===hb[Ma]}),tc=(P[Ob][1][Aa]-
P[Rb][1][Aa])/(P.length-1),Zc=P[Rb][1][Aa];return P.flatMap(function(pd,te){var oe=pd[0];pd=pd[1];var Fe={x:0,y:0};return te!==Rb&&te!==Ob&&(Zc+=tc,Fe[W.axis]=Zc-pd[Aa]),oe.map(function(we){return qg(we,{x:we.x+Fe.x,y:we.y+Fe.y})})})}var dd=hb[ra];return P.flatMap(function(pd){var te=pd[0];pd=pd[1];var oe={x:0,y:0};return oe[W.axis]=dd-pd[ra],dd+=mb,dd+=pd[Ga],te.map(function(Fe){return qg(Fe,{x:Fe.x+oe.x,y:Fe.y+oe.y})})})}(of(Wd(d),h),n);var B=Xi(h);return d.map(function(P){return B[P.id]||P})},
Wn=(Ud({name:"distributeHorizontally",perform:function(d,h){return{appState:h,elements:Cn(d,h,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{hidden:!Eo(h,n),type:"button",icon:R().createElement(Qc,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Mb("labels.distributeHorizontally")," — ").concat(Od("Alt+H")),"aria-label":Mb("labels.distributeHorizontally"),
visible:jg(Wd(h),n)})}}),Ud({name:"distributeVertically",perform:function(d,h){return{appState:h,elements:Cn(d,h,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyV"===d.code},PanelComponent:function(d){var h=d.elements,n=d.appState,B=d.updateData;return R().createElement($e,{hidden:!Eo(h,n),type:"button",icon:R().createElement(Cd,{appearance:n.appearance}),onClick:function(){return B(null)},title:"".concat(Mb("labels.distributeVertically")," — ").concat(Od("Alt+V")),
"aria-label":Mb("labels.distributeVertically"),visible:jg(Wd(h),n)})}}),function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();
ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,sent:function(){if(1&
W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),kn=Ud({name:"copy",perform:function(d,h){return Bk(Wd(d),h),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),Zp=Ud({name:"cut",perform:function(d,h,n,B){return kn.perform(d,h,n,B),pn.perform(d,h,n,B)},contextItemLabel:"labels.cut",keyTest:function(d){return d[Te]&&"KeyX"===d.code}}),rp=Ud({name:"copyAsSvg",perform:function(){var d=
zb()(function(h,n,B,P){var W,wa;return Wn(this,function(ra){switch(ra.label){case 0:if(!P.canvas)return[2,{commitToHistory:!1}];W=of(Wd(h),n);ra.label=1;case 1:return ra.trys.push([1,3,,4]),[4,qc("clipboard-svg",W.length?W:Wd(h),n,P.canvas,n)];case 2:return ra.sent(),[2,{commitToHistory:!1}];case 3:return wa=ra.sent(),console.error(wa),[2,{appState:Zd(Zd({},n),{},{errorMessage:wa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(h,n,B,P){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),
qp=Ud({name:"copyAsPng",perform:function(){var d=zb()(function(h,n,B,P){var W,wa;return Wn(this,function(ra){switch(ra.label){case 0:if(!P.canvas)return[2,{commitToHistory:!1}];W=of(Wd(h),n);ra.label=1;case 1:return ra.trys.push([1,3,,4]),[4,qc("clipboard",W.length?W:Wd(h),n,P.canvas,n)];case 2:return ra.sent(),[2,{appState:Zd(Zd({},n),{},{toastMessage:Mb("toast.copyToClipboardAsPng",{exportSelection:W.length?Mb("toast.selection"):Mb("toast.canvas"),exportColorScheme:n.exportWithDarkMode?Mb("buttons.darkMode"):
Mb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return wa=ra.sent(),console.error(wa),[2,{appState:Zd(Zd({},n),{},{errorMessage:wa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(h,n,B,P){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),op=Ud({name:"gridMode",perform:function(d,h){return gh("view","mode","grid"),{appState:Lc(Lc({},h),{},{gridSize:this.checked(h)?null:Oa.k}),commitToHistory:!1}},
checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[Te]&&"Quote"===d.code}}),de=Ud({name:"zenMode",perform:function(d,h){return gh("view","mode","zen"),{appState:ub(ub({},h),{},{zenModeEnabled:!this.checked(h)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[Te]&&d.altKey&&"KeyZ"===d.code}}),Xn=Ud({name:"stats",perform:function(d,h){return{appState:Vb(Vb({},
h),{},{showStats:!this.checked(h)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),pp=function(d,h,n){if(!(h.multiElement||h.resizingElement||h.editingElement||h.draggingElement)){n=n();if(null===n)return{commitToHistory:!1};var B=Xi(d),P=n.elements,W=Xi(P);d=d.filter(function(wa){return!W.hasOwnProperty(wa.id)});P=P.map(function(wa){return qg(B[wa.id]||wa,wa)}).concat(d.map(function(wa){return qg(wa,{isDeleted:!0})}));return pj(P,d),{elements:P,appState:nd(nd({},
h),n.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},rm=function(){function d(h,n,B,P){var W=this;this.actions={};this.renderAction=function(wa,ra){if(W.actions[wa]&&"PanelComponent"in W.actions[wa]){var Aa=W.actions[wa];wa=Aa.PanelComponent;return R().createElement(wa,{elements:W.getElementsIncludingDeleted(),appState:W.getAppState(),updateData:function(Ma){W.updater(Aa.perform(W.getElementsIncludingDeleted(),W.getAppState(),Ma,W.app))},id:ra})}return null};this.updater=
function(wa){if(!(wa&&"then"in wa))return h(wa);wa.then(function(ra){return h(ra)})};this.getAppState=n;this.getElementsIncludingDeleted=B;this.app=P}return d.prototype.registerAction=function(h){this.actions[h.name]=h},d.prototype.registerAll=function(h){var n=this;h.forEach(function(B){return n.registerAction(B)})},d.prototype.handleKeyDown=function(h){var n=this,B=Object.values(this.actions).sort(function(P,W){return(W.keyPriority||0)-(P.keyPriority||0)}).filter(function(P){return P.keyTest&&P.keyTest(h,
n.getAppState(),n.getElementsIncludingDeleted())});return 0!==B.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Oa.EH).includes(B[0].name))&&(h.preventDefault(),this.updater(B[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(h){this.updater(h.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),Om=function(d){d=Array.from(d.values());return{x:ao(d,function(h){return h.x})/d.length,y:ao(d,
function(h){return h.y})/d.length}},Zn=function(d){var h=d[0];d=d[1];return Math.hypot(h.x-d.x,h.y-d.y)},ao=function(d,h){return d.reduce(function(n,B){return n+h(B)},0)},Go,aq=function(){function d(){var h=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(n,B){return h.dehydrateHistoryEntry({appState:{selectedElementIds:n.selectedElementIds,viewBackgroundColor:n.viewBackgroundColor,editingLinearElement:n.editingLinearElement,
editingGroupId:n.editingGroupId,name:n.name},elements:B.reduce(function(P,W){if(Eg(W)&&n.multiElement&&n.multiElement.id===W.id){if(n.multiElement&&n.multiElement.id===W.id&&2>W.points.length)return P;P.push(je(je({},W),{},{points:W.lastCommittedPoint!==W.points[W.points.length-1]?W.points.slice(0,-1):W.points}))}else P.push(W);return P},[])})}}return d.prototype.hydrateHistoryEntry=function(h){var n=h.elements,B=this;return{appState:JSON.parse(h.appState),elements:n.map(function(P){var W,wa=null===
(W=B.elementCache.get(P.id))||void 0===W?void 0:W.get(P.versionNonce);if(!wa)throw Error("Element not found: ".concat(P.id,":").concat(P.versionNonce));return wa})}},d.prototype.dehydrateHistoryEntry=function(h){var n=h.elements,B=this;return{appState:JSON.stringify(h.appState),elements:n.map(function(P){B.elementCache.has(P.id)||B.elementCache.set(P.id,new Map);var W=B.elementCache.get(P.id);return W.has(P.versionNonce)||W.set(P.versionNonce,Ij(P)),{id:P.id,versionNonce:P.versionNonce}})}},d.prototype.getSnapshotForTest=
function(){var h=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(n){return h.hydrateHistoryEntry(n)}),redoStack:this.redoStack.map(function(n){return h.hydrateHistoryEntry(n)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=function(h){var n,B=this.lastEntry;if(!B||h.elements.length!==B.elements.length)return!0;for(var P=h.elements.length-1;-1<P;P--){var W=
h.elements[P],wa=B.elements[P];if(!W||!wa||W.id!==wa.id||W.versionNonce!==wa.versionNonce)return!0}for(n in h.appState){var ra,Aa;if(("editingLinearElement"!==n||(null===(ra=h.appState[n])||void 0===ra?void 0:ra.elementId)!==(null===(Aa=B.appState[n])||void 0===Aa?void 0:Aa.elementId))&&"selectedElementIds"!==n&&h.appState[n]!==B.appState[n])return!0}return!1},d.prototype.pushEntry=function(h,n){h=this.generateEntry(h,n);(n=this.hydrateHistoryEntry(h))&&this.shouldCreateEntry(n)&&(this.stateHistory.push(h),
this.lastEntry=n,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var h=this.redoStack.pop();return void 0!==h?(this.stateHistory.push(h),this.hydrateHistoryEntry(h)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var h=this.stateHistory.pop(),n=this.stateHistory[this.stateHistory.length-1];return void 0!==h?(this.redoStack.push(h),
this.hydrateHistoryEntry(n)):null},d.prototype.setCurrentState=function(h,n){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(h,n))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(h,n){this.recording&&(this.pushEntry(h,n),this.recording=!1)},d}(),tm=[{icon:R().createElement("svg",{viewBox:"0 0 320 512",className:""},R().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:R().createElement("svg",{viewBox:"0 0 448 512"},R().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:R().createElement("svg",{viewBox:"0 0 223.646 223.646"},R().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:R().createElement("svg",{viewBox:"0 0 512 512"},R().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:R().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},R().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:R().createElement("svg",{viewBox:"0 0 6 6"},
R().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:R().createElement("svg",{viewBox:"0 0 512 512"},R().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:R().createElement("svg",{viewBox:"0 0 448 512"},R().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Do=(g(4518),{cut:[Od("CtrlOrCmd+X")],copy:[Od("CtrlOrCmd+C")],
paste:[Od("CtrlOrCmd+V")],copyStyles:[Od("CtrlOrCmd+Alt+C")],pasteStyles:[Od("CtrlOrCmd+Alt+V")],selectAll:[Od("CtrlOrCmd+A")],deleteSelectedElements:[Od("Del")],duplicateSelection:[Od("CtrlOrCmd+D"),Od("Alt+".concat(Mb("helpDialog.drag")))],sendBackward:[Od("CtrlOrCmd+[")],bringForward:[Od("CtrlOrCmd+]")],sendToBack:[Od(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Od(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Od("Shift+Alt+C")],copyAsSvg:[],group:[Od("CtrlOrCmd+G")],ungroup:[Od("CtrlOrCmd+Shift+G")],
gridMode:[Od("CtrlOrCmd+'")],zenMode:[Od("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Od("Alt+R")]}),Yp=function(d){var h,n=d.options,B=d.onCloseRequest,P=d.top,W=d.left,wa=d.actionManager,ra=d.appState;d=!(null===(h=document.querySelector(".excalidraw"))||void 0===h||!h.classList.contains("Appearance_dark"));return R().createElement("div",{className:Kc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},R().createElement(fb,{onCloseRequest:B,top:P,left:W,fitInViewport:!0},R().createElement("ul",
{className:"context-menu",onContextMenu:function(Aa){return Aa.preventDefault()}},n.map(function(Aa,Ma){var Ga;if("separator"===Aa)return R().createElement("hr",{key:Ma,className:"context-menu-option-separator"});var hb,lb=Aa.name,mb=Aa.contextItemLabel?Mb(Aa.contextItemLabel):"";return R().createElement("li",{key:Ma,"data-testid":lb,onClick:B},R().createElement("button",{className:Kc("context-menu-option",{dangerous:"deleteSelectedElements"===lb,checkmark:null===(Ga=Aa.checked)||void 0===Ga?void 0:
Ga.call(Aa,ra)}),onClick:function(){return wa.executeAction(Aa)}},R().createElement("div",{className:"context-menu-option__label"},mb),R().createElement("kbd",{className:"context-menu-option__shortcut"},lb?(hb=Do[lb])&&0<hb.length?hb[0]:"":"")))}))))},Co=function(){if(Go)return Go;var d=document.createElement("div");return document.body.appendChild(d),Go=d},Lm=function(){(0,Rf.unmountComponentAtNode)(Co())};const Dn=function(d){var h=[];d.options.forEach(function(n){n&&h.push(n)});h.length&&(0,Rf.render)(R().createElement(Yp,
{top:d.top,left:d.left,options:h,onCloseRequest:Lm,actionManager:d.actionManager,appState:d.appState}),Co())};g(1575);const Wk=function(d){var h=d.children,n=d.gap,B=d.align,P=d.justifyContent,W=d.className;d=d.style;return R().createElement("div",{className:Kc("Stack Stack_horizontal",W),style:Oc({"--gap":n,alignItems:B,justifyContent:P},d)},h)},Xk=function(d){var h=d.children,n=d.gap,B=d.align,P=d.justifyContent;d=d.className;return R().createElement("div",{className:Kc("Stack Stack_vertical",d),
style:{"--gap":n,justifyItems:B,justifyContent:P}},h)};var Zq=function(d){var h=d.appState,n=d.renderAction,B=d.elementType;d=lk(Wd(d.elements),h);h=!!h.editingElement;var P=Oe(),W="rtl"===document.documentElement.getAttribute("dir"),wa=Kj(B)||d.some(function(Aa){return Kj(Aa.type)&&(Ma=Aa.backgroundColor,Ga=5===Ma.length&&"0"===Ma.substr(4,1),hb=9===Ma.length&&"00"===Ma.substr(7,2),!(Ga||hb||Ma===Dk.elementBackground[0]));var Ma,Ga,hb}),ra=Kj(B)||d.some(function(Aa){return Kj(Aa.type)});return R().createElement("div",
{className:"panelColumn"},n("changeStrokeColor"),ra&&n("changeBackgroundColor"),wa&&n("changeFillStyle"),(Kf(B)||d.some(function(Aa){return Kf(Aa.type)}))&&R().createElement(R().Fragment,null,n("changeStrokeWidth"),n("changeStrokeStyle"),n("changeSloppiness")),(rk(B)||d.some(function(Aa){return rk(Aa.type)}))&&R().createElement(R().Fragment,null,n("changeSharpness")),("text"===B||d.some(function(Aa){return"text"===Aa.type}))&&R().createElement(R().Fragment,null,n("changeFontSize"),n("changeFontFamily"),
n("changeTextAlign")),("arrow"===B||d.some(function(Aa){return"arrow"===Aa.type}))&&R().createElement(R().Fragment,null,n("changeArrowhead")),n("changeOpacity"),R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.layers")),R().createElement("div",{className:"buttonList"},n("sendToBack"),n("sendBackward"),n("bringToFront"),n("bringForward"))),1<d.length&&R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.align")),R().createElement("div",{className:"buttonList"},
W?R().createElement(R().Fragment,null,n("alignRight"),n("alignHorizontallyCentered"),n("alignLeft")):R().createElement(R().Fragment,null,n("alignLeft"),n("alignHorizontallyCentered"),n("alignRight")),2<d.length&&n("distributeHorizontally"),R().createElement("div",{className:"iconRow"},n("alignTop"),n("alignVerticallyCentered"),n("alignBottom"),2<d.length&&n("distributeVertically")))),!P&&!h&&0<d.length&&R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.actions")),R().createElement("div",
{className:"buttonList"},n("duplicateSelection"),n("deleteSelectedElements"),n("group"),n("ungroup"))))},Sr=R().createElement("svg",{viewBox:"0 0 512 512"},R().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
Xp=function(d){var h=d.canvas,n=d.elementType,B=d.setAppState,P=d.isLibraryOpen;return R().createElement(R().Fragment,null,tm.map(function(W,wa){var ra=W.value,Aa=W.icon,Ma=W.key;W=Mb("toolBar.".concat(ra));Ma="".concat(gj("string"==typeof Ma?Ma:Ma[0])," ").concat(Mb("helpDialog.or")," ").concat(wa+1);return R().createElement($e,{className:"Shape",key:ra,type:"radio",icon:Aa,checked:n===ra,name:"editor-current-shape",title:"".concat(gj(W)," — ").concat(Ma),keyBindingLabel:"".concat(wa+1),"aria-label":gj(W),
"aria-keyshortcuts":Ma,"data-testid":ra,onChange:function(){B({elementType:ra,multiElement:null,selectedElementIds:{}});ri(h,ra);B({})}})}),R().createElement($e,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Sr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(gj(Mb("toolBar.library"))," — 9"),"aria-label":gj(Mb("toolBar.library")),onClick:function(){B({isLibraryOpen:!P})}}))},Rr=function(d){var h=d.renderAction;d=d.zoom;return R().createElement(Xk,
{gap:1},R().createElement(Wk,{gap:1,align:"center"},h("zoomIn"),h("zoomOut"),h("resetZoom"),R().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Yq=function(d){var h=d.appState,n=d.setAppState;d=d.actionManager;return R().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),R().createElement("div",{style:{marginInlineStart:"0.25rem"}},R().createElement(Lk,{value:h.appearance,onChange:function(B){n({appearance:B})}})))};g(3211);
const $q=function(d){var h=d.isCollaborating,n=d.collaboratorCount;d=d.onClick;return R().createElement(R().Fragment,null,R().createElement($e,{className:Kc("CollabButton",{"is-collaborating":h}),onClick:d,icon:Tj,type:"button",title:Mb("labels.liveCollaboration"),"aria-label":Mb("labels.liveCollaboration"),showAriaLabel:Oe()},0<n&&R().createElement("div",{className:"CollabButton-collaborators"},n)))};g(3040);g(7428);var cl=R().forwardRef(function(d,h){var n=d.children,B=d.padding,P=d.className;d=
d.style;return R().createElement("div",{className:Kc("Island",P),style:qb({"--padding":B},d),ref:h},n)}),Tr=(g(205),function(d){var h=sp();return h?(0,Rf.createPortal)(R().createElement("div",{className:Kc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(n){"Escape"===n.key&&(n.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},R().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),R().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),h):null}),sp=function(){var d=(0,Z.useState)(null),h=d[0],n=d[1];return(0,Z.useLayoutEffect)(function(){var B,P=!(null===(B=document.querySelector(".excalidraw"))||void 0===B||!B.classList.contains("Appearance_dark")),W=document.createElement("div");return W.classList.add("excalidraw","excalidraw-modal-container"),P&&(W.classList.add("Appearance_dark"),W.classList.add("Appearance_dark-background-none")),document.body.appendChild(W),
n(W),function(){document.body.removeChild(W)}},[]),h},z=function(d){var h=function(){var P=(0,Z.useState)(null),W=P[1];return[P[0],(0,Z.useCallback)(function(wa){return W(wa)},[])]}(),n=h[0];h=h[1];(0,Z.useEffect)(function(){if(n){var P=B(n);0<P.length&&!1!==d.autofocus&&(P[1]||P[0]).focus();var W=function(wa){if("Tab"===wa.key){var ra=B(n),Aa=document.activeElement,Ma=ra.findIndex(function(Ga){return Ga===Aa});0===Ma&&wa.shiftKey?(ra[ra.length-1].focus(),wa.preventDefault()):Ma!==ra.length-1||wa.shiftKey||
(ra[0].focus(),wa.preventDefault())}};return n.addEventListener("keydown",W),function(){return n.removeEventListener("keydown",W)}}},[n,d.autofocus]);var B=function(P){return(P=P.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(P):[]};return R().createElement(Tr,{className:Kc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},R().createElement(cl,{ref:h},R().createElement("h2",{id:"dialog-title",className:"Dialog__title"},
R().createElement("span",{className:"Dialog__titleContent"},d.title),R().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":Mb("buttons.close")},Oe()?aj:Sj)),R().createElement("div",{className:"Dialog__content"},d.children)))},L=function(d){var h=d.message,n=d.onClose,B=(0,Z.useState)(!!h);d=B[0];var P=B[1];B=R().useCallback(function(){P(!1);n&&n()},[n]);return R().createElement(R().Fragment,null,d&&R().createElement(z,{small:!0,onCloseRequest:B,title:Mb("errorDialog.title")},
R().createElement("div",null,h.split("\n").map(function(W){return R().createElement(R().Fragment,null,W,R().createElement("br",null))}))))},ca=(g(8623),[1,2,3]),Fa=ca.includes(devicePixelRatio)?devicePixelRatio:1,Xa="filter"in document.createElement("canvas").getContext("2d"),pb=function(){return R().createElement("div",null,R().createElement("h3",null,Mb("canvasError.cannotShowPreview")),R().createElement("p",null,R().createElement("span",null,Mb("canvasError.canvasTooBig"))),R().createElement("em",
null,"(",Mb("canvasError.canvasTooBigTip"),")"))},Ab=function(d,h){(0,Rf.unmountComponentAtNode)(h);h.innerHTML="";d instanceof HTMLCanvasElement?h.appendChild(d):(0,Rf.render)(R().createElement(pb,null),h)},Wb=function(d){var h=d.elements,n=d.appState,B=d.exportPadding,P=void 0===B?10:B;B=d.actionManager;var W=d.onExportToPng,wa=d.onExportToSvg,ra=d.onExportToClipboard,Aa=d.onExportToBackend,Ma=jg(h,n);d=(0,Z.useState)(Fa);var Ga=d[0],hb=d[1];d=(0,Z.useState)(Ma);var lb=d[0],mb=d[1],Rb=(0,Z.useRef)(null),
Ob=n.exportBackground,tc=n.viewBackgroundColor,Zc=n.shouldAddWatermark,dd=lb?of(h,n):h;return(0,Z.useEffect)(function(){mb(Ma)},[Ma]),(0,Z.useEffect)(function(){var pd=Rb.current;if(pd)try{var te=sm(dd,n,{exportBackground:Ob,viewBackgroundColor:tc,exportPadding:P,scale:Ga,shouldAddWatermark:Zc});Fm(te).then(function(){Ab(te,pd)}).catch(function(oe){console.error(oe);Ab(new mn,pd)})}catch(oe){console.error(oe),Ab(new mn,pd)}},[n,dd,Ob,P,tc,Ga,Zc]),R().createElement("div",{className:"ExportDialog"},
R().createElement("div",{className:"ExportDialog__preview",ref:Rb}),Xa&&B.renderAction("exportWithDarkMode"),R().createElement(Xk,{gap:2,align:"center"},R().createElement("div",{className:"ExportDialog__actions"},R().createElement(Wk,{gap:2},R().createElement($e,{type:"button",label:"PNG",title:Mb("buttons.exportToPng"),"aria-label":Mb("buttons.exportToPng"),onClick:function(){return W(dd,Ga)}}),R().createElement($e,{type:"button",label:"SVG",title:Mb("buttons.exportToSvg"),"aria-label":Mb("buttons.exportToSvg"),
onClick:function(){return wa(dd,Ga)}}),Ck&&R().createElement($e,{type:"button",icon:tk,title:Mb("buttons.copyPngToClipboard"),"aria-label":Mb("buttons.copyPngToClipboard"),onClick:function(){return ra(dd,Ga)}}),Aa&&R().createElement($e,{type:"button",icon:ol,title:Mb("buttons.getShareableLink"),"aria-label":Mb("buttons.getShareableLink"),onClick:function(){return Aa(dd)}})),R().createElement("div",{className:"ExportDialog__name"},B.renderAction("changeProjectName")),R().createElement(Wk,{gap:2},ca.map(function(pd){var te=
function(Fe,we,Ve,td){Fe=Vn(Fe,Ve);we=fn(Fe,we,Ve).map(function(Pd){return Math.trunc(Pd*td)});return[we[2],we[3]]}(dd,P,Zc,pd),oe=te[0];te=te[1];oe="".concat(Mb("buttons.scale")," ").concat(pd,"x (").concat(oe,"x").concat(te,")");return R().createElement($e,{key:pd,size:"s",type:"radio",icon:"".concat(pd,"x"),name:"export-canvas-scale",title:oe,"aria-label":oe,id:"export-canvas-scale",checked:pd===Ga,onChange:function(){return hb(pd)}})}))),B.renderAction("changeExportBackground"),Ma&&R().createElement("div",
null,R().createElement("label",null,R().createElement("input",{type:"checkbox",checked:lb,onChange:function(pd){return mb(pd.currentTarget.checked)}})," ",Mb("labels.onlySelected"))),B.renderAction("changeExportEmbedScene"),B.renderAction("changeShouldAddWatermark")))},rc=function(d){var h=d.elements,n=d.appState,B=d.exportPadding;B=void 0===B?10:B;var P=d.actionManager,W=d.onExportToPng,wa=d.onExportToSvg,ra=d.onExportToClipboard;d=d.onExportToBackend;var Aa=(0,Z.useState)(!1),Ma=Aa[0],Ga=Aa[1],
hb=(0,Z.useRef)(null);Aa=R().useCallback(function(){var lb;Ga(!1);null===(lb=hb.current)||void 0===lb||lb.focus()},[]);return R().createElement(R().Fragment,null,R().createElement($e,{onClick:function(){Ga(!0)},icon:nh,type:"button","aria-label":Mb("buttons.export"),showAriaLabel:Oe(),title:Mb("buttons.export"),ref:hb}),Ma&&R().createElement(z,{onCloseRequest:Aa,title:Mb("buttons.export")},R().createElement(Wb,{elements:h,appState:n,exportPadding:B,actionManager:P,onExportToPng:W,onExportToSvg:wa,
onExportToClipboard:ra,onExportToBackend:d,onCloseRequest:Aa})))},Vc=(g(4193),function(d){var h=d.children,n=d.side;d=d.className;return R().createElement("div",{className:Kc("FixedSideContainer","FixedSideContainer_side_".concat(n),d)},h)}),fe=R().memo(function(d){d=d.appearance;return R().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},R().createElement("a",{href:"https://github.com/excalidraw/excalidraw",
target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},R().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?se.MA[6]:se.MA[8]}),R().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===d?se.ix:se.Sn}),R().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===d?se.ix:se.Sn})))}),rf=(g(9705),function(d){return(d=function(h){var n=h.appState,B=h.elements,P=n.elementType;h=n.isResizing;var W=n.isRotating,wa=n.lastPointerDownWith,ra=null!==n.multiElement;if("arrow"===P||"line"===P)return Mb(ra?"hints.linearElementMulti":"hints.linearElement");if("draw"===P)return Mb("hints.freeDraw");if("text"===P)return Mb("hints.text");B=of(B,n);return h&&"mouse"===wa&&1===B.length?(n=B[0],Eg(n)&&2===n.points.length?Mb("hints.lockAngle"):Mb("hints.resize")):
W&&"mouse"===wa?Mb("hints.rotate"):1===B.length&&Eg(B[0])?n.editingLinearElement?n.editingLinearElement.activePointIndex?Mb("hints.lineEditor_pointSelected"):Mb("hints.lineEditor_nothingSelected"):Mb("hints.lineEditor_info"):null}({appState:d.appState,elements:d.elements}))?(d=Od(d),R().createElement("div",{className:"HintViewer"},R().createElement("span",null,d))):null}),wd=(g(8465),g(8680),R().createElement("svg",{viewBox:"0 0 1792 1792"},R().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
Ce=function(d){var h=d.elements,n=d.pendingElements,B=d.onRemoveFromLibrary;d=d.onClick;var P=(0,Z.useRef)(null);(0,Z.useEffect)(function(){var Ma=h||n;if(Ma){var Ga=Ml(Ma,{exportBackground:!1,viewBackgroundColor:se.ix,shouldAddWatermark:!1});Ma=0;for(var hb=P.current.children;Ma<hb.length;Ma++){var lb=hb[Ma];"svg"===lb.tagName&&P.current.removeChild(lb)}P.current.appendChild(Ga);var mb=P.current;return function(){mb.removeChild(Ga)}}},[h,n]);var W=(0,Z.useState)(!1),wa=W[0],ra=W[1];W=Oe();var Aa=
(wa||W)&&n&&R().createElement("div",{className:"library-unit__adder"},wd);return R().createElement("div",{className:Kc("library-unit",{"library-unit__active":h||n}),onMouseEnter:function(){return ra(!0)},onMouseLeave:function(){return ra(!1)}},R().createElement("div",{className:Kc("library-unit__dragger",{"library-unit__pulse":!!n}),ref:P,draggable:!!h,onClick:h||n?d:void 0,onDragStart:function(Ma){ra(!1);Ma.dataTransfer.setData(Oa.LO.excalidrawlib,JSON.stringify(h))}}),Aa,h&&(wa||W)&&R().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":Mb("labels.removeFromLibrary"),onClick:B},Sj))},sf=R().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},R().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),gf=R().createElement("svg",{width:"1792",height:"1792",
viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},R().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Jc=function(d){return R().createElement("label",{className:Kc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},R().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),R().createElement("div",{className:"ToolIcon__icon"},d.checked?sf:gf))},wc=function(d){var h=d.heading,n=d.children;d=Qh()(d,["heading","children"]);var B=R().createElement("h2",{className:"visually-hidden",id:"".concat(h,
"-title")},Mb("headings.".concat(h)));return R().createElement("section",Yc()({},d,{"aria-labelledby":"".concat(h,"-title")}),"function"==typeof n?n(B):R().createElement(R().Fragment,null,B,n))},Hc=(g(3142),function(d){var h=d.children,n=d.className;d=d.mobile;return R().createElement("div",{className:Kc("UserList",n,{UserList_mobile:d})},h)}),od=function(d){var h=d.appState,n=d.elements,B=d.libraryMenu,P=d.actionManager,W=d.exportButton,wa=d.setAppState,ra=d.onCollabButtonClick,Aa=d.onLockToggle,
Ma=d.canvas,Ga=d.isCollaborating,hb=d.renderCustomFooter;d=d.viewModeEnabled;return R().createElement(R().Fragment,null,!d&&R().createElement(Vc,{side:"top",className:"App-top-bar"},R().createElement(wc,{heading:"shapes"},function(lb){return R().createElement(Xk,{gap:4,align:"center"},R().createElement(Wk,{gap:1},R().createElement(cl,{padding:1},lb,R().createElement(Wk,{gap:1},R().createElement(Xp,{canvas:Ma,elementType:h.elementType,setAppState:wa,isLibraryOpen:h.isLibraryOpen}))),R().createElement(Jc,
{checked:h.elementLocked,onChange:Aa,title:Mb("toolBar.lock")})),B)}),R().createElement(rf,{appState:h,elements:n})),R().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},R().createElement(cl,{padding:0},"canvas"===h.openMenu?R().createElement(wc,{className:"App-mobile-menu",heading:"canvasActions"},R().createElement("div",{className:"panelColumn"},R().createElement(Xk,{gap:4},d?R().createElement(R().Fragment,null,P.renderAction("saveScene"),P.renderAction("saveAsScene"),
W):R().createElement(R().Fragment,null,P.renderAction("loadScene"),P.renderAction("saveScene"),P.renderAction("saveAsScene"),W,P.renderAction("clearCanvas"),ra&&R().createElement($q,{isCollaborating:Ga,collaboratorCount:h.collaborators.size,onClick:ra}),R().createElement(Yq,{actionManager:P,appState:h,setAppState:wa})),null==hb?void 0:hb(!0),0<h.collaborators.size&&R().createElement("fieldset",null,R().createElement("legend",null,Mb("labels.collaborators")),R().createElement(Hc,{mobile:!0},Array.from(h.collaborators).filter(function(lb){lb[0];
return 0!==Object.keys(lb[1]).length}).map(function(lb){var mb=lb[0];lb[1];return R().createElement(R().Fragment,{key:mb},P.renderAction("goToCollaborator",mb))})))))):"shape"===h.openMenu&&!d&&kh(h,n)?R().createElement(wc,{className:"App-mobile-menu",heading:"selectedShapeActions"},R().createElement(Zq,{appState:h,elements:n,renderAction:P.renderAction,elementType:h.elementType})):null,R().createElement("footer",{className:"App-toolbar"},d?R().createElement("div",{className:"App-toolbar-content"},
P.renderAction("toggleCanvasMenu")):R().createElement("div",{className:"App-toolbar-content"},P.renderAction("toggleCanvasMenu"),P.renderAction("toggleEditMenu"),P.renderAction("undo"),P.renderAction("redo"),P.renderAction(h.multiElement?"finalize":"duplicateSelection"),P.renderAction("deleteSelectedElements")),h.scrolledOutside&&!h.openMenu&&R().createElement("button",{className:"scroll-back-to-content",onClick:function(){wa(function(lb){for(var mb=1;mb<arguments.length;mb++){var Rb=null!=arguments[mb]?
arguments[mb]:{};mb%2?sd(Object(Rb),!0).forEach(function(Ob){ze()(lb,Ob,Rb[Ob])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lb,Object.getOwnPropertyDescriptors(Rb)):sd(Object(Rb)).forEach(function(Ob){Object.defineProperty(lb,Ob,Object.getOwnPropertyDescriptor(Rb,Ob))})}return lb}({},ji(n,h)))}},Mb("buttons.scrollBackToContent"))))))},ud=(g(8416),function(d){var h=(0,Z.useRef)(null),n=(0,Z.useState)(null),B=n[0],P=n[1];return(0,Z.useLayoutEffect)(function(){if(d.spreadsheet){var W=
Dm(d.chartType,d.spreadsheet,0,0);P(W);var wa=Ml(W,{exportBackground:!1,viewBackgroundColor:se.ix,shouldAddWatermark:!1}),ra=h.current;return ra.appendChild(wa),d.selected&&ra.parentNode.focus(),function(){ra.removeChild(wa)}}},[d.spreadsheet,d.chartType,d.selected]),R().createElement("button",{className:"ChartPreview",onClick:function(){B&&d.onClick(d.chartType,B)}},R().createElement("div",{ref:h}))}),Bf=function(d){var h=d.setAppState,n=d.appState,B=d.onClose,P=d.onInsertChart;d=R().useCallback(function(){B&&
B()},[B]);var W=function(wa,ra){P(ra);gh("magic","chart",wa);h({currentChartType:wa,pasteDialog:{shown:!1,data:null}})};return R().createElement(z,{small:!0,onCloseRequest:d,title:Mb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},R().createElement("div",{className:"container"},R().createElement(ud,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:W}),R().createElement(ud,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===
n.currentChartType,onClick:W})))},ue=(g(341),function(){return R().createElement("div",{className:"HelpDialog--header"},R().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},Mb("helpDialog.documentation")),R().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},Mb("helpDialog.blog")),R().createElement("a",{className:"HelpDialog--btn",
href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},Mb("helpDialog.github")))}),Cf=function(d){return R().createElement(R().Fragment,null,R().createElement("h3",null,d.title),d.children)},bg=function(d){return R().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},Ff=function(d){return R().createElement("div",{style:{width:"49%"}},d.children)},qm=function(d){return R().createElement("div",
{className:"HelpDialog--island"},R().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},nf=function(d){return R().createElement("div",{className:"HelpDialog--shortcut"},R().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},R().createElement("div",{style:{lineHeight:1.4}},d.label),R().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(h,
n){return R().createElement(R().Fragment,{key:n},R().createElement(eu,null,h),d.isOr&&n!==d.shortcuts.length-1&&Mb("helpDialog.or"))}))))};nf.defaultProps={isOr:!0};var eu=function(d){return R().createElement("kbd",Yc()({className:"HelpDialog--key"},d))},bu=function(d){var h=d.onClose;d=R().useCallback(function(){h&&h()},[h]);return R().createElement(R().Fragment,null,R().createElement(z,{onCloseRequest:d,title:Mb("helpDialog.title"),className:"HelpDialog"},R().createElement(ue,null),R().createElement(Cf,
{title:Mb("helpDialog.shortcuts")},R().createElement(bg,null,R().createElement(Ff,null,R().createElement(qm,{caption:Mb("helpDialog.shapes")},R().createElement(nf,{label:Mb("toolBar.selection"),shortcuts:["V","1"]}),R().createElement(nf,{label:Mb("toolBar.rectangle"),shortcuts:["R","2"]}),R().createElement(nf,{label:Mb("toolBar.diamond"),shortcuts:["D","3"]}),R().createElement(nf,{label:Mb("toolBar.ellipse"),shortcuts:["E","4"]}),R().createElement(nf,{label:Mb("toolBar.arrow"),shortcuts:["A","5"]}),
R().createElement(nf,{label:Mb("toolBar.line"),shortcuts:["P","6"]}),R().createElement(nf,{label:Mb("toolBar.draw"),shortcuts:["Shift+P","7"]}),R().createElement(nf,{label:Mb("toolBar.text"),shortcuts:["T","8"]}),R().createElement(nf,{label:Mb("helpDialog.textNewLine"),shortcuts:[Od("Enter"),Od("Shift+Enter")]}),R().createElement(nf,{label:Mb("helpDialog.textFinish"),shortcuts:[Od("Esc"),Od("CtrlOrCmd+Enter")]}),R().createElement(nf,{label:Mb("helpDialog.curvedArrow"),shortcuts:["A",Mb("helpDialog.click"),
Mb("helpDialog.click"),Mb("helpDialog.click")],isOr:!1}),R().createElement(nf,{label:Mb("helpDialog.curvedLine"),shortcuts:["L",Mb("helpDialog.click"),Mb("helpDialog.click"),Mb("helpDialog.click")],isOr:!1}),R().createElement(nf,{label:Mb("toolBar.lock"),shortcuts:["Q"]}),R().createElement(nf,{label:Mb("helpDialog.preventBinding"),shortcuts:[Od("CtrlOrCmd")]})),R().createElement(qm,{caption:Mb("helpDialog.view")},R().createElement(nf,{label:Mb("buttons.zoomIn"),shortcuts:[Od("CtrlOrCmd++")]}),R().createElement(nf,
{label:Mb("buttons.zoomOut"),shortcuts:[Od("CtrlOrCmd+-")]}),R().createElement(nf,{label:Mb("buttons.resetZoom"),shortcuts:[Od("CtrlOrCmd+0")]}),R().createElement(nf,{label:Mb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),R().createElement(nf,{label:Mb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),R().createElement(nf,{label:Mb("buttons.fullScreen"),shortcuts:["F"]}),R().createElement(nf,{label:Mb("buttons.zenMode"),shortcuts:[Od("Alt+Z")]}),R().createElement(nf,{label:Mb("labels.showGrid"),
shortcuts:[Od("CtrlOrCmd+'")]}),R().createElement(nf,{label:Mb("labels.viewMode"),shortcuts:[Od("Alt+R")]}))),R().createElement(Ff,null,R().createElement(qm,{caption:Mb("helpDialog.editor")},R().createElement(nf,{label:Mb("labels.selectAll"),shortcuts:[Od("CtrlOrCmd+A")]}),R().createElement(nf,{label:Mb("labels.multiSelect"),shortcuts:[Od("Shift+".concat(Mb("helpDialog.click")))]}),R().createElement(nf,{label:Mb("labels.moveCanvas"),shortcuts:[Od("Space+".concat(Mb("helpDialog.drag"))),Od("Wheel+".concat(Mb("helpDialog.drag")))],
isOr:!0}),R().createElement(nf,{label:Mb("labels.cut"),shortcuts:[Od("CtrlOrCmd+X")]}),R().createElement(nf,{label:Mb("labels.copy"),shortcuts:[Od("CtrlOrCmd+C")]}),R().createElement(nf,{label:Mb("labels.paste"),shortcuts:[Od("CtrlOrCmd+V")]}),R().createElement(nf,{label:Mb("labels.copyAsPng"),shortcuts:[Od("Shift+Alt+C")]}),R().createElement(nf,{label:Mb("labels.copyStyles"),shortcuts:[Od("CtrlOrCmd+Alt+C")]}),R().createElement(nf,{label:Mb("labels.pasteStyles"),shortcuts:[Od("CtrlOrCmd+Alt+V")]}),
R().createElement(nf,{label:Mb("labels.delete"),shortcuts:[Od("Del")]}),R().createElement(nf,{label:Mb("labels.sendToBack"),shortcuts:[Od(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),R().createElement(nf,{label:Mb("labels.bringToFront"),shortcuts:[Od(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),R().createElement(nf,{label:Mb("labels.sendBackward"),shortcuts:[Od("CtrlOrCmd+[")]}),R().createElement(nf,{label:Mb("labels.bringForward"),shortcuts:[Od("CtrlOrCmd+]")]}),R().createElement(nf,{label:Mb("labels.alignTop"),
shortcuts:[Od("CtrlOrCmd+Shift+Up")]}),R().createElement(nf,{label:Mb("labels.alignBottom"),shortcuts:[Od("CtrlOrCmd+Shift+Down")]}),R().createElement(nf,{label:Mb("labels.alignLeft"),shortcuts:[Od("CtrlOrCmd+Shift+Left")]}),R().createElement(nf,{label:Mb("labels.alignRight"),shortcuts:[Od("CtrlOrCmd+Shift+Right")]}),R().createElement(nf,{label:Mb("labels.duplicateSelection"),shortcuts:[Od("CtrlOrCmd+D"),Od("Alt+".concat(Mb("helpDialog.drag")))]}),R().createElement(nf,{label:Mb("buttons.undo"),shortcuts:[Od("CtrlOrCmd+Z")]}),
R().createElement(nf,{label:Mb("buttons.redo"),shortcuts:Gj?[Od("CtrlOrCmd+Y"),Od("CtrlOrCmd+Shift+Z")]:[Od("CtrlOrCmd+Shift+Z")]}),R().createElement(nf,{label:Mb("labels.group"),shortcuts:[Od("CtrlOrCmd+G")]}),R().createElement(nf,{label:Mb("labels.ungroup"),shortcuts:[Od("CtrlOrCmd+Shift+G")]})))))))},Wr=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&
W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],
ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Rs=function(d,h){for(var n=0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},Zt=function(d){var h=
d.library,n=d.onRemoveFromLibrary,B=d.onAddToLibrary,P=d.onInsertShape,W=d.pendingElements,wa=d.setAppState,ra=d.setLibraryItems;d=Oe()?4:6;var Aa=Math.max(1,Math.ceil((h.length+(0<W.length?1:0))/d)),Ma=[],Ga=!1;Ma.push(R().createElement("div",{className:"layer-ui__library-header"},R().createElement($e,{key:"import",type:"button",title:Mb("buttons.load"),"aria-label":Mb("buttons.load"),icon:mm,onClick:function(){mp().then(function(){wa({isLibraryOpen:!1})}).catch(Fk).catch(function(tc){wa({errorMessage:tc.message})})}}),
R().createElement($e,{key:"export",type:"button",title:Mb("buttons.export"),"aria-label":Mb("buttons.export"),icon:nh,onClick:function(){pm().catch(Fk).catch(function(tc){wa({errorMessage:tc.message})})}}),R().createElement($e,{key:"reset",type:"button",title:Mb("buttons.resetLibrary"),"aria-label":Mb("buttons.resetLibrary"),icon:Ni,onClick:function(){window.confirm(Mb("alerts.resetLibrary"))&&(Tg.resetLibrary(),ra([]))}}),R().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
Mb("labels.libraries"))));for(var hb=0;hb<Aa;hb++){for(var lb=d*hb,mb=[],Rb=0;Rb<d;Rb++){var Ob=0<W.length&&!Ga&&lb+Rb>=h.length;Ga=Ga||Ob;mb.push(R().createElement(Xk,{key:Rb},R().createElement(Ce,{elements:h[lb+Rb],pendingElements:Ob?W:void 0,onRemoveFromLibrary:n.bind(null,lb+Rb),onClick:Ob?B.bind(null,W):P.bind(null,h[lb+Rb])})))}Ma.push(R().createElement(Wk,{align:"center",gap:1,key:hb},mb))}return R().createElement(Xk,{align:"start",gap:1,className:"layer-ui__library-items"},Ma)},$t=function(d){var h=
d.onClickOutside,n=d.onInsertShape,B=d.pendingElements,P=d.onAddToLibrary;d=d.setAppState;var W=(0,Z.useRef)(null);!function(mb,Rb){(0,Z.useEffect)(function(){var Ob=function(tc){mb.current&&(tc.target instanceof Element&&(mb.current.contains(tc.target)||!document.body.contains(tc.target))||Rb(tc))};return document.addEventListener("pointerdown",Ob,!1),function(){document.removeEventListener("pointerdown",Ob)}},[mb,Rb])}(W,function(mb){mb.target.closest(".ToolIcon_type_button__library")||h(mb)});
var wa=(0,Z.useState)([]),ra=wa[0],Aa=wa[1],Ma=(0,Z.useState)("preloading");wa=Ma[0];var Ga=Ma[1],hb=(0,Z.useRef)(null);(0,Z.useEffect)(function(){return Promise.race([new Promise(function(mb){hb.current=setTimeout(function(){mb("loading")},100)}),Tg.loadLibrary().then(function(mb){Aa(mb);Ga("ready")})]).then(function(mb){"loading"===mb&&Ga("loading")}),function(){clearTimeout(hb.current)}},[]);Ma=(0,Z.useCallback)(function(){var mb=zb()(function(Rb){var Ob,tc;return Wr(this,function(Zc){switch(Zc.label){case 0:return[4,
Tg.loadLibrary()];case 1:return Ob=Zc.sent(),tc=Ob.filter(function(dd,pd){return pd!==Rb}),Tg.saveLibrary(tc),Aa(tc),[2]}})});return function(Rb){return mb.apply(this,arguments)}}(),[]);var lb=(0,Z.useCallback)(function(){var mb=zb()(function(Rb){var Ob,tc;return Wr(this,function(Zc){switch(Zc.label){case 0:return[4,Tg.loadLibrary()];case 1:return Ob=Zc.sent(),tc=Rs(Rs([],Ob),[Rb]),P(),Tg.saveLibrary(tc),Aa(tc),[2]}})});return function(Rb){return mb.apply(this,arguments)}}(),[P]);return"preloading"===
wa?null:R().createElement(cl,{padding:1,ref:W,className:"layer-ui__library"},"loading"===wa?R().createElement("div",{className:"layer-ui__library-message"},Mb("labels.libraryLoadingMessage")):R().createElement(Zt,{library:ra,onRemoveFromLibrary:Ma,onAddToLibrary:lb,onInsertShape:n,pendingElements:B,setAppState:d,setLibraryItems:Aa}))};const au=R().memo(function(d){var h,n=d.actionManager,B=d.appState,P=d.setAppState,W=d.canvas,wa=d.elements,ra=d.onCollabButtonClick,Aa=d.onLockToggle,Ma=d.onInsertElements,
Ga=d.zenModeEnabled,hb=d.showExitZenModeBtn,lb=d.toggleZenMode,mb=d.isCollaborating,Rb=d.onExportToBackend,Ob=d.renderCustomFooter;d=d.viewModeEnabled;var tc=Oe(),Zc=function(){var oe=function(Fe){return function(){var we=zb()(function(Ve,td){return Wr(this,function(Pd){switch(Pd.label){case 0:return W?[4,qc(Fe,Ve,B,W,{exportBackground:B.exportBackground,name:B.name,viewBackgroundColor:B.viewBackgroundColor,scale:td,shouldAddWatermark:B.shouldAddWatermark}).catch(Fk).catch(function($d){console.error($d);
P({errorMessage:$d.message})})]:[3,2];case 1:Pd.sent(),Pd.label=2;case 2:return[2]}})});return function(Ve,td){return we.apply(this,arguments)}}()};return R().createElement(rc,{elements:wa,appState:B,actionManager:n,onExportToPng:oe("png"),onExportToSvg:oe("svg"),onExportToClipboard:oe("clipboard"),onExportToBackend:Rb?function(Fe){Rb&&Rb(Fe,B,W)}:void 0})},dd=(0,Z.useCallback)(function(oe){P({isLibraryOpen:!1})},[P]),pd=(0,Z.useCallback)(function(){P({selectedElementIds:{},selectedGroupIds:{}})},
[P]),te=B.isLibraryOpen?R().createElement($t,{pendingElements:of(wa,B),onClickOutside:dd,onInsertShape:Ma,onAddToLibrary:pd,setAppState:P}):null;Ma=R().createElement(R().Fragment,null,B.isLoading&&R().createElement(cg,null),B.errorMessage&&R().createElement(L,{message:B.errorMessage,onClose:function(){return P({errorMessage:null})}}),B.showHelpDialog&&R().createElement(bu,{onClose:function(){return P({showHelpDialog:!1})}}),B.pasteDialog.shown&&R().createElement(Bf,{setAppState:P,appState:B,onInsertChart:Ma,
onClose:function(){return P({pasteDialog:{shown:!1,data:null}})}}));return tc?R().createElement(R().Fragment,null,Ma,R().createElement(od,{appState:B,elements:wa,actionManager:n,libraryMenu:te,exportButton:Zc(),setAppState:P,onCollabButtonClick:ra,onLockToggle:Aa,canvas:W,isCollaborating:mb,renderCustomFooter:Ob,viewModeEnabled:d})):R().createElement("div",{className:Kc("layer-ui__wrapper",{"disable-pointerEvents":B.draggingElement||B.resizingElement||B.editingElement&&!Xd(B.editingElement)})},Ma,
(h=kh(B,wa),R().createElement(Vc,{side:"top"},R().createElement("div",{className:"App-menu App-menu_top"},R().createElement(Xk,{gap:4,className:Kc({"disable-pointerEvents":Ga})},d?R().createElement(wc,{heading:"canvasActions",className:Kc("zen-mode-transition",{"transition-left":Ga})},R().createElement(cl,{padding:2,style:{zIndex:1}},R().createElement(Xk,{gap:4},R().createElement(Wk,{gap:1,justifyContent:"space-between"},n.renderAction("saveScene"),n.renderAction("saveAsScene"),Zc())))):R().createElement(wc,
{heading:"canvasActions",className:Kc("zen-mode-transition",{"transition-left":Ga})},R().createElement(cl,{padding:2,style:{zIndex:1}},R().createElement(Xk,{gap:4},R().createElement(Wk,{gap:1,justifyContent:"space-between"},n.renderAction("loadScene"),n.renderAction("saveScene"),n.renderAction("saveAsScene"),Zc(),n.renderAction("clearCanvas"),ra&&R().createElement($q,{isCollaborating:mb,collaboratorCount:B.collaborators.size,onClick:ra})),R().createElement(Yq,{actionManager:n,appState:B,setAppState:P})))),
h&&R().createElement(wc,{heading:"selectedShapeActions",className:Kc("zen-mode-transition",{"transition-left":Ga})},R().createElement(cl,{className:Oa.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(B.height-200,"px")}},R().createElement(Zq,{appState:B,elements:wa,renderAction:n.renderAction,elementType:B.elementType})))),!d&&R().createElement(wc,{heading:"shapes"},function(oe){return R().createElement(Xk,{gap:4,align:"start"},R().createElement(Wk,{gap:1},R().createElement(cl,{padding:1,
className:Kc({"zen-mode":Ga})},R().createElement(rf,{appState:B,elements:wa}),oe,R().createElement(Wk,{gap:1},R().createElement(Xp,{canvas:W,elementType:B.elementType,setAppState:P,isLibraryOpen:B.isLibraryOpen}))),R().createElement(Jc,{zenModeEnabled:Ga,checked:B.elementLocked,onChange:Aa,title:Mb("toolBar.lock")})),te)}),R().createElement(Hc,{className:Kc("zen-mode-transition",{"transition-right":Ga})},0<B.collaborators.size&&Array.from(B.collaborators).filter(function(oe){oe[0];return 0!==Object.keys(oe[1]).length}).map(function(oe){var Fe=
oe[0];oe=oe[1];return R().createElement(Jh,{label:oe.username||"Unknown user",key:Fe},n.renderAction("goToCollaborator",Fe))}))))),R().createElement("div",{className:Kc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Ga})},R().createElement(Xk,{gap:2},R().createElement(wc,{heading:"canvasActions"},R().createElement(cl,{padding:1},R().createElement(Rr,{renderAction:n.renderAction,zoom:B.zoom})),R().createElement("a",{className:Kc("encrypted-icon tooltip zen-mode-visibility",
{"zen-mode-visibility--hidden":Ga}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},R().createElement(Jh,{label:Mb("encrypted.tooltip"),position:"above",long:!0},Dg))))),R().createElement("aside",{className:Kc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ga})},R().createElement(fe,{appearance:B.appearance})),R().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},R().createElement("div",
{className:Kc("zen-mode-transition",{"transition-right disable-pointerEvents":Ga})},null==Ob?void 0:Ob(!1),n.renderAction("toggleShortcuts")),R().createElement("button",{className:Kc("disable-zen-mode",{"disable-zen-mode--visible":hb}),onClick:lb},Mb("buttons.exitZenMode"))),B.scrolledOutside&&R().createElement("button",{className:"scroll-back-to-content",onClick:function(){P(function(oe){for(var Fe=1;Fe<arguments.length;Fe++){var we=null!=arguments[Fe]?arguments[Fe]:{};Fe%2?ff(Object(we),!0).forEach(function(Ve){ze()(oe,
Ve,we[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(we)):ff(Object(we)).forEach(function(Ve){Object.defineProperty(oe,Ve,Object.getOwnPropertyDescriptor(we,Ve))})}return oe}({},ji(wa,B)))}},Mb("buttons.scrollBackToContent")))},function(d,h){var n=function(W){W.suggestedBindings;W.startBoundElement;return Qh()(W,["suggestedBindings","startBoundElement"])},B=n(d.appState),P=n(h.appState);n=Object.keys(B);return d.renderCustomFooter===h.renderCustomFooter&&
d.langCode===h.langCode&&d.elements===h.elements&&n.every(function(W){return B[W]===P[W]})});var Ps=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(h){return console.error(h),0}},Yt=(g(7287),function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=
0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=
h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),Qs=qi(function(d){var h=Ps();try{var n=localStorage.getItem("excalidraw-state"),B=localStorage.getItem("excalidraw-collab"),P=localStorage.getItem(Oa.I.LOCAL_STORAGE_LIBRARY);
var W=(n?JSON.stringify(n).length:0)+(B?JSON.stringify(B).length:0)+(P?JSON.stringify(P).length:0)+Ps()}catch(wa){W=(console.error(wa),0)}d({scene:h,total:W})},500),du=function(d){var h=Oe(),n=(0,Z.useState)({scene:0,total:0}),B=n[0],P=n[1];(0,Z.useEffect)(function(){Qs(function(Ma){P(Ma)})});(0,Z.useEffect)(function(){return function(){return Qs.cancel()}},[]);n=zg(d.elements);var W=lk(d.elements,d.appState),wa=zg(W);if(h&&d.appState.openMenu)return null;var ra,Aa;h=Df();return h!==Oa.eQ?(Aa=h.slice(0,
16).replace("T"," "),ra=h.slice(21)):Aa=Mb("stats.versionNotAvailable"),R().createElement("div",{className:"Stats"},R().createElement(cl,{padding:2},R().createElement("div",{className:"close",onClick:d.onClose},Sj),R().createElement("h3",null,Mb("stats.title")),R().createElement("table",null,R().createElement("tbody",null,R().createElement("tr",null,R().createElement("th",{colSpan:2},Mb("stats.scene"))),R().createElement("tr",null,R().createElement("td",null,Mb("stats.elements")),R().createElement("td",
null,d.elements.length)),R().createElement("tr",null,R().createElement("td",null,Mb("stats.width")),R().createElement("td",null,Math.round(n[2])-Math.round(n[0]))),R().createElement("tr",null,R().createElement("td",null,Mb("stats.height")),R().createElement("td",null,Math.round(n[3])-Math.round(n[1]))),R().createElement("tr",null,R().createElement("th",{colSpan:2},Mb("stats.storage"))),R().createElement("tr",null,R().createElement("td",null,Mb("stats.scene")),R().createElement("td",null,sl(B.scene,
1))),R().createElement("tr",null,R().createElement("td",null,Mb("stats.total")),R().createElement("td",null,sl(B.total,1))),1===W.length&&R().createElement("tr",null,R().createElement("th",{colSpan:2},Mb("stats.element"))),1<W.length&&R().createElement(R().Fragment,null,R().createElement("tr",null,R().createElement("th",{colSpan:2},Mb("stats.selected"))),R().createElement("tr",null,R().createElement("td",null,Mb("stats.elements")),R().createElement("td",null,W.length))),0<W.length&&R().createElement(R().Fragment,
null,R().createElement("tr",null,R().createElement("td",null,"x"),R().createElement("td",null,Math.round(1===W.length?W[0].x:wa[0]))),R().createElement("tr",null,R().createElement("td",null,"y"),R().createElement("td",null,Math.round(1===W.length?W[0].y:wa[1]))),R().createElement("tr",null,R().createElement("td",null,Mb("stats.width")),R().createElement("td",null,Math.round(1===W.length?W[0].width:wa[2]-wa[0]))),R().createElement("tr",null,R().createElement("td",null,Mb("stats.height")),R().createElement("td",
null,Math.round(1===W.length?W[0].height:wa[3]-wa[1])))),1===W.length&&R().createElement("tr",null,R().createElement("td",null,Mb("stats.angle")),R().createElement("td",null,"".concat(Math.round(180*W[0].angle/Math.PI),"°"))),R().createElement("tr",null,R().createElement("th",{colSpan:2},Mb("stats.version"))),R().createElement("tr",null,R().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:zb()(function(){return Yt(this,function(Ma){switch(Ma.label){case 0:return Ma.trys.push([0,
2,,3]),[4,Bb(Df())];case 1:return Ma.sent(),d.setAppState({toastMessage:Mb("toast.copyToClipboard")}),[3,3];case 2:return Ma.sent(),[3,3];case 3:return[2]}})}),title:Mb("stats.versionCopy")},Aa,R().createElement("br",null),ra))))))},fu=(g(5849),function(d){var h=d.message,n=d.clearToast,B=(0,Z.useRef)(0),P=(0,Z.useCallback)(function(){return B.current=window.setTimeout(function(){return n()},Oa.Lg)},[n]);return(0,Z.useEffect)(function(){return P(),function(){return clearTimeout(B.current)}},[P,h]),
R().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==B?void 0:B.current)},onMouseLeave:P},R().createElement("p",{className:"Toast__message"},h))}),Ss=Ud({name:"viewMode",perform:function(d,h){return gh("view","mode","view"),{appState:Pf(Pf({},h),{},{viewModeEnabled:!this.checked(h),selectedElementIds:{}}),commitToHistory:!1}},checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[Te]&&d.altKey&&"KeyR"===
d.code}}),gu=function(){var d=function(h,n){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,P){B.__proto__=P}||function(B,P){for(var W in P)Object.prototype.hasOwnProperty.call(P,W)&&(B[W]=P[W])})(h,n)};return function(h,n){function B(){this.constructor=h}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");d(h,n);h.prototype=null===n?Object.create(n):(B.prototype=n.prototype,new B)}}(),Xo=function(d,h){function n(Aa){return function(Ma){return function(Ga){if(B)throw new TypeError("Generator is already executing.");
for(;ra;)try{if(B=1,P&&(W=2&Ga[0]?P.return:Ga[0]?P.throw||((W=P.return)&&W.call(P),0):P.next)&&!(W=W.call(P,Ga[1])).done)return W;switch(P=0,W&&(Ga=[2&Ga[0],W.value]),Ga[0]){case 0:case 1:W=Ga;break;case 4:return ra.label++,{value:Ga[1],done:!1};case 5:ra.label++;P=Ga[1];Ga=[0];continue;case 7:Ga=ra.ops.pop();ra.trys.pop();continue;default:if(!(W=ra.trys,(W=0<W.length&&W[W.length-1])||6!==Ga[0]&&2!==Ga[0])){ra=0;continue}if(3===Ga[0]&&(!W||Ga[1]>W[0]&&Ga[1]<W[3]))ra.label=Ga[1];else if(6===Ga[0]&&
ra.label<W[1])ra.label=W[1],W=Ga;else if(W&&ra.label<W[2])ra.label=W[2],ra.ops.push(Ga);else{W[2]&&ra.ops.pop();ra.trys.pop();continue}}Ga=h.call(d,ra)}catch(hb){Ga=[6,hb],P=0}finally{B=W=0}if(5&Ga[0])throw Ga[1];return{value:Ga[0]?Ga[1]:void 0,done:!0}}([Aa,Ma])}}var B,P,W,wa,ra={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return wa={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},ah=function(d,h){for(var n=
0,B=h.length,P=d.length;n<B;n++,P++)d[P]=h[n];return d},ok=new aq,pq=!1,Xr=0,Dp=0,Ep=0,Yo=!1,qq=!1,Yr=!1,Zr={horizontal:null,vertical:null},po=0,bq=!1,fo=null,zl=new Map,tp=null,br=null,up=null,Vr=function(d){function h(n){var B=this;var P=B=d.call(this,n)||this;cu.call(B);var W,wa,ra,Aa=yh(),Ma=n.width,Ga=void 0===Ma?window.innerWidth:Ma;Ma=n.height;var hb=void 0===Ma?window.innerHeight:Ma,lb=n.offsetLeft,mb=n.offsetTop;Ma=n.excalidrawRef;var Rb=n.viewModeEnabled;Rb=void 0!==Rb&&Rb;var Ob=n.zenModeEnabled;
Ob=void 0!==Ob&&Ob;n=n.gridModeEnabled;n=void 0!==n&&n;if(B.state=Ta(Ta(Ta({},Aa),{},{isLoading:!0,width:Ga,height:hb},B.getCanvasOffsets({offsetLeft:lb,offsetTop:mb})),{},{viewModeEnabled:Rb,zenModeEnabled:Ob,gridSize:n?Oa.k:null}),Ma){var tc;Aa="current"in Ma&&(null===(tc=Ma.current)||void 0===tc?void 0:tc.readyPromise)||((ra=new Promise(function(Zc,dd){W=Zc;wa=dd})).resolve=W,ra.reject=wa,ra);ra={ready:!0,readyPromise:Aa,updateScene:B.updateScene,resetScene:B.resetScene,getSceneElementsIncludingDeleted:B.getSceneElementsIncludingDeleted,
history:{clear:B.resetHistory},setScrollToCenter:B.setScrollToCenter,getSceneElements:B.getSceneElements,getAppState:function(){return P.state}};"function"==typeof Ma?Ma(ra):Ma.current=ra;Aa.resolve(ra)}return B.scene=new sh,B.actionManager=new rm(B.syncActionResult,function(){return P.state},function(){return P.scene.getElementsIncludingDeleted()},B),B.actionManager.registerAll(al),B.actionManager.registerAction({name:"undo",perform:function(Zc,dd){return pp(Zc,dd,function(){return ok.undoOnce()})},
keyTest:function(Zc){return Zc[Te]&&"z"===Zc.key.toLowerCase()&&!Zc.shiftKey},PanelComponent:function(Zc){Zc=Zc.updateData;return R().createElement($e,{type:"button",icon:ch,"aria-label":Mb("buttons.undo"),onClick:Zc})},commitToHistory:function(){return!1}}),B.actionManager.registerAction(function(Zc){return{name:"redo",perform:function(dd,pd){return pp(dd,pd,function(){return Zc.redoOnce()})},keyTest:function(dd){return dd[Te]&&dd.shiftKey&&"z"===dd.key.toLowerCase()||Gj&&dd.ctrlKey&&!dd.shiftKey&&
"y"===dd.key},PanelComponent:function(dd){dd=dd.updateData;return R().createElement($e,{type:"button",icon:Cj,"aria-label":Mb("buttons.redo"),onClick:dd})},commitToHistory:function(){return!1}}}(ok)),B}return gu(h,d),h.prototype.renderCanvas=function(){var n=window.devicePixelRatio,B=this.state,P=B.width,W=B.height,wa=P*n;n*=W;return B.viewModeEnabled?R().createElement("canvas",{id:"canvas",style:{width:P,height:W,cursor:"grabbing"},width:wa,height:n,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},Mb("labels.drawingCanvas")):R().createElement("canvas",{id:"canvas",style:{width:P,height:W},width:wa,height:n,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,
onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},Mb("labels.drawingCanvas"))},h.prototype.render=function(){var n,B=this,P=this.state,W=P.zenModeEnabled,wa=P.width,ra=P.height;P=P.viewModeEnabled;var Aa=this.props,Ma=Aa.onCollabButtonClick,Ga=Aa.onExportToBackend;Aa=Aa.renderFooter;var hb=wa/2,lb=ra/2;return R().createElement("div",{className:Kc("excalidraw",{"excalidraw--view-mode":P}),ref:this.excalidrawContainerRef,style:{width:wa,height:ra}},
R().createElement(au,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Ma,onLockToggle:this.toggleLock,onInsertElements:function(mb){return B.addElementsFromPasteOrLibrary(mb,hb,lb)},zenModeEnabled:W,toggleZenMode:this.toggleZenMode,langCode:yf.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ga,renderCustomFooter:Aa,viewModeEnabled:P,showExitZenModeBtn:void 0===(null===(n=
this.props)||void 0===n?void 0:n.zenModeEnabled)&&W}),R().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&R().createElement(du,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&R().createElement(fu,{message:this.state.toastMessage,clearToast:this.clearToast}),R().createElement("main",null,this.renderCanvas()))},h.prototype.componentDidMount=function(){var n=this;return zb()(function(){return Xo(this,
function(B){return"production"!==Oa.Vi.TEST&&"production"!==Oa.Vi.DEVELOPMENT||(n.setState.bind(n),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return n.state}},setState:{configurable:!0,value:function(){for(var P=[],W=0;W<arguments.length;W++)P[W]=arguments[W];return n.setState.apply(n,P)}},app:{configurable:!0,value:n}})),n.scene.addCallback(n.onSceneUpdated),n.addEventListeners(),"number"==typeof n.props.offsetLeft&&"number"==typeof n.props.offsetTop?n.initializeScene():
n.setState(n.getCanvasOffsets(n.props),function(){n.initializeScene()}),[2]})})()},h.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(po);po=0},h.prototype.removeEventListeners=function(){document.removeEventListener(Oa.Ks.COPY,this.onCopy);document.removeEventListener(Oa.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(Oa.Ks.CUT,this.onCut);document.removeEventListener(Oa.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(Oa.Ks.MOUSE_MOVE,
this.updateCurrentCursorPosition,!1);document.removeEventListener(Oa.Ks.KEYUP,this.onKeyUp);window.removeEventListener(Oa.Ks.RESIZE,this.onResize,!1);window.removeEventListener(Oa.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(Oa.Ks.BLUR,this.onBlur,!1);window.removeEventListener(Oa.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(Oa.Ks.DROP,this.disableEvent,!1);document.removeEventListener(Oa.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(Oa.Ks.GESTURE_CHANGE,
this.onGestureChange,!1);document.removeEventListener(Oa.Ks.GESTURE_END,this.onGestureEnd,!1)},h.prototype.addEventListeners=function(){var n,B;this.removeEventListeners();document.addEventListener(Oa.Ks.COPY,this.onCopy);document.addEventListener(Oa.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(Oa.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(Oa.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(n=document.fonts)||void 0===n||null===(B=n.addEventListener)||void 0===
B||B.call(n,"loadingdone",this.onFontLoaded);document.addEventListener(Oa.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(Oa.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(Oa.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(Oa.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(Oa.Ks.CUT,this.onCut),document.addEventListener(Oa.Ks.SCROLL,this.onScroll),window.addEventListener(Oa.Ks.RESIZE,this.onResize,!1),
window.addEventListener(Oa.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Oa.Ks.BLUR,this.onBlur,!1),window.addEventListener(Oa.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Oa.Ks.DROP,this.disableEvent,!1))},h.prototype.componentDidUpdate=function(n,B){var P,W,wa,ra,Aa=this;(n.langCode!==this.props.langCode&&this.updateLanguage(),n.width!==this.props.width||n.height!==this.props.height||"number"==typeof this.props.offsetLeft&&n.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&
n.offsetTop!==this.props.offsetTop)&&this.setState(Ta({width:null!==(wa=this.props.width)&&void 0!==wa?wa:window.innerWidth,height:null!==(ra=this.props.height)&&void 0!==ra?ra:window.innerHeight},this.getCanvasOffsets(this.props)));n.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners);B.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();n.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});
n.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Oa.k:null});null===(P=document.querySelector(".excalidraw"))||void 0===P||P.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Aa.actionManager.executeAction(Nf)});n=B.multiElement;B.elementType!==this.state.elementType&&null!=n&&this.state.isBindingEnabled&&
eg(n)&&kk(n,this.state,this.scene,Bg(Vf.getPointAtIndexGlobalCoordinates(n,-1)));var Ma={},Ga={},hb={},lb={},mb={};this.state.collaborators.forEach(function(tc,Zc){if(tc.selectedElementIds)for(var dd=0,pd=Object.keys(tc.selectedElementIds);dd<pd.length;dd++){var te=pd[dd];te in hb||(hb[te]=[]);hb[te].push(Zc)}tc.pointer&&(tc.username&&(lb[Zc]=tc.username),tc.userState&&(mb[Zc]=tc.userState),Ga[Zc]=dh({sceneX:tc.pointer.x,sceneY:tc.pointer.y},Aa.state),Ma[Zc]=tc.button)});B=this.scene.getElements();
P=en(B.filter(function(tc){return!Aa.state.editingElement||"text"!==Aa.state.editingElement.type||tc.id!==Aa.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ga,remotePointerButton:Ma,remoteSelectedElementIds:hb,remotePointerUsernames:lb,remotePointerUserStates:mb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},
{renderOptimizations:!0,renderScrollbars:!og().matches});n=P.atLeastOneVisibleElement;(P=P.scrollBars)&&(Zr=P);var Rb,Ob;B="text"!==(null===(W=this.state.editingElement)||void 0===W?void 0:W.type)&&!n&&0<B.length;(this.state.scrolledOutside!==B&&this.setState({scrolledOutside:B}),ok.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(Rb=(Ob=this.props).onChange)||void 0===Rb||Rb.call(Ob,this.scene.getElementsIncludingDeleted(),this.state)},h.resetTapTwice=function(){pq=
!1},h.prototype.addTextFromPaste=function(n){var B,P=lg({clientX:Dp,clientY:Ep},this.state);n=Hj({x:P.x,y:P.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:n,fontSize:this.state.currentItemFontSize,
fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Oa.hs});this.scene.replaceAllElements(ah(ah([],this.scene.getElementsIncludingDeleted()),[n]));this.setState({selectedElementIds:(B={},B[n.id]=!0,B)});ok.resumeRecording()},h.prototype.selectShapeTool=function(n){var B;Yo||ri(this.canvas,n);(B=document.activeElement)instanceof HTMLElement&&B.className.includes("ToolIcon")&&document.activeElement.blur();dj(n)||this.setState({suggestedBindings:[]});"selection"!==
n?this.setState({elementType:n,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:n})},h.prototype.handleTextWysiwyg=function(n,B){B=B.isExistingElement;var P=void 0!==B&&B,W=this,wa=function(ra,Aa){void 0===Aa&&(Aa=!1);W.scene.replaceAllElements(ah([],W.scene.getElementsIncludingDeleted().map(function(Ma){if(Ma.id===n.id&&Xd(Ma)){var Ga=Aa;Ga={text:ra,isDeleted:null!=Ga?Ga:Ma.isDeleted};var hb=Si(ra,Ri(Ma));var lb=hb.width;var mb=hb.height;hb=hb.baseline;var Rb=
Ma.textAlign;var Ob=Ma.verticalAlign;if("center"===Rb&&"middle"===Ob)Rb=Si(Ma.text,Ri(Ma)),Ob=Sh(Ma,{width:lb-Rb.width,height:mb-Rb.height}),Rb=Ma.x-Ob.x,Ob=Ma.y-Ob.y;else{var tc=Zf(Ma);Ob=tc[0];var Zc=tc[1],dd=tc[2];tc=tc[3];var pd=Rg(Ma,lb,mb);Rb=(Ob=fg({s:!0,e:"center"===Rb||"left"===Rb,w:"center"===Rb||"right"===Rb},Ma.x,Ma.y,Ma.angle,(Ob-pd[0])/2,(Zc-pd[1])/2,(dd-pd[2])/2,(tc-pd[3])/2))[0];Ob=Ob[1]}lb={width:lb,height:mb,x:Number.isFinite(Rb)?Rb:Ma.x,y:Number.isFinite(Ob)?Ob:Ma.y,baseline:hb};
Ma=qg(Ma,Da(Ga,lb))}return Ma})))};!function(ra){var Aa=ra.id,Ma=ra.appState,Ga=ra.onChange,hb=ra.onSubmit,lb=ra.getViewportCoords,mb=ra.element;ra=ra.canvas;var Rb=function(){var we,Ve=null===(we=sh.getScene(mb))||void 0===we?void 0:we.getElement(Aa);if(Ve&&Xd(Ve)){we=lb(Ve.x,Ve.y);var td=we[0],Pd=we[1];we=Ve.textAlign;var $d=Ve.angle;Ob.value=Ve.text;var Le=Ve.text.replace(/\r\n?/g,"\n").split("\n"),zh=Ve.height/Le.length;Le=(Ma.offsetLeft+Ma.width-td-8)/Ma.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,
-2));var Vh=Object,yj=Vh.assign,Zi=Ob.style,Sl=Ri(Ve);zh="".concat(zh,"px");var qn="".concat(Ve.width,"px"),em="".concat(Ve.height,"px");td="".concat(td,"px");Pd="".concat(Pd,"px");var rn=Ve.width;var Qm=Ma.zoom,eo=180*$d/Math.PI;$d=(rn-2*Ma.offsetLeft)*(Qm.value-1)/2;var Rm=(Ve.height-2*Ma.offsetTop)*(Qm.value-1)/2;rn=(rn>Le&&1!==Qm.value&&($d=Le/2*(Qm.value-1)),"translate(".concat($d,"px, ").concat(Rm,"px) scale(").concat(Qm.value,") rotate(").concat(eo,"deg)"));yj.call(Vh,Zi,{font:Sl,lineHeight:zh,
width:qn,height:em,left:td,top:Pd,transform:rn,textAlign:we,color:Ve.strokeColor,opacity:Ve.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat(Le,"px")})}},Ob=document.createElement("textarea");Ob.dir="auto";Ob.tabIndex=0;Ob.dataset.type="wysiwyg";Ob.wrap="off";Object.assign(Ob.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});
Rb();Ga&&(Ob.oninput=function(){Ga(Rk(Ob.value))});Ob.onkeydown=function(we){"Escape"===we.key?(we.preventDefault(),Zc()):"Enter"===we.key&&we[Te]?(we.preventDefault(),we.isComposing||229===we.keyCode)||Zc():"Enter"!==we.key||we.altKey||we.stopPropagation()};var tc=function(we){we.preventDefault();we.stopPropagation()},Zc=function(){hb(Rk(Ob.value));oe||(oe=!0,Ob.onblur=null,Ob.oninput=null,Ob.onkeydown=null,Fe&&Fe.disconnect(),window.removeEventListener("resize",Rb),window.removeEventListener("wheel",
tc,!0),window.removeEventListener("pointerdown",pd),window.removeEventListener("pointerup",dd),window.removeEventListener("blur",Zc),te(),Ob.remove())},dd=function(){window.removeEventListener("pointerup",dd);setTimeout(function(){Ob.onblur=Zc;Ob.focus()})},pd=function(we){we.target instanceof HTMLElement&&we.target.closest(".".concat(Oa.$C.SHAPE_ACTIONS_MENU))&&!Ag(we.target)&&(Ob.onblur=null,window.addEventListener("pointerup",dd),window.addEventListener("blur",Zc))},te=sh.getScene(mb).addCallback(function(){Rb();
Ob.focus()}),oe=!1;Ob.onblur=Zc;var Fe=null;ra&&"ResizeObserver"in window?(Fe=new window.ResizeObserver(function(){Rb()})).observe(ra):window.addEventListener("resize",Rb);window.addEventListener("pointerdown",pd);window.addEventListener("wheel",tc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Ob);Ob.focus();Ob.select()}({id:n.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(ra,Aa){ra=dh({sceneX:ra,sceneY:Aa},W.state);return[ra.x-
W.state.offsetLeft,ra.y-W.state.offsetTop]},onChange:Tf(function(ra){wa(ra);!n.isDeleted&&xi(n)}),onSubmit:Tf(function(ra){var Aa=!ra.trim();wa(ra,Aa);Aa?pj(W.scene.getElements(),[n]):W.setState(function(Ma){var Ga;return{selectedElementIds:Ta(Ta({},Ma.selectedElementIds),{},(Ga={},Ga[n.id]=!0,Ga))}});Aa&&!P||ok.resumeRecording();W.setState({draggingElement:null,editingElement:null});W.state.elementLocked&&ri(W.canvas,W.state.elementType)}),element:n});this.setState({selectedElementIds:{},selectedGroupIds:{},
editingGroupId:null});wa(n.text)},h.prototype.getTextElementAtPosition=function(n,B){return(n=this.getElementAtPosition(n,B))&&Xd(n)&&!n.isDeleted?n:null},h.prototype.getElementAtPosition=function(n,B){var P=this.getElementsAtPosition(n,B);if(1<P.length){var W=P[P.length-1];return Kk(W,this.state,n,B)?P[P.length-2]:W}return 1===P.length?P[0]:null},h.prototype.getElementsAtPosition=function(n,B){var P,W,wa=this;return P=this.scene.getElements(),W=function(ra){var Aa=wa.state,Ma=10/Aa.zoom.value,Ga=
[n,B];return Aa.selectedElementIds[ra.id]?Ol(ra,Ga,Ma):hk(ra,Aa,Ga)},P.filter(function(ra){return!ra.isDeleted&&W(ra)})},h.prototype.maybeCleanupAfterMissingPointerUp=function(n){null!==fo&&fo(n)},h.prototype.updateGestureOnPointerDown=function(n){zl.set(n.pointerId,{x:n.clientX,y:n.clientY});2===zl.size&&(tp=Om(zl),up=this.state.zoom.value,br=Zn(Array.from(zl.values())))},h.prototype.initialPointerDownState=function(n){var B=lg(n,this.state),P=of(this.scene.getElements(),this.state),W=zg(P),wa=W[0],
ra=W[1],Aa=W[2];W=W[3];return{origin:B,originInGrid:Bg(oi(B.x,B.y,this.state.gridSize)),scrollbars:hi(Zr,n.clientX-this.state.offsetLeft,n.clientY-this.state.offsetTop),lastCoords:Ta({},B),originalElements:this.scene.getElements().reduce(function(Ma,Ga){return Ma.set(Ga.id,Ij(Ga)),Ma},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Aa+wa)/2,y:(W+ra)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(B,
P)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},h.prototype.handleDraggingScrollBar=function(n,B){var P=this;if(!B.scrollbars.isOverEither||this.state.multiElement)return!1;Yr=!0;B.lastCoords.x=n.clientX;B.lastCoords.y=n.clientY;var W=Tf(function(ra){ra.target instanceof HTMLElement&&P.handlePointerMoveOverScrollbars(ra,B)}),wa=Tf(function(){Yr=!1;ri(P.canvas,P.state.elementType);fo=null;P.setState({cursorButton:"up"});P.savePointer(n.clientX,
n.clientY,"up");window.removeEventListener(Oa.Ks.POINTER_MOVE,W);window.removeEventListener(Oa.Ks.POINTER_UP,wa)});return fo=wa,window.addEventListener(Oa.Ks.POINTER_MOVE,W),window.addEventListener(Oa.Ks.POINTER_UP,wa),!0},h.prototype.isASelectedElement=function(n){return null!=n&&this.state.selectedElementIds[n.id]},h.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(n,B){if(2>B.length)return!1;var P=10/this.state.zoom.value;B=zg(B);var W=B[1],wa=B[2],ra=B[3];return n.x>B[0]-P&&n.x<
wa+P&&n.y>W-P&&n.y<ra+P},h.prototype.onKeyDownFromPointerDownHandler=function(n){var B=this;return Tf(function(P){B.maybeHandleResize(n,P)||B.maybeDragNewGenericElement(n,P)})},h.prototype.onKeyUpFromPointerDownHandler=function(n){var B=this;return Tf(function(P){"Alt"===P.key&&P.preventDefault();B.maybeHandleResize(n,P)||B.maybeDragNewGenericElement(n,P)})},h.prototype.onPointerMoveFromPointerDownHandler=function(n){var B=this;return Tf(function(P){if(null===n.drag.offset&&(n.drag.offset=Bg(function(dd,
pd,te){dd=zg(dd);return[pd-dd[0],te-dd[1]]}(of(B.scene.getElements(),B.state),n.origin.x,n.origin.y))),P.target instanceof HTMLElement&&!B.handlePointerMoveOverScrollbars(P,n)){var W=lg(P,B.state),wa=oi(W.x,W.y,B.state.gridSize),ra=wa[0];wa=wa[1];if(n.drag.hasOccurred||"arrow"!==B.state.elementType&&"line"!==B.state.elementType||!(Math.hypot(n.origin.x-W.x,n.origin.y-W.y)<Oa.f)){if(n.resize.isResizing&&(n.lastCoords.x=W.x,n.lastCoords.y=W.y,B.maybeHandleResize(n,P)))return!0;if(B.state.editingLinearElement&&
Vf.handlePointDragging(B.state,function(dd){return B.setState(dd)},W.x,W.y,function(dd,pd){B.maybeSuggestBindingForLinearElementAtCursor(dd,pd,W)}))return n.lastCoords.x=W.x,void(n.lastCoords.y=W.y);if(n.hit.allHitElements.some(function(dd){return B.isASelectedElement(dd)})||n.hit.hasHitCommonBoundingBoxOfSelectedElements){n.drag.hasOccurred=!0;var Aa=of(B.scene.getElements(),B.state);if(0<Aa.length){ra=oi(W.x-n.drag.offset.x,W.y-n.drag.offset.y,B.state.gridSize);var Ma=ra[0];ra=ra[1];wa=[Math.abs(W.x-
n.origin.x),Math.abs(W.y-n.origin.y)];if(function(dd,pd,te,oe,Fe,we,Ve,td){void 0===we&&(we=!1);void 0===Ve&&(Ve=0);void 0===td&&(td=0);Fe=zg(pd);var Pd=te-Fe[0],$d=oe-Fe[1];pd.forEach(function(Le){if(we){var zh=we&&Ve<td;var Vh=we&&Ve>td;var yj=dd.originalElements.get(Le.id);zh=zh&&yj?yj.x:Le.x+Pd;Vh=Vh&&yj?yj.y:Le.y+$d}else zh=Le.x+Pd,Vh=Le.y+$d;bf(Le,{x:zh,y:Vh});xi(Le,{simultaneouslyUpdated:pd})})}(n,Aa,Ma,ra,B.scene,P.shiftKey,wa[0],wa[1]),B.maybeSuggestBindingForAll(Aa),P.altKey&&!n.hit.hasBeenDuplicated){n.hit.hasBeenDuplicated=
!0;Aa=[];P=[];var Ga=new Map;wa=new Map;for(var hb=n.hit.element,lb=0,mb=B.scene.getElementsIncludingDeleted();lb<mb.length;lb++){var Rb=mb[lb];if(B.state.selectedElementIds[Rb.id]||Rb.id===(null==hb?void 0:hb.id)&&n.hit.wasAddedToSelection){var Ob=Vi(B.state.editingGroupId,Ga,Rb),tc=oi(n.origin.x-n.drag.offset.x,n.origin.y-n.drag.offset.y,B.state.gridSize);bf(Ob,{x:Ob.x+(tc[0]-Ma),y:Ob.y+(tc[1]-ra)});Aa.push(Ob);P.push(Rb);wa.set(Rb.id,Ob.id)}else Aa.push(Rb)}Ma=ah(ah([],Aa),P);Wj(Ma,P,wa,"duplicatesServeAsOld");
B.scene.replaceAllElements(Ma)}return}}if(Aa=B.state.draggingElement)if(Eg(Aa)?(n.drag.hasOccurred=!0,Ga=Aa.points,lb=hb=void 0,"draw"===Aa.type?(hb=W.x-Aa.x,lb=W.y-Aa.y):(hb=ra-Aa.x,lb=wa-Aa.y),P.shiftKey&&2===Ga.length&&(hb=(Ma=Ie(B.state.elementType,hb,lb)).width,lb=Ma.height),1===Ga.length?bf(Aa,{points:ah(ah([],Ga),[[hb,lb]])}):1<Ga.length&&("draw"===Aa.type?bf(Aa,{points:O(ah(ah([],Ga),[[hb,lb]]),.7/B.state.zoom.value)}):bf(Aa,{points:ah(ah([],Ga.slice(0,-1)),[[hb,lb]])})),eg(Aa)&&B.maybeSuggestBindingForLinearElementAtCursor(Aa,
"end",W,B.state.startBoundElement)):(n.lastCoords.x=W.x,n.lastCoords.y=W.y,B.maybeDragNewGenericElement(n,P)),"selection"===B.state.elementType){Ma=B.scene.getElements();!P.shiftKey&&jg(Ma,B.state)&&B.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var Zc=function(dd,pd){pd=Zf(pd);var te=pd[0],oe=pd[1],Fe=pd[2],we=pd[3];return dd.filter(function(Ve){var td=pi(Ve),Pd=td[0],$d=td[1],Le=td[2];td=td[3];return"selection"!==Ve.type&&te<=Pd&&oe<=$d&&Fe>=Le&&we>=td})}(Ma,Aa);B.setState(function(dd){return Rh(Ta(Ta({},
dd),{},{selectedElementIds:Ta(Ta({},dd.selectedElementIds),Zc.reduce(function(pd,te){return pd[te.id]=!0,pd},{}))}),B.scene.getElements())})}}}})},h.prototype.handlePointerMoveOverScrollbars=function(n,B){return B.scrollbars.isOverHorizontal?(n=n.clientX,this.setState({scrollX:this.state.scrollX-(n-B.lastCoords.x)/this.state.zoom.value}),B.lastCoords.x=n,!0):B.scrollbars.isOverVertical?(n=n.clientY,this.setState({scrollY:this.state.scrollY-(n-B.lastCoords.y)/this.state.zoom.value}),B.lastCoords.y=
n,!0):!1},h.prototype.onPointerUpFromPointerDownHandler=function(n){var B=this;return Tf(function(P){var W=B.state,wa=W.draggingElement,ra=W.resizingElement,Aa=W.multiElement,Ma=W.elementType,Ga=W.elementLocked,hb=W.isResizing;W=W.isRotating;if(B.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Aa||Xd(B.state.editingElement)?B.state.editingElement:null}),B.savePointer(P.clientX,P.clientY,"up"),B.state.editingLinearElement){var lb=Vf.handlePointerUp(P,
B.state.editingLinearElement,B.state);lb!==B.state.editingLinearElement&&B.setState({editingLinearElement:lb,suggestedBindings:[]})}if(fo=null,window.removeEventListener(Oa.Ks.POINTER_MOVE,n.eventListeners.onMove),window.removeEventListener(Oa.Ks.POINTER_UP,n.eventListeners.onUp),window.removeEventListener(Oa.Ks.KEYDOWN,n.eventListeners.onKeyDown),window.removeEventListener(Oa.Ks.KEYUP,n.eventListeners.onKeyUp),"draw"!==(null==wa?void 0:wa.type))if(Eg(wa))1<wa.points.length&&ok.resumeRecording(),
P=lg(P,B.state),n.drag.hasOccurred||!wa||Aa?n.drag.hasOccurred&&!Aa&&(B.state.isBindingEnabled&&eg(wa)&&kk(wa,B.state,B.scene,P),B.setState({suggestedBindings:[],startBoundElement:null}),Ga||"draw"===Ma?B.setState(function(Ob){var tc;return{draggingElement:null,selectedElementIds:Ta(Ta({},Ob.selectedElementIds),{},(tc={},tc[B.state.draggingElement.id]=!0,tc))}}):(Fi(B.canvas),B.setState(function(Ob){var tc;return{draggingElement:null,elementType:"selection",selectedElementIds:Ta(Ta({},Ob.selectedElementIds),
{},(tc={},tc[B.state.draggingElement.id]=!0,tc))}}))):(bf(wa,{points:ah(ah([],wa.points),[[P.x-wa.x,P.y-wa.y]])}),B.setState({multiElement:wa,editingElement:B.state.draggingElement}));else{if("selection"!==Ma&&wa&&Mh(wa))return B.scene.replaceAllElements(B.scene.getElementsIncludingDeleted().slice(0,-1)),void B.setState({draggingElement:null});wa&&bf(wa,Jl(wa));ra&&ok.resumeRecording();ra&&Mh(ra)&&B.scene.replaceAllElements(B.scene.getElementsIncludingDeleted().filter(function(Ob){return Ob.id!==
ra.id}));var mb=n.hit.element;if(mb&&!n.drag.hasOccurred&&!n.hit.wasAddedToSelection)if(P.shiftKey)if(B.state.selectedElementIds[mb.id])if(null!=th(B.state,mb)){var Rb=mb.groupIds.flatMap(function(Ob){return ek(B.scene.getElements(),Ob)}).map(function(Ob){var tc;return(tc={})[Ob.id]=!1,tc}).reduce(function(Ob,tc){return Ta(Ta({},Ob),tc)},{});B.setState(function(Ob){return{selectedGroupIds:Ta(Ta({},Ob.selectedElementIds),mb.groupIds.map(function(tc){var Zc;return(Zc={})[tc]=!1,Zc}).reduce(function(tc,
Zc){return Ta(Ta({},tc),Zc)},{})),selectedElementIds:Ta(Ta({},Ob.selectedElementIds),Rb)}})}else B.setState(function(Ob){var tc;return{selectedElementIds:Ta(Ta({},Ob.selectedElementIds),{},(tc={},tc[mb.id]=!1,tc))}});else B.setState(function(Ob){var tc;return{selectedElementIds:Ta(Ta({},Ob.selectedElementIds),{},(tc={},tc[mb.id]=!0,tc))}});else B.setState(function(Ob){var tc;return Ta({},Rh(Ta(Ta({},Ob),{},{selectedElementIds:(tc={},tc[mb.id]=!0,tc)}),B.scene.getElements()))});B.state.editingLinearElement||
n.drag.hasOccurred||B.state.isResizing||!(mb&&Kk(mb,B.state,n.origin.x,n.origin.y)||!mb&&n.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ga&&"draw"!==Ma&&wa&&B.setState(function(Ob){var tc;return{selectedElementIds:Ta(Ta({},Ob.selectedElementIds),{},(tc={},tc[wa.id]=!0,tc))}}),("selection"!==Ma||jg(B.scene.getElements(),B.state))&&ok.resumeRecording(),(n.drag.hasOccurred||hb||W)&&(B.state.isBindingEnabled?mg:bh)(of(B.scene.getElements(),B.state)),Ga||"draw"===Ma?B.setState({draggingElement:null,
suggestedBindings:[]}):(Fi(B.canvas),B.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):B.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else B.actionManager.executeAction(Nf)})},h.prototype.maybeSuggestBindingForAll=function(n){var B;n=(B=new Set(n.map(function(P){return P.id})),n.flatMap(function(P){return eg(P)?Fl(P).filter(function(W){return!B.has(W.id)}):xk(P)?mh(P).filter(function(W){return!B.has(W[0].id)}):[]}));this.setState({suggestedBindings:n})},
h.prototype.clearSelection=function(n){this.setState(function(B){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:B.editingGroupId&&null!=n&&n.groupIds.includes(B.editingGroupId)?B.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},h.prototype.getTextWysiwygSnappedToCenterPosition=function(n,B,P,W,wa){if(wa=function(ra,Aa,Ma){for(var Ga=null,hb=ra.length-1;0<=hb;--hb)if(!ra[hb].isDeleted){var lb=Zf(ra[hb]),mb=lb[1],
Rb=lb[2],Ob=lb[3];if(lb[0]<Aa&&Aa<Rb&&mb<Ma&&Ma<Ob){Ga=ra[hb];break}}return Ga}(this.scene.getElementsIncludingDeleted().filter(function(ra){return!Xd(ra)}),n,B))if(W=wa.x+wa.width/2,wa=wa.y+wa.height/2,Math.hypot(n-W,B-wa)<Oa.wZ)return n=dh({sceneX:W,sceneY:wa},P),{viewportX:n.x,viewportY:n.y,elementCenterX:W,elementCenterY:wa}},h.prototype.getCanvasOffsets=function(n){var B,P;return"number"==typeof(null==n?void 0:n.offsetLeft)&&"number"==typeof(null==n?void 0:n.offsetTop)?{offsetLeft:n.offsetLeft,
offsetTop:n.offsetTop}:null!==(B=this.excalidrawContainerRef)&&void 0!==B&&null!==(P=B.current)&&void 0!==P&&P.parentElement?(P=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),B=P.left,P=P.top,{offsetLeft:"number"==typeof(null==n?void 0:n.offsetLeft)?n.offsetLeft:B,offsetTop:"number"==typeof(null==n?void 0:n.offsetTop)?n.offsetTop:P}):{offsetLeft:"number"==typeof(null==n?void 0:n.offsetLeft)?n.offsetLeft:0,offsetTop:"number"==typeof(null==n?void 0:n.offsetTop)?n.offsetTop:
0}},h.prototype.updateLanguage=function(){var n=this;return zb()(function(){var B;return Xo(this,function(P){switch(P.label){case 0:return B=Tc.find(function(W){return W.code===n.props.langCode})||Md,[4,ef(B)];case 1:return P.sent(),n.setAppState({}),[2]}})})()},h}(R().Component);Vr.defaultProps={width:window.innerWidth,height:window.innerHeight};var cu=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=R().createRef();this.getSceneElementsIncludingDeleted=
function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=Tf(function(h){if(!d.unmounted&&!1!==h){var n=null;if(h.elements&&(h.elements.forEach(function(Ma){var Ga;(null===(Ga=d.state.editingElement)||void 0===Ga?void 0:Ga.id)===Ma.id&&d.state.editingElement!==Ma&&!Ma.isDeleted&&(n=Ma)}),d.scene.replaceAllElements(h.elements),h.commitToHistory&&ok.resumeRecording()),h.appState||n){var B,P,W;h.commitToHistory&&ok.resumeRecording();
var wa=(null==h||null===(B=h.appState)||void 0===B?void 0:B.viewModeEnabled)||!1,ra=(null==h||null===(P=h.appState)||void 0===P?void 0:P.zenModeEnabled)||!1,Aa=(null==h||null===(W=h.appState)||void 0===W?void 0:W.gridSize)||null;void 0!==d.props.viewModeEnabled&&(wa=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(ra=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(Aa=d.props.gridModeEnabled?Oa.k:null);d.setState(function(Ma){var Ga;return Object.assign(h.appState||{},{editingElement:n||
(null===(Ga=h.appState)||void 0===Ga?void 0:Ga.editingElement)||null,width:Ma.width,height:Ma.height,offsetTop:Ma.offsetTop,offsetLeft:Ma.offsetLeft,viewModeEnabled:wa,zenModeEnabled:ra,gridSize:Aa})},function(){h.syncHistory&&ok.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=Tf(function(){Yo=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(h){h.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(h){Xd(h)&&
ti.delete(h)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var h=zb()(function(n){var B,P,W,wa,ra;return Xo(this,function(Aa){switch(Aa.label){case 0:window.history.replaceState({},Oa.iC,window.location.origin),Aa.label=1;case 1:return Aa.trys.push([1,7,,8]),[4,fetch(n)];case 2:return[4,Aa.sent().blob()];case 3:return B=Aa.sent(),wa=(W=JSON).parse,[4,B.text()];case 4:Aa=P=wa.apply(W,[Aa.sent()]);if("object"!=typeof Aa||!Aa||"excalidrawlib"!==Aa.type||1!==Aa.version)throw Error();return window.confirm(Mb("alerts.confirmAddLibrary",
{numShapes:P.library.length}))?[4,Tg.importLibrary(B)]:[3,6];case 5:Aa.sent(),d.setState({isLibraryOpen:!0}),Aa.label=6;case 6:return[3,8];case 7:return ra=Aa.sent(),window.alert(Mb("alerts.errorLoadingLibrary")),console.error(ra),[3,8];case 8:return[2]}})});return function(n){return h.apply(this,arguments)}}();this.resetHistory=function(){ok.clear()};this.resetScene=Tf(function(h){d.scene.replaceAllElements([]);d.setState(function(n){return Ta(Ta({},yh()),{},{isLoading:(null==h||!h.resetLoadingState)&&
n.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=zb()(function(){var h,n,B,P,W;return Xo(this,function(wa){switch(wa.label){case 0:"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ra=zb()(function(Aa){var Ma,Ga;return Xo(this,function(hb){switch(hb.label){case 0:return Aa.files.length?[4,(Ma=Aa.files[0]).getFile()]:[2];case 1:return(Ga=hb.sent()).handle=Ma,Im(Ga,d.state).then(function(lb){return d.syncActionResult({elements:lb.elements,
appState:Ta(Ta({},lb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(lb){d.setState({isLoading:!1,errorMessage:lb.message})}),[2]}})});return function(Aa){return ra.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),n=null,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return n=wa.sent()||null,[3,4];case 3:return B=wa.sent(),console.error(B),[3,4];case 4:return(P=gn(n,null)).appState=Ta(Ta({},P.appState),{},{isLoading:!1}),
null!==(h=n)&&void 0!==h&&h.scrollToCenter&&(P.appState=Ta(Ta({},P.appState),ji(P.elements,Ta(Ta({},P.appState),{},{width:d.state.width,height:d.state.height,offsetTop:d.state.offsetTop,offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Ta(Ta({},P),{},{commitToHistory:!0})),(W=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(W)]:[3,6];case 5:wa.sent(),wa.label=6;case 6:return[2]}})});this.onResize=Tf(function(){d.scene.getElementsIncludingDeleted().forEach(function(h){return ti.delete(h)});
d.setState({})});this.onScroll=qi(function(){var h=d.getCanvasOffsets(),n=h.offsetTop,B=h.offsetLeft;d.setState(function(P){return P.offsetLeft===B&&P.offsetTop===n?null:{offsetTop:n,offsetLeft:B}})},Oa.HM);this.onCut=Tf(function(h){Ag(h.target)||(d.cutAll(),h.preventDefault())});this.onCopy=Tf(function(h){var n=document.getSelection();null!=n&&n.anchorNode&&!d.excalidrawContainerRef.current.contains(n.anchorNode)||Ag(h.target)||(d.copyAll(),h.preventDefault())});this.cutAll=function(){d.copyAll();
d.actionManager.executeAction(pn)};this.copyAll=function(){Bk(d.scene.getElements(),d.state)};this.onTapStart=function(h){if(!pq)return pq=!0,clearTimeout(Xr),void(Xr=window.setTimeout(Vr.resetTapTwice,Oa.Gj));if(pq&&1===h.touches.length){var n=h.touches[0];d.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY});pq=!1;clearTimeout(Xr)}h.preventDefault();2===h.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(h){h.preventDefault();0<h.touches.length&&d.setState({previousSelectedElementIds:{},
selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=Tf(function(){var h=zb()(function(n){var B,P,W;return Xo(this,function(wa){switch(wa.label){case 0:return B=document.activeElement,P=document.elementFromPoint(Dp,Ep),!n||P instanceof HTMLCanvasElement&&!Ag(B)?[4,$a(n)]:[2];case 1:return(W=wa.sent()).errorMessage?d.setState({errorMessage:W.errorMessage}):W.spreadsheet?d.setState({pasteDialog:{data:W.spreadsheet,shown:!0}}):W.elements?d.addElementsFromPasteOrLibrary(W.elements):
W.text&&d.addTextFromPaste(W.text),d.selectShapeTool("selection"),null==n||n.preventDefault(),[2]}})});return function(n){return h.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(h,n,B){void 0===n&&(n=Dp);void 0===B&&(B=Ep);var P=zg(h),W=P[0],wa=P[1],ra=Math.abs(W-P[2])/2;P=Math.abs(wa-P[3])/2;n=lg({clientX:n,clientY:B},d.state);ra=n.x-ra;P=n.y-P;var Aa=new Map;ra=oi(ra,P,d.state.gridSize);var Ma=ra[0],Ga=ra[1],hb=new Map;ra=h.map(function(lb){var mb=Vi(d.state.editingGroupId,
Aa,lb,{x:lb.x+Ma-W,y:lb.y+Ga-wa});return hb.set(lb.id,mb.id),mb});P=ah(ah([],d.scene.getElementsIncludingDeleted()),ra);Wj(P,h,hb);d.scene.replaceAllElements(P);ok.resumeRecording();d.setState(Rh(Ta(Ta({},d.state),{},{isLibraryOpen:!1,selectedElementIds:ra.reduce(function(lb,mb){return lb[mb.id]=!0,lb},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(h){d.setState(h)};this.removePointer=function(h){"touch"===h.pointerType&&po&&(clearTimeout(po),po=0,bq=!1);zl.delete(h.pointerId)};
this.toggleLock=function(){d.setState(function(h){return{elementLocked:!h.elementLocked,elementType:h.elementLocked?"selection":h.elementType}})};this.toggleZenMode=function(){d.actionManager.executeAction(de)};this.toggleStats=function(){d.state.showStats||gh("dialog","stats");d.actionManager.executeAction(Xn)};this.setScrollToCenter=function(h){d.setState(Ta({},ji(Wd(h),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=Tf(function(h){var n;h.commitToHistory&&
ok.resumeRecording();null!==(n=h.appState)&&void 0!==n&&n.viewBackgroundColor&&d.setState({viewBackgroundColor:h.appState.viewBackgroundColor});h.elements&&d.scene.replaceAllElements(h.elements);h.collaborators&&d.setState({collaborators:h.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=Tf(function(h){Dp=h.x;Ep=h.y});this.onKeyDown=Tf(function(h){var n;if(!(("Proxy"in window&&(!h.shiftKey&&/^[A-Z]$/.test(h.key)||h.shiftKey&&/^[a-z]$/.test(h.key))&&
(h=new Proxy(h,{get:function(wa,ra){var Aa=wa[ra];return"function"==typeof Aa?Aa.bind(wa):"key"===ra?h.shiftKey?wa.key.toUpperCase():wa.key.toLowerCase():Aa}})),Ag(h.target)&&"Escape"!==h.key||pg(h.key)&&(n=h.target,n instanceof HTMLElement&&"wysiwyg"===n.dataset.type||n instanceof HTMLBRElement||n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement))||("?"===h.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(h)||d.state.viewModeEnabled))){if(h[Te]&&
d.setState({isBindingEnabled:!1}),"Digit9"===h.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),pg(h.key)){n=d.state.gridSize&&(h.shiftKey?Oa.$e:d.state.gridSize)||(h.shiftKey?Oa.Iw:Oa.$e);var B=d.scene.getElements().filter(function(wa){return d.state.selectedElementIds[wa.id]}),P=0,W=0;"ArrowLeft"===h.key?P=-n:"ArrowRight"===h.key?P=n:"ArrowUp"===h.key?W=-n:"ArrowDown"===h.key&&(W=n);B.forEach(function(wa){bf(wa,{x:wa.x+P,y:wa.y+W});xi(wa,{simultaneouslyUpdated:B})});d.maybeSuggestBindingForAll(B);
h.preventDefault()}else if("Enter"===h.key)if(n=of(d.scene.getElements(),d.state),1===n.length&&Eg(n[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===n[0].id||(ok.resumeRecording(),d.setState({editingLinearElement:new Vf(n[0],d.scene)}));else{if(1===n.length&&!Eg(n[0]))return n=n[0],d.startTextEditing({sceneX:n.x+n.width/2,sceneY:n.y+n.height/2}),void h.preventDefault()}else h.ctrlKey||h.altKey||h.metaKey||null!==d.state.draggingElement||((n=function(wa){var ra=tm.find(function(Aa,
Ma){return wa===(Ma+1).toString()||("string"==typeof Aa.key?Aa.key===wa:Aa.key.includes(wa))});return(null==ra?void 0:ra.value)||null}(h.key))?d.selectShapeTool(n):"q"===h.key&&d.toggleLock());" "===h.key&&0===zl.size&&(Yo=!0,Gi(d.canvas,Oa.oc.GRABBING))}});this.onKeyUp=Tf(function(h){if(" "===h.key&&("selection"===d.state.elementType?Fi(d.canvas):(ri(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Yo=!1),h[Te]||d.state.isBindingEnabled||
d.setState({isBindingEnabled:!0}),pg(h.key))h=of(d.scene.getElements(),d.state),d.state.isBindingEnabled?mg(h):bh(h),d.setState({suggestedBindings:[]})});this.onGestureStart=Tf(function(h){h.preventDefault();d.setState({selectedElementIds:{}});up=d.state.zoom.value});this.onGestureChange=Tf(function(h){if(h.preventDefault(),2!==zl.size){var n=up;n&&d.setState(function(B){var P=B.zoom,W=B.offsetLeft;B=B.offsetTop;return{zoom:Yh(Rj(n*h.scale),P,{left:W,top:B},{x:Dp,y:Ep})}})}});this.onGestureEnd=Tf(function(h){h.preventDefault();
d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});up=null});this.startTextEditing=function(h){var n=h.sceneX,B=h.sceneY;h=h.insertAtParentCenter;var P=void 0===h||h;h=d.getTextElementAtPosition(n,B);P=P&&d.getTextWysiwygSnappedToCenterPosition(n,B,d.state,d.canvas,window.devicePixelRatio);n=h||Hj({x:P?P.elementCenterX:n,y:P?P.elementCenterY:B,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,
strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:P?"center":d.state.currentItemTextAlign,verticalAlign:P?"middle":Oa.hs});d.setState({editingElement:n});h?P&&"center"===n.textAlign||bf(n,{verticalAlign:Oa.hs}):(d.scene.replaceAllElements(ah(ah([],
d.scene.getElementsIncludingDeleted()),[n])),P||bf(n,{y:n.y-n.baseline/2}));d.setState({editingElement:n});d.handleTextWysiwyg(n,{isExistingElement:!!h})};this.handleCanvasDoubleClick=function(h){if(!d.state.multiElement&&"selection"===d.state.elementType){var n=of(d.scene.getElements(),d.state);if(1===n.length&&Eg(n[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===n[0].id||(ok.resumeRecording(),d.setState({editingLinearElement:new Vf(n[0],d.scene)}));else{Fi(d.canvas);var B=
lg(h,d.state);n=B.x;B=B.y;if(0<Ii(d.state).length){var P=d.getElementAtPosition(n,B),W=P&&function(wa,ra){return wa.groupIds.find(function(Aa){return ra[Aa]})}(P,d.state.selectedGroupIds);if(W)return void d.setState(function(wa){var ra;return Rh(Ta(Ta({},wa),{},{editingGroupId:W,selectedElementIds:(ra={},ra[P.id]=!0,ra),selectedGroupIds:{}}),d.scene.getElements())})}Fi(d.canvas);h[Te]||d.startTextEditing({sceneX:n,sceneY:B,insertAtParentCenter:!h.altKey})}}};this.handleCanvasPointerMove=function(h){d.savePointer(h.clientX,
h.clientY,d.state.cursorButton);zl.has(h.pointerId)&&zl.set(h.pointerId,{x:h.clientX,y:h.clientY});var n=up;if(2===zl.size&&tp&&n&&br){var B=Om(zl),P=B.x-tp.x,W=B.y-tp.y;tp=B;var wa=Zn(Array.from(zl.values()))/br;d.setState(function(Rb){var Ob=Rb.zoom,tc=Rb.offsetLeft,Zc=Rb.offsetTop;return{scrollX:Rb.scrollX+P/Ob.value,scrollY:Rb.scrollY+W/Ob.value,zoom:Yh(Rj(n*wa),Ob,{left:tc,top:Zc},B),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else tp=br=up=null;if(!(Yo||qq||Yr)){var ra=
hi(Zr,h.clientX-d.state.offsetLeft,h.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||d.state.multiElement||(ra?Fi(d.canvas):ri(d.canvas,d.state.elementType));var Aa=lg(h,d.state),Ma=Aa.x,Ga=Aa.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var hb=Vf.handlePointerMove(h,Ma,Ga,d.state.editingLinearElement,d.state.gridSize);hb!==d.state.editingLinearElement&&d.setState({editingLinearElement:hb});null!=hb.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(Aa):
d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(hb=d.state.draggingElement,eg(hb)?d.maybeSuggestBindingForLinearElementAtCursor(hb,"end",Aa,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(Aa));if(d.state.multiElement){ra=d.state.multiElement;Aa=ra.x;hb=ra.y;h=ra.points;var lb=ra.lastCommittedPoint,mb=h[h.length-1];return ri(d.canvas,d.state.elementType),void(mb===lb?Math.hypot(mb[0]-(Ma-Aa),mb[1]-(Ga-hb))>=Oa.qx?bf(ra,{points:ah(ah([],h),[[Ma-Aa,Ga-hb]])}):Gi(d.canvas,
Oa.oc.POINTER):2<h.length&&lb&&Math.hypot(lb[0]-(Ma-Aa),lb[1]-(Ga-hb))<Oa.qx?(Gi(d.canvas,Oa.oc.POINTER),bf(ra,{points:h.slice(0,-1)})):(ai(h,d.state.zoom.value)&&Gi(d.canvas,Oa.oc.POINTER),bf(ra,{points:ah(ah([],h.slice(0,-1)),[[Ma-Aa,Ga-hb]])})))}if(!(h.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){lb=d.scene.getElements();hb=of(lb,d.state);if(1!==hb.length||ra||d.state.editingLinearElement){if(1<hb.length&&!ra&&(Ma=hf(zg(hb),Ma,Ga,d.state.zoom,h.pointerType)))return void Gi(d.canvas,
ve({transformHandleType:Ma}))}else if((Ma=Ki(lb,d.state,Ma,Ga,d.state.zoom,h.pointerType))&&Ma.transformHandleType)return void Gi(d.canvas,ve(Ma));Ma=d.getElementAtPosition(Aa.x,Aa.y);"text"===d.state.elementType?Gi(d.canvas,Xd(Ma)?Oa.oc.TEXT:Oa.oc.CROSSHAIR):ra?Gi(d.canvas,Oa.oc.AUTO):Ma||d.isHittingCommonBoundingBoxOfSelectedElements(Aa,hb)?Gi(d.canvas,Oa.oc.MOVE):Gi(d.canvas,Oa.oc.AUTO)}}};this.handleTouchMove=function(h){bq=!0};this.handleCanvasPointerDown=function(h){if(h.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(h),
d.maybeCleanupAfterMissingPointerUp(h),!(qq||(d.setState({lastPointerDownWith:h.pointerType,cursorButton:"down"}),d.savePointer(h.clientX,h.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(h)||h.button!==Oa.Oh.MAIN&&h.button!==Oa.Oh.TOUCH||(d.updateGestureOnPointerDown(h),h.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<zl.size)))){var n=d.initialPointerDownState(h);if(!d.handleDraggingScrollBar(h,n)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(h),
!d.handleSelectionOnPointerDown(h,n)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(h,d.state.elementType,n):d.createGenericElementOnPointerDown(d.state.elementType,n);h=d.onPointerMoveFromPointerDownHandler(n);var B=d.onPointerUpFromPointerDownHandler(n),P=d.onKeyDownFromPointerDownHandler(n),W=d.onKeyUpFromPointerDownHandler(n);fo=B;d.state.viewModeEnabled||(window.addEventListener(Oa.Ks.POINTER_MOVE,
h),window.addEventListener(Oa.Ks.POINTER_UP,B),window.addEventListener(Oa.Ks.KEYDOWN,P),window.addEventListener(Oa.Ks.KEYUP,W),n.eventListeners.onMove=h,n.eventListeners.onUp=B,n.eventListeners.onKeyUp=W,n.eventListeners.onKeyDown=P)}else d.handleTextOnPointerDown(h,n)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(h){"touch"===h.pointerType&&(bq=!1,po?bq=!0:po=window.setTimeout(function(){po=0;bq||d.openContextMenu({clientX:h.clientX,clientY:h.clientY})},Oa.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=
function(h){if(0!==zl.size||!(h.button===Oa.Oh.WHEEL||h.button===Oa.Oh.MAIN&&Yo||d.state.viewModeEnabled))return!1;qq=!0;var n=!1,B=/Linux/.test(window.navigator.platform);Gi(d.canvas,Oa.oc.GRABBING);var P=h.clientX,W=h.clientY,wa=Tf(function(Aa){var Ma=P-Aa.clientX,Ga=W-Aa.clientY;if(P=Aa.clientX,W=Aa.clientY,B&&!n&&(1<Math.abs(Ma)||1<Math.abs(Ga))){n=!0;var hb=function(mb){document.body.removeEventListener(Oa.Ks.PASTE,hb);mb.stopPropagation()},lb=function(){setTimeout(function(){document.body.removeEventListener(Oa.Ks.PASTE,
hb);window.removeEventListener(Oa.Ks.POINTER_UP,lb)},100)};document.body.addEventListener(Oa.Ks.PASTE,hb);window.addEventListener(Oa.Ks.POINTER_UP,lb)}d.setState({scrollX:d.state.scrollX-Ma/d.state.zoom.value,scrollY:d.state.scrollY-Ga/d.state.zoom.value})}),ra=Tf(fo=function(){fo=null;qq=!1;Yo||ri(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(h.clientX,h.clientY,"up");window.removeEventListener(Oa.Ks.POINTER_MOVE,wa);window.removeEventListener(Oa.Ks.POINTER_UP,ra);window.removeEventListener(Oa.Ks.BLUR,
ra)});return window.addEventListener(Oa.Ks.BLUR,ra),window.addEventListener(Oa.Ks.POINTER_MOVE,wa,{passive:!0}),window.addEventListener(Oa.Ks.POINTER_UP,ra),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(h,n){if("selection"===d.state.elementType){var B=d.scene.getElements(),P=of(B,d.state);1!==P.length||d.state.editingLinearElement?1<P.length&&
(n.resize.handleType=hf(zg(P),n.origin.x,n.origin.y,d.state.zoom,h.pointerType)):(B=Ki(B,d.state,n.origin.x,n.origin.y,d.state.zoom,h.pointerType),null!=B&&(d.setState({resizingElement:B.element}),n.resize.handleType=B.transformHandleType));if(n.resize.handleType)Gi(d.canvas,ve({transformHandleType:n.resize.handleType})),n.resize.isResizing=!0,n.resize.offset=Bg(function(lb,mb,Rb,Ob){var tc,Zc=1===mb.length?Zf(mb[0]):zg(mb),dd=Zc[0],pd=Zc[1],te=Zc[2];Zc=Zc[3];mb=1===mb.length?mb[0].angle:0;switch(Rb=
(tc=zf(Rb,Ob,(dd+te)/2,(pd+Zc)/2,-mb))[0],Ob=tc[1],lb){case "n":return zf(Rb-(dd+te)/2,Ob-pd,0,0,mb);case "s":return zf(Rb-(dd+te)/2,Ob-Zc,0,0,mb);case "w":return zf(Rb-dd,Ob-(pd+Zc)/2,0,0,mb);case "e":return zf(Rb-te,Ob-(pd+Zc)/2,0,0,mb);case "nw":return zf(Rb-dd,Ob-pd,0,0,mb);case "ne":return zf(Rb-te,Ob-pd,0,0,mb);case "sw":return zf(Rb-dd,Ob-Zc,0,0,mb);case "se":return zf(Rb-te,Ob-Zc,0,0,mb);default:return[0,0]}}(n.resize.handleType,P,n.origin.x,n.origin.y)),1===P.length&&Eg(P[0])&&2===P[0].points.length&&
(n.resize.arrowDirection=(ra=n.resize.handleType,Aa=P[0],Ma=Aa.points[1],Ga=Ma[0],hb=Ma[1],"nw"===ra&&(0>Ga||0>hb)||"ne"===ra&&0<=Ga||"sw"===ra&&0>=Ga||"se"===ra&&(0<Ga||0<hb)?"end":"origin"));else{var W;if(d.state.editingLinearElement&&(P=Vf.handlePointerDown(h,d.state,function(lb){return d.setState(lb)},ok,n.origin),P.hitElement&&(n.hit.element=P.hitElement),P.didAddPoint))return!0;n.hit.element=null!==(W=n.hit.element)&&void 0!==W?W:d.getElementAtPosition(n.origin.x,n.origin.y);n.hit.allHitElements=
d.getElementsAtPosition(n.origin.x,n.origin.y);var wa=n.hit.element;W=n.hit.allHitElements.some(function(lb){return d.isASelectedElement(lb)});if(null!==wa&&W||h.shiftKey||n.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(wa),null!=wa){if(h[Te])return d.setState(function(lb){var mb;lb=Na(Na({},lb),{},{editingGroupId:wa.groupIds.length?wa.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(mb={},mb[wa.id]=!0,mb)});return Ta(Ta({},lb),{},{previousSelectedElementIds:d.state.selectedElementIds})}),
!1;d.state.selectedElementIds[wa.id]||(d.state.editingGroupId&&!wa.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),W||n.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(lb){var mb;return Rh(Ta(Ta({},lb),{},{selectedElementIds:Ta(Ta({},lb.selectedElementIds),{},(mb={},mb[wa.id]=!0,mb))}),d.scene.getElements())}),n.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var ra,
Aa,Ma,Ga,hb;return!1};this.handleTextOnPointerDown=function(h,n){var B;"text"!==(null===(B=d.state.editingElement)||void 0===B?void 0:B.type)&&(d.startTextEditing({sceneX:n.origin.x,sceneY:n.origin.y,insertAtParentCenter:!h.altKey}),Fi(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(h,n,B){if(d.state.multiElement){var P=d.state.multiElement;if("line"===P.type&&ai(P.points,d.state.zoom.value))return bf(P,{lastCommittedPoint:P.points[P.points.length-
1]}),void d.actionManager.executeAction(Nf);n=P.x;h=P.y;var W=P.lastCommittedPoint;if(1<P.points.length&&W&&Math.hypot(W[0]-(B.origin.x-n),W[1]-(B.origin.y-h))<Oa.qx)return void d.actionManager.executeAction(Nf);d.setState(function(Aa){var Ma;return{selectedElementIds:Ta(Ta({},Aa.selectedElementIds),{},(Ma={},Ma[P.id]=!0,Ma))}});bf(P,{lastCommittedPoint:P.points[P.points.length-1]});Gi(d.canvas,Oa.oc.POINTER)}else{h=oi(B.origin.x,B.origin.y,"draw"===n?null:d.state.gridSize);var wa=d.state;W=wa.currentItemStartArrowhead;
wa=wa.currentItemEndArrowhead;W="arrow"===n?[W,wa]:[null,null];var ra=Je({type:n,x:h[0],y:h[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:W[0],endArrowhead:W[1]});d.setState(function(Aa){var Ma;
return{selectedElementIds:Ta(Ta({},Aa.selectedElementIds),{},(Ma={},Ma[ra.id]=!1,Ma))}});bf(ra,{points:ah(ah([],ra.points),[[0,0]])});B=Xh(B.origin,d.scene);d.scene.replaceAllElements(ah(ah([],d.scene.getElementsIncludingDeleted()),[ra]));d.setState({draggingElement:ra,editingElement:ra,startBoundElement:B,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(h,n){n=oi(n.origin.x,n.origin.y,d.state.gridSize);h=Ll({type:h,x:n[0],y:n[1],strokeColor:d.state.currentItemStrokeColor,
backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===h.type?d.setState({selectionElement:h,draggingElement:h}):(d.scene.replaceAllElements(ah(ah([],d.scene.getElementsIncludingDeleted()),[h])),d.setState({multiElement:null,draggingElement:h,
editingElement:h}))};this.updateBindingEnabledOnPointerMove=function(h){h=!h[Te];d.state.isBindingEnabled!==h&&d.setState({isBindingEnabled:h})};this.maybeSuggestBindingAtCursor=function(h){h=Xh(h,d.scene);d.setState({suggestedBindings:null!=h?[h]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(h,n,B,P){n=Xh(B,d.scene);d.setState({suggestedBindings:null==n||(null==P?void 0:P.id)===n.id&&3>h.points.length?[]:[n]})};this.handleCanvasRef=function(h){var n,B,P;null!==h?(d.canvas=h,d.rc=
Fh.canvas(d.canvas),d.canvas.addEventListener(Oa.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(Oa.Ks.TOUCH_START,d.onTapStart),d.canvas.addEventListener(Oa.Ks.TOUCH_END,d.onTapEnd)):(null===(n=d.canvas)||void 0===n||n.removeEventListener(Oa.Ks.WHEEL,d.handleWheel),null===(B=d.canvas)||void 0===B||B.removeEventListener(Oa.Ks.TOUCH_START,d.onTapStart),null===(P=d.canvas)||void 0===P||P.removeEventListener(Oa.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var h=zb()(function(n){var B,
P,W,wa,ra,Aa,Ma,Ga,hb,lb,mb;return Xo(this,function(Rb){switch(Rb.label){case 0:return Rb.trys.push([0,3,,4]),"image/png"!==(null==(P=n.dataTransfer.files[0])?void 0:P.type)&&"image/svg+xml"!==(null==P?void 0:P.type)?[3,2]:[4,Im(P,d.state)];case 1:return W=Rb.sent(),wa=W.elements,ra=W.appState,d.syncActionResult({elements:wa,appState:Ta(Ta({},ra||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Aa=Rb.sent(),[2,d.setState({isLoading:!1,errorMessage:Aa.message})];
case 4:if(""!==(Ma=n.dataTransfer.getData(Oa.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(Ma),n.clientX,n.clientY),[2];if(!("application/json"===(null==(Ga=null===(B=n.dataTransfer)||void 0===B?void 0:B.files[0])?void 0:Ga.type)||null!=Ga&&Ga.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];Rb.label=5;case 5:return Rb.trys.push([5,7,,8]),hb=n.dataTransfer.items[0],lb=Ga,
[4,hb.getAsFileSystemHandle()];case 6:return lb.handle=Rb.sent(),[3,8];case 7:return mb=Rb.sent(),console.warn(mb.name,mb.message),[3,8];case 8:return Im(Ga,d.state).then(function(Ob){return d.syncActionResult({elements:Ob.elements,appState:Ta(Ta({},Ob.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Ob){d.setState({isLoading:!1,errorMessage:Ob.message})}),[3,10];case 9:(null==Ga?void 0:Ga.type)===Oa.LO.excalidrawlib||null!=Ga&&Ga.name.endsWith(".excalidrawlib")?Tg.importLibrary(Ga).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(Ob){return d.setState({isLoading:!1,
errorMessage:Ob.message})}):d.setState({isLoading:!1,errorMessage:Mb("alerts.couldNotLoadInvalidFile")}),Rb.label=10;case 10:return[2]}})});return function(n){return h.apply(this,arguments)}}();this.handleCanvasContextMenu=function(h){h.preventDefault();d.openContextMenu(h)};this.maybeDragNewGenericElement=function(h,n){var B=d.state.draggingElement,P=h.lastCoords;if(B)if("selection"===B.type)ii(B,d.state.elementType,h.origin.x,h.origin.y,P.x,P.y,Math.abs(h.origin.x-P.x),Math.abs(h.origin.y-P.y),
n.shiftKey,n.altKey);else{var W=oi(P.x,P.y,d.state.gridSize);P=W[0];W=W[1];ii(B,d.state.elementType,h.originInGrid.x,h.originInGrid.y,P,W,Math.abs(h.originInGrid.x-P),Math.abs(h.originInGrid.y-W),n.shiftKey,n.altKey);d.maybeSuggestBindingForAll([B])}};this.maybeHandleResize=function(h,n){var B=of(d.scene.getElements(),d.state),P=h.resize.handleType;d.setState({isResizing:P&&"rotation"!==P,isRotating:"rotation"===P});var W=h.lastCoords;W=oi(W.x-h.resize.offset.x,W.y-h.resize.offset.y,d.state.gridSize);
a:{var wa=h.resize.arrowDirection,ra=n.shiftKey,Aa=n.altKey;n=n.shiftKey;var Ma=W[0],Ga=W[1];W=h.resize.center.x;var hb=h.resize.center.y;if(1===B.length){W=B[0];if("rotation"===P)P=Zf(W),P=5*Math.PI/2+Math.atan2(Ga-(P[1]+P[3])/2,Ma-(P[0]+P[2])/2),ra&&(P+=Oa.ay/2,P-=P%Oa.ay),P=Ef(P),bf(W,{angle:P}),xi(W);else if(!Eg(W)||2!==W.points.length||"nw"!==P&&"ne"!==P&&"sw"!==P&&"se"!==P)if(!Xd(W)||"nw"!==P&&"ne"!==P&&"sw"!==P&&"se"!==P){if(P){wa=h.originalElements.get(W.id);var lb=Rg(wa,wa.width,wa.height);
ra=[lb[0],lb[1]];h=[lb[2],lb[3]];lb=[(ra[0]+h[0])/2,(ra[1]+h[1])/2];hb=ej([Ma,Ga],lb,-wa.angle);Ma=Rg(W,W.width,W.height);var mb=Ma[2]-Ma[0],Rb=Ma[3]-Ma[1];Ma=(h[0]-ra[0])/mb;Ga=(h[1]-ra[1])/Rb;P.includes("e")&&(Ma=(hb[0]-ra[0])/mb);P.includes("s")&&(Ga=(hb[1]-ra[1])/Rb);P.includes("w")&&(Ma=(h[0]-hb[0])/mb);P.includes("n")&&(Ga=(h[1]-hb[1])/Rb);hb=wa.width;mb=wa.height;Ma*=W.width;Ga*=W.height;if(Aa&&(Ma=2*Ma-hb,Ga=2*Ga-mb),n){Rb=Math.abs(Ma)/hb;var Ob=Math.abs(Ga)/mb;if(1===P.length&&(Ga*=Rb,Ma*=
Ob),2===P.length)Rb=Math.max(Rb,Ob),Ma=hb*Rb*Math.sign(Ma),Ga=mb*Rb*Math.sign(Ga)}Ob=Rg(wa,Ma,Ga);hb=Ob[0];mb=Ob[1];Rb=Ob[2]-hb;Ob=Ob[3]-mb;var tc=qj([],ra);if(["n","w","nw"].includes(P)&&(tc=[h[0]-Math.abs(Rb),h[1]-Math.abs(Ob)]),"ne"===P)tc=[ra[0],h[1]],tc=[tc[0],tc[1]-Math.abs(Ob)];"sw"===P&&(ra=[h[0],ra[1]],tc=[ra[0]-Math.abs(Rb),ra[1]]);n&&(["s","n"].includes(P)&&(tc[0]=lb[0]-Rb/2),["e","w"].includes(P)&&(tc[1]=lb[1]-Ob/2));0>Ma&&(P.includes("e")&&(tc[0]-=Math.abs(Rb)),P.includes("w")&&(tc[0]+=
Math.abs(Rb)));0>Ga&&(P.includes("s")&&(tc[1]-=Math.abs(Ob)),P.includes("n")&&(tc[1]+=Math.abs(Ob)));Aa&&(tc[0]=lb[0]-Math.abs(Rb)/2,tc[1]=lb[1]-Math.abs(Ob)/2);P=wa.angle;Aa=ej(tc,lb,P);n=ej([tc[0]+Math.abs(Rb)/2,tc[1]+Math.abs(Ob)/2],lb,P);tc=ej(Aa,n,-P);P=df(wa,Ma,Ga);Aa=qj([],tc);Aa[0]+=wa.x-hb;Aa[1]+=wa.y-mb;P=oc({width:Math.abs(Ma),height:Math.abs(Ga),x:Aa[0],y:Aa[1]},P);0!==P.width&&0!==P.height&&Number.isFinite(P.x)&&Number.isFinite(P.y)&&(xi(W,{newSize:{width:P.width,height:P.height}}),bf(W,
P))}}else{wa=Zf(W);h=wa[0];ra=wa[1];n=wa[2];wa=wa[3];Ga=zf(Ma,Ga,(h+n)/2,(ra+wa)/2,-W.angle);Ma=Ga[0];Ga=Ga[1];switch(P){case "se":lb=Math.max((Ma-h)/(n-h),(Ga-ra)/(wa-ra));break;case "nw":lb=Math.max((n-Ma)/(n-h),(wa-Ga)/(wa-ra));break;case "ne":lb=Math.max((Ma-h)/(n-h),(wa-Ga)/(wa-ra));break;case "sw":lb=Math.max((n-Ma)/(n-h),(Ga-ra)/(wa-ra))}0<lb&&(Ma=W.width*lb,lb*=W.height,Ga=Og(W,Ma,lb),null!==Ga&&(hb=Rg(W,Ma,lb),h=(h-hb[0])/2,ra=(ra-hb[1])/2,n=(n-hb[2])/2,wa=(wa-hb[3])/2,P={n:/^(n|ne|nw)$/.test(P)||
Aa&&/^(s|se|sw)$/.test(P),s:/^(s|se|sw)$/.test(P)||Aa&&/^(n|ne|nw)$/.test(P),w:/^(w|nw|sw)$/.test(P)||Aa&&/^(e|ne|se)$/.test(P),e:/^(e|ne|se)$/.test(P)||Aa&&/^(w|nw|sw)$/.test(P)},P=fg(P,W.x,W.y,W.angle,h,ra,n,wa),bf(W,{fontSize:Ga.size,width:Ma,height:lb,baseline:Ga.baseline,x:P[0],y:P[1]})));xi(W)}else P=Zf(W),Aa=zf(Ma,Ga,(P[0]+P[2])/2,(P[1]+P[3])/2,-W.angle),P=Aa[0],Aa=Aa[1],Aa="end"===wa?[P-W.x,Aa-W.y]:[W.x+W.points[1][0]-P,W.y+W.points[1][1]-Aa],P=Aa[0],Aa=Aa[1],ra&&(n=W.angle,P=Ie.apply(void 0,
qj([W.type],zf(P,Aa,0,0,n))),Aa=zf(P.width,P.height,0,0,-n),P=Aa[0],Aa=Aa[1]),n=fg("end"===wa?{s:!0,e:!0}:{n:!0,w:!0},W.x,W.y,W.angle,0,0,(W.points[1][0]-P)/2,(W.points[1][1]-Aa)/2),bf(W,{x:n[0],y:n[1],points:[[0,0],[P,Aa]]});W=!0}else{if(1<B.length){if("rotation"===P){W=(nl(h,B,Ma,Ga,ra,W,hb),!0);break a}if("nw"===P||"ne"===P||"sw"===P||"se"===P){W=(Gl(B,P,Ma,Ga),!0);break a}}W=!1}}return!!W&&(d.maybeSuggestBindingForAll(B),!0)};this.openContextMenu=function(h){var n,B=h.clientX;h=h.clientY;var P=
lg({clientX:B,clientY:h},d.state),W=P.x,wa=P.y,ra=Uf.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState()),Aa=vi.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());P=og().matches;var Ma=d.scene.getElements();W=d.getElementAtPosition(W,wa);wa=[];(Ck&&0<Ma.length&&wa.push(qp),Yj&&0<Ma.length&&wa.push(rp),W)?(d.state.selectedElementIds[W.id]||d.setState({selectedElementIds:(n={},n[W.id]=!0,n)}),d.state.viewModeEnabled?
Dn({options:ah([navigator.clipboard&&kn],wa),top:h,left:B,actionManager:d.actionManager,appState:d.state}):Dn({options:ah(ah([P&&Zp,P&&navigator.clipboard&&kn,P&&navigator.clipboard&&{name:"paste",perform:function(Ga,hb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},P&&"separator"],wa),["separator",kf,af,"separator",ra&&Uf,Aa&&vi,(ra||Aa)&&"separator",Fo,"separator",Xf,Hl,f,A,"separator",ea,pn]),top:h,left:B,actionManager:d.actionManager,appState:d.state})):
(n=ah(ah([],wa),[void 0===d.props.gridModeEnabled&&op,void 0===d.props.zenModeEnabled&&de,void 0===d.props.viewModeEnabled&&Ss,Xn]),(Dn({options:n,top:h,left:B,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||Dn({options:[P&&navigator.clipboard&&{name:"paste",perform:function(Ga,hb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},P&&navigator.clipboard&&"separator",Ck&&0<Ma.length&&qp,Yj&&0<Ma.length&&rp,(Ck&&0<Ma.length||Yj&&0<Ma.length)&&
"separator",V,"separator",void 0===d.props.gridModeEnabled&&op,void 0===d.props.zenModeEnabled&&de,void 0===d.props.viewModeEnabled&&Ss,Xn],top:h,left:B,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=Tf(function(h){if(h.preventDefault(),!qq){var n=h.deltaX,B=h.deltaY,P=d.state,W=P.selectedElementIds,wa=P.previousSelectedElementIds;if(h.metaKey||h.ctrlKey){h=Math.sign(B);P=Math.abs(B);10<P&&(P=10);P*=h;0!==Object.keys(wa).length&&setTimeout(function(){d.setState({selectedElementIds:wa,
previousSelectedElementIds:{}})},1E3);var ra=d.state.zoom.value-P/100;return ra+=Math.log10(Math.max(1,d.state.zoom.value))*-h,ra=Math.round(ra*Oa.V4*100)/(100*Oa.V4),d.setState(function(Aa){var Ma=Aa.zoom,Ga=Aa.offsetLeft;Aa=Aa.offsetTop;return{zoom:Yh(Rj(ra),Ma,{left:Ga,top:Aa},{x:Dp,y:Ep}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(W).length?W:wa,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}h.shiftKey?d.setState(function(Aa){return{scrollX:Aa.scrollX-
(B||n)/Aa.zoom.value}}):d.setState(function(Aa){var Ma=Aa.zoom;return{scrollX:Aa.scrollX-n/Ma.value,scrollY:Aa.scrollY-B/Ma.value}})}});this.savePointer=function(h,n,B){var P,W;h&&n&&(h=lg({clientX:h,clientY:n},d.state),isNaN(h.x)||isNaN(h.y),null===(P=(W=d.props).onPointerUpdate)||void 0===P||P.call(W,{pointer:h,button:B,pointersMap:zl}))};this.resetShouldCacheIgnoreZoomDebounced=qi(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==Oa.Vi.TEST&&"production"!==Oa.Vi.DEVELOPMENT||
(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return ok}},library:{configurable:!0,value:Tg}}));g(8234);g(4651);var Os=function(d){var h=d.width,n=d.height,B=d.offsetLeft,P=d.offsetTop,W=d.onChange,wa=d.initialData,ra=d.excalidrawRef,Aa=d.onCollabButtonClick,Ma=d.isCollaborating,Ga=d.onPointerUpdate,
hb=d.onExportToBackend,lb=d.renderFooter,mb=d.langCode;mb=void 0===mb?Md.code:mb;var Rb=d.viewModeEnabled,Ob=d.zenModeEnabled;d=d.gridModeEnabled;return(0,Z.useEffect)(function(){var tc=function(Zc){"number"==typeof Zc.scale&&1!==Zc.scale&&Zc.preventDefault()};return document.addEventListener("touchmove",tc,{passive:!1}),function(){document.removeEventListener("touchmove",tc)}},[]),R().createElement(Kh,{langCode:mb},R().createElement(ag,null,R().createElement(Vr,{width:h,height:n,offsetLeft:B,offsetTop:P,
onChange:W,initialData:wa,excalidrawRef:ra,onCollabButtonClick:Aa,isCollaborating:Ma,onPointerUpdate:Ga,onExportToBackend:hb,renderFooter:lb,langCode:mb,viewModeEnabled:Rb,zenModeEnabled:Ob,gridModeEnabled:d})))};Os.defaultProps={lanCode:Md.code};var Vt=(0,Z.forwardRef)(function(d,h){return R().createElement(Os,ya()({},d,{excalidrawRef:h}))});const Wt=R().memo(Vt,function(d,h){d.initialData;var n=M()(d,["initialData"]),B=(h.initialData,M()(h,["initialData"]));d=Object.keys(d);h=Object.keys(h);return d.length===
h.length&&d.every(function(P){return n[P]===B[P]})});g(6009);const Xt=Wt},4698:x=>{x.exports=u},6207:x=>{x.exports=t}},a={};return q.m=w,q.n=x=>{var m=x&&x.__esModule?()=>x.default:()=>x;return q.d(m,{a:m}),m},k=Object.getPrototypeOf?x=>Object.getPrototypeOf(x):x=>x.__proto__,q.t=function(x,m){if((1&m&&(x=this(x)),8&m)||"object"==typeof x&&x&&(4&m&&x.__esModule||16&m&&"function"==typeof x.then))return x;var g=Object.create(null);q.r(g);var y={};l=l||[null,k({}),k([]),k(k)];for(m=2&m&&x;"object"==
typeof m&&!~l.indexOf(m);m=k(m))Object.getOwnPropertyNames(m).forEach(D=>y[D]=()=>x[D]);return y.default=()=>x,q.d(g,y),g},q.d=(x,m)=>{for(var g in m)q.o(m,g)&&!q.o(x,g)&&Object.defineProperty(x,g,{enumerable:!0,get:m[g]})},q.f={},q.e=x=>Promise.all(Object.keys(q.f).reduce((m,g)=>(q.f[g](x,m),m),[])),q.u=x=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",
242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",
869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[x]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",
364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",
933:"f3ae9dac7b038b673e45"}[x]+".js",q.o=(x,m)=>Object.prototype.hasOwnProperty.call(x,m),p={},q.l=(x,m,g,y)=>{if(p[x])p[x].push(m);else{var D;if(void 0!==g){y=document.getElementsByTagName("script");for(var J=0;J<y.length;J++){var O=y[J];if(O.getAttribute("src")==x||O.getAttribute("data-webpack")=="Excalidraw:"+g){var T=O;break}}}T||(D=!0,(T=document.createElement("script")).charset="utf-8",T.timeout=120,q.nc&&T.setAttribute("nonce",q.nc),T.setAttribute("data-webpack","Excalidraw:"+g),T.src=x);p[x]=
[m];m=(G,E)=>{T.onerror=T.onload=null;clearTimeout(H);var F=p[x];if(delete p[x],T.parentNode&&T.parentNode.removeChild(T),F&&F.forEach(aa=>aa(E)),G)return G(E)};var H=setTimeout(m.bind(null,void 0,{type:"timeout",target:T}),12E4);T.onerror=m.bind(null,T.onerror);T.onload=m.bind(null,T.onload);D&&document.head.appendChild(T)}},q.r=x=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"});Object.defineProperty(x,"__esModule",{value:!0})},q.p="",
(()=>{var x={163:0};q.f.j=(y,D)=>{var J=q.o(x,y)?x[y]:void 0;if(0!==J)if(J)D.push(J[2]);else{var O=new Promise((H,G)=>{J=x[y]=[H,G]});D.push(J[2]=O);D=q.p+q.u(y);var T=Error();q.l(D,H=>{if(q.o(x,y)&&(0!==(J=x[y])&&(x[y]=void 0),J)){var G=H&&("load"===H.type?"missing":H.type);H=H&&H.target&&H.target.src;T.message="Loading chunk "+y+" failed.\n("+G+": "+H+")";T.name="ChunkLoadError";T.type=G;T.request=H;J[1](T)}},"chunk-"+y,y)}};var m=(y,D)=>{for(var J,O,[T,H,G]=D,E=0,F=[];E<T.length;E++)O=T[E],q.o(x,
O)&&x[O]&&F.push(x[O][0]),x[O]=0;for(J in H)q.o(H,J)&&(q.m[J]=H[J]);G&&G(q);for(y&&y(D);F.length;)F.shift()()},g=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];g.forEach(m.bind(null,0));g.push=m.bind(null,g.push.bind(g))})(),q(3956)})()})};
var A7b=function(a,b){var c=$APP.LA();$APP.l(c)&&$APP.tz($APP.rZa(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.Yk($APP.E(["Error loading ",a,": ",d]))})},C7b=function(a){var b=$APP.hw(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Wi(B7b.F(a),b);return a},D7b=new $APP.I(null,"view-mode-enabled","view-mode-enabled",-588220561),E7b=new $APP.I($APP.xa,"view-mode?","frontend.extensions.excalidraw/view-mode?",525380621),F7b=new $APP.I(null,
"viewBackgroundColor","viewBackgroundColor",1889137994),G7b=new $APP.I(null,"grid-mode-enabled","grid-mode-enabled",584978327),H7b=new $APP.I(null,"gridSize","gridSize",843108791),I7b=new $APP.I($APP.xa,"elements","frontend.extensions.excalidraw/elements",1745667967),J7b=new $APP.I($APP.xa,"loading?","frontend.extensions.excalidraw/loading?",-1335058663),K7b=new $APP.I($APP.xa,"data","frontend.extensions.excalidraw/data",-1371036113),L7b=new $APP.I(null,"zen-mode-enabled","zen-mode-enabled",-955634269),
M7b=new $APP.I($APP.xa,"zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),N7b=new $APP.I(null,"appState","appState",-1920687968),O7b=new $APP.I(null,"initial-data","initial-data",-1315709804),B7b=new $APP.I($APP.xa,"draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.jda("excalidraw");var P7b=$APP.Iv(444);var Q7b,R7b,S7b,T7b;$APP.z_b={};Q7b=$APP.LK($APP.lb(P7b,"default"));R7b=$APP.il.F(null);
S7b=$APP.bw($APP.fw,function(a,b,c){$APP.AA($APP.KA);$APP.kw(R7b);var d=$APP.G.B(a,B7b),e=$APP.G.B(a,M7b),f=$APP.G.B(a,E7b),g=$APP.AA($APP.EPa),m=$APP.G.B(a,I7b),n=$APP.Tm.F(c);return $APP.l(b)?$APP.V("div",{onMouseDown:function(q){return $APP.Hz(q)},className:"overflow-hidden"},[$APP.V("div",{style:{fontSize:10},className:"my-1"},[$APP.V("a",{onClick:$APP.FPa,className:"mr-2"},[$APP.Ov($APP.rz("Wide Mode (%s)",$APP.E([$APP.l(g)?"ON":"OFF"])))]),$APP.V("a",{onClick:function(){return $APP.jl.B(e,$APP.Pd)},
className:"mr-2"},[$APP.Ov($APP.rz("Zen Mode (%s)",$APP.E([$APP.l($APP.t(e))?"ON":"OFF"])))]),$APP.V("a",{onClick:function(){return $APP.jl.B(f,$APP.Pd)},className:"mr-2"},[$APP.Ov($APP.rz("View Mode (%s)",$APP.E([$APP.l($APP.t(f))?"ON":"OFF"])))])]),$APP.V("div",{onMouseDown:function(q){$APP.Hz(q);return $APP.IA($APP.KY,!0)},onBlur:function(){return $APP.IA($APP.KY,!1)},className:"draw-wrap"},[$APP.Ov(function(){var q=$APP.sn.J($APP.E([new $APP.k(null,6,[$APP.sT,function(r,v){var y=$APP.Yt(r);return $APP.w(y)&&
$APP.rk.B(r,$APP.t(m))?(v=$APP.Yt(v),$APP.Z0a(n,JSON.stringify($APP.Zt(new $APP.k(null,5,[$APP.Rm,"excalidraw",$APP.zR,2,$APP.Rq,$APP.N0a,$APP.O2,r,N7b,$APP.sk(v,new $APP.N(null,2,5,$APP.O,[H7b,F7b],null))],null)))),$APP.Wi(m,r)):null},L7b,$APP.t(e),D7b,$APP.t(f),G7b,!1,O7b,b,$APP.VK,$APP.t(d)],null),$APP.l(g)?new $APP.k(null,1,[$APP.UK,650],null):new $APP.k(null,1,[$APP.UK,500],null)]));return Q7b.F?Q7b.F(q):Q7b.call(null,q)}())])]):null},new $APP.N(null,7,5,$APP.O,[$APP.p6,$APP.iw(800,B7b),$APP.iw(!0,
M7b),$APP.iw(!1,E7b),$APP.iw(null,I7b),new $APP.k(null,1,[$APP.Yv,C7b],null),new $APP.k(null,1,[$APP.$v,C7b],null)],null),"frontend.extensions.excalidraw/draw-inner");
T7b=$APP.bw($APP.fw,function(a,b){var c=$APP.G.B(a,K7b);a=$APP.G.B(a,J7b);a=$APP.kw(a);c=$APP.kw(c);var d=$APP.AA($APP.UPb);return $APP.l($APP.Tm.F(b))?$APP.l(d)?(b=$APP.wT("Loading"),$APP.V("div",$APP.hg(b)?$APP.Nv($APP.Lv($APP.E([new $APP.k(null,1,[$APP.Kv,new $APP.N(null,1,5,$APP.O,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.hg(b)?null:[$APP.Ov(b)])):!1===a?S7b(c,b):null:null},new $APP.N(null,2,5,$APP.O,[$APP.p6,new $APP.k(null,1,[$APP.Wv,function(a){var b=$APP.cw.F(a);b=$APP.D.G(b,
0,null);b=$APP.Tm.F(b);var c=$APP.il.F(null),d=$APP.il.F(!0);$APP.l(b)&&A7b(b,function(e){if($APP.rm(e))var f=null;else try{f=JSON.parse(e)}catch(g){if(g instanceof Error)e=g,$APP.Yk($APP.E(["from json error:"])),console.dir(e),f=$APP.jK($APP.Zwa("Could not load this invalid excalidraw file"),$APP.Yo);else throw g;}$APP.Wi(c,f);return $APP.Wi(d,!1)});return $APP.P.J(a,K7b,c,$APP.E([J7b,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.A_b=$APP.bw($APP.ew,function(a){var b=$APP.LA(),c=$APP.AA(new $APP.N(null,2,5,$APP.O,[$APP.nK,b],null));return $APP.iC(b)&&$APP.Pd(c)&&$APP.Pd($APP.qz())?null:T7b(a)},new $APP.N(null,1,5,$APP.O,[$APP.p6],null),"frontend.extensions.excalidraw/draw");$APP.uc.Li();
}).call(this);