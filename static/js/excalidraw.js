(function(){
shadow$provide[555]=function(U,K,ya,t){var v=K(13);!function(r,q){"object"==typeof t&&"object"==typeof ya?ya.exports=q(K(3),K(12)):"function"==typeof define&&define.amd?define(["react","react-dom"],q):"object"==typeof t?t.Excalidraw=q(K(3),K(12)):r.Excalidraw=q(r.React,r.ReactDOM)}(self,function(r,q){return(()=>{function m(x){if(a[x])return a[x].exports;var l=a[x]={id:x,exports:{}};return p[x](l,l.exports,m),l.exports}var f,e,k,p={5374:x=>{function l(h,y,A,F,L,N,I){try{var E=h[N](I),B=E.value}catch(G){return void A(G)}E.done?
y(B):Promise.resolve(B).then(F,L)}x.exports=function(h){return function(){var y=this,A=arguments;return new Promise(function(F,L){function N(B){l(E,F,L,N,I,"next",B)}function I(B){l(E,F,L,N,I,"throw",B)}var E=h.apply(y,A);N(void 0)})}}},566:x=>{x.exports=function(l,h,y){return h in l?Object.defineProperty(l,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):l[h]=y,l}},6950:x=>{function l(){return x.exports=l=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var A=arguments[y],F;for(F in A)Object.prototype.hasOwnProperty.call(A,
F)&&(h[F]=A[F])}return h},l.apply(this,arguments)}x.exports=l},5474:(x,l,h)=>{var y=h(8387);x.exports=function(A,F){if(null==A)return{};var L,N=y(A,F);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(A);for(L=0;L<I.length;L++){var E=I[L];0<=F.indexOf(E)||Object.prototype.propertyIsEnumerable.call(A,E)&&(N[E]=A[E])}}return N}},8387:x=>{x.exports=function(l,h){if(null==l)return{};var y,A={},F=Object.keys(l);for(y=0;y<F.length;y++){var L=F[y];0<=h.indexOf(L)||(A[L]=l[L])}return A}},
6009:(x,l,h)=>{l=h(487);h=h(8328);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},1395:(x,l,h)=>{l=h(487);h=h(6121);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},3211:(x,l,h)=>{l=h(487);h=h(2510);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},5574:(x,l,h)=>{l=h(487);h=h(7972);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},4518:(x,l,h)=>{l=h(487);h=h(190);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},3040:(x,l,h)=>{l=h(487);h=h(6718);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8623:(x,l,h)=>{l=h(487);h=h(3623);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},4193:(x,l,h)=>{l=h(487);h=h(103);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},341:(x,l,h)=>{l=h(487);h=h(7061);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},9705:(x,l,h)=>{l=h(487);h=h(1498);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",
singleton:!1});x.exports=h.locals||{}},7143:(x,l,h)=>{l=h(487);h=h(666);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},7428:(x,l,h)=>{l=h(487);h=h(849);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8465:(x,l,h)=>{l=h(487);h=h(6915);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||
{}},8680:(x,l,h)=>{l=h(487);h=h(7030);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},205:(x,l,h)=>{l=h(487);h=h(3994);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8416:(x,l,h)=>{l=h(487);h=h(700);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},2816:(x,l,h)=>{l=h(487);h=h(287);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},1575:(x,l,h)=>{l=h(487);h=h(5657);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},7287:(x,l,h)=>{l=h(487);h=h(7392);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8518:(x,l,h)=>{l=h(487);h=h(6065);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},5849:(x,l,h)=>{l=h(487);h=h(83);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},9478:(x,l,h)=>{l=h(487);h=h(1554);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},2680:(x,l,h)=>{l=h(487);h=h(1970);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",
singleton:!1});x.exports=h.locals||{}},3142:(x,l,h)=>{l=h(487);h=h(961);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},8234:(x,l,h)=>{l=h(487);h=h(4878);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},4651:(x,l,h)=>{l=h(487);h=h(1988);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||
{}},2189:(x,l,h)=>{l=h(487);h=h(3245);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[x.id,h,""]]);l(h,{insert:"head",singleton:!1});x.exports=h.locals||{}},487:(x,l,h)=>{function y(ba){for(var X=-1,da=0;da<G.length;da++)if(G[da].identifier===ba){X=da;break}return X}function A(ba,X){for(var da={},ca=[],pa=0;pa<ba.length;pa++){var J=ba[pa],R=X.base?J[0]+X.base:J[0],fa=da[R]||0,ia="".concat(R," ").concat(fa);da[R]=fa+1;R=y(ia);J={css:J[1],media:J[2],sourceMap:J[3]};-1!==R?(G[R].references++,G[R].updater(J)):
G.push({identifier:ia,updater:I(J,X),references:1});ca.push(ia)}return ca}function F(ba){var X=document.createElement("style"),da=ba.attributes||{};if(void 0===da.nonce){var ca=h.nc;ca&&(da.nonce=ca)}if(Object.keys(da).forEach(function(pa){X.setAttribute(pa,da[pa])}),"function"==typeof ba.insert)ba.insert(X);else{ba=B(ba.insert||"head");if(!ba)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ba.appendChild(X)}return X}function L(ba,
X,da,ca){da=da?"":ca.media?"@media ".concat(ca.media," {").concat(ca.css,"}"):ca.css;ba.styleSheet?ba.styleSheet.cssText=la(X,da):(da=document.createTextNode(da),ca=ba.childNodes,ca[X]&&ba.removeChild(ca[X]),ca.length?ba.insertBefore(da,ca[X]):ba.appendChild(da))}function N(ba,X,da){X=da.css;var ca=da.media;da=da.sourceMap;if(ca?ba.setAttribute("media",ca):ba.removeAttribute("media"),da&&"undefined"!=typeof btoa&&(X+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(da)))),
" */")),ba.styleSheet)ba.styleSheet.cssText=X;else{for(;ba.firstChild;)ba.removeChild(ba.firstChild);ba.appendChild(document.createTextNode(X))}}function I(ba,X){if(X.singleton){var da=qa++;var ca=S||(S=F(X));var pa=L.bind(null,ca,da,!1);var J=L.bind(null,ca,da,!0)}else ca=F(X),pa=N.bind(null,ca,X),J=function(){if(null===ca.parentNode)var R=!1;else ca.parentNode.removeChild(ca),R=void 0;!R};return pa(ba),function(R){R?(R.css!==ba.css||R.media!==ba.media||R.sourceMap!==ba.sourceMap)&&pa(ba=R):J()}}
var E,B=function(){var ba={};return function(X){if(void 0===ba[X]){var da=document.querySelector(X);if(window.HTMLIFrameElement&&da instanceof window.HTMLIFrameElement)try{da=da.contentDocument.head}catch(ca){da=null}ba[X]=da}return ba[X]}}(),G=[],Z,la=(Z=[],function(ba,X){return Z[ba]=X,Z.filter(Boolean).join("\n")}),S=null,qa=0;x.exports=function(ba,X){(X=X||{}).singleton||"boolean"==typeof X.singleton||(X.singleton=(void 0===E&&(E=!(!(window&&document&&document.all)||window.atob)),E));var da=A(ba=
ba||[],X);return function(ca){if(ca=ca||[],"[object Array]"===Object.prototype.toString.call(ca)){for(var pa=0;pa<da.length;pa++){var J=y(da[pa]);G[J].references--}ca=A(ca,X);for(pa=0;pa<da.length;pa++)J=y(da[pa]),0===G[J].references&&(G[J].updater(),G.splice(J,1));da=ca}}}},2829:x=>{x.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:x=>{x.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(x,l,h)=>{function y(F){if(!h.o(A,F))return Promise.resolve().then(()=>
{var I=Error("Cannot find module '"+F+"'");throw I.code="MODULE_NOT_FOUND",I;});var L=A[F],N=L[0];return Promise.all(L.slice(1).map(h.e)).then(()=>h.t(N,3))}var A={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};y.keys=()=>Object.keys(A);y.id=788;x.exports=y},7154:x=>{function l(){return x.exports=l=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var A=arguments[y],F;for(F in A)Object.prototype.hasOwnProperty.call(A,F)&&(h[F]=A[F])}return h},l.apply(this,arguments)}x.exports=l},6479:(x,l,h)=>{var y=h(7316);x.exports=function(A,F){if(null==A)return{};var L,N=y(A,F);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(A);
for(L=0;L<I.length;L++){var E=I[L];0<=F.indexOf(E)||Object.prototype.propertyIsEnumerable.call(A,E)&&(N[E]=A[E])}}return N}},7316:x=>{x.exports=function(l,h){if(null==l)return{};var y,A={},F=Object.keys(l);for(y=0;y<F.length;y++){var L=F[y];0<=h.indexOf(L)||(A[L]=l[L])}return A}},8328:(x,l,h)=>{h.r(l);h.d(l,{default:()=>F});l=h(3645);var y=h.n(l);l=h(1667);l=h.n(l);var A=h(7464);h=h(9638);y=y()(function(L){return L[1]});A=l()(A.Z);h=l()(h.Z);y.push([x.id,'@font-face{font-family:"Virgil";src:url('+
A+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+h+");font-display:swap}",""]);const F=y},6121:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const y=h},2510:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const y=h},7972:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const y=h},190:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const y=h},6718:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const y=h},3623:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const y=h},103:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const y=h},7061:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);
h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const y=h},1498:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const y=h},666:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const y=h},849:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const y=h},6915:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});
l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const y=h},7030:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const y=h},3994:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const y=h},700:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const y=h},287:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const y=h},5657:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const y=h},7392:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const y=h},6065:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const y=h},83:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const y=h},1554:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const y=h},1970:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const y=h},961:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const y=h},4878:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const y=h},1988:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const y=h},3245:(x,l,h)=>{h.r(l);h.d(l,{default:()=>y});l=h(3645);h=h.n(l)()(function(A){return A[1]});h.push([x.id,"",""]);h.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const y=h},3645:x=>{x.exports=function(l){var h=[];return h.toString=function(){return this.map(function(y){var A=l(y);return y[2]?"@media ".concat(y[2]," {").concat(A,"}"):A}).join("")},h.i=function(y,A,F){"string"==typeof y&&(y=[[null,
y,""]]);var L={};if(F)for(var N=0;N<this.length;N++){var I=this[N][0];null!=I&&(L[I]=!0)}for(N=0;N<y.length;N++)I=[].concat(y[N]),F&&L[I[0]]||(A&&(I[2]?I[2]="".concat(A," and ").concat(I[2]):I[2]=A),h.push(I))},h}},1667:x=>{x.exports=function(l,h){return h||(h={}),"string"!=typeof(l=l&&l.__esModule?l.default:l)?l:(/^['"].*['"]$/.test(l)&&(l=l.slice(1,-1)),h.hash&&(l+=h.hash),/["'() \t\n]/.test(l)||h.needQuotes?'"'.concat(l.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):l)}},9638:(x,l,h)=>{h.d(l,{Z:()=>
y});const y=h.p+"excalidraw-assets/Cascadia.woff2"},7464:(x,l,h)=>{h.d(l,{Z:()=>y});const y=h.p+"excalidraw-assets/Virgil.woff2"},8288:(x,l,h)=>{h.d(l,{iC:()=>A,f:()=>F,qx:()=>L,Iw:()=>N,$e:()=>I,wZ:()=>E,ay:()=>B,oc:()=>G,Oh:()=>Z,Ks:()=>y,Vi:()=>la,$C:()=>S,ut:()=>qa,_D:()=>ba,n5:()=>X,rk:()=>da,Hg:()=>ca,hs:()=>pa,eQ:()=>J,k:()=>R,LO:()=>fa,I:()=>ia,Gj:()=>ra,nM:()=>na,Lg:()=>ja,HM:()=>ta,V4:()=>sa,EH:()=>Ha,Gi:()=>La});var y;x=h(2189);h=h.n(x);var A="Excalidraw",F=10,L=8,N=5,I=1,E=30,B=Math.PI/
12,G={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},Z={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Fa){Fa.COPY="copy";Fa.PASTE="paste";Fa.CUT="cut";Fa.KEYDOWN="keydown";Fa.KEYUP="keyup";Fa.MOUSE_MOVE="mousemove";Fa.RESIZE="resize";Fa.UNLOAD="unload";Fa.BLUR="blur";Fa.DRAG_OVER="dragover";Fa.DROP="drop";Fa.GESTURE_END="gestureend";Fa.BEFORE_UNLOAD="beforeunload";Fa.GESTURE_START="gesturestart";Fa.GESTURE_CHANGE="gesturechange";Fa.POINTER_MOVE="pointermove";
Fa.POINTER_UP="pointerup";Fa.STATE_CHANGE="statechange";Fa.WHEEL="wheel";Fa.TOUCH_START="touchstart";Fa.TOUCH_END="touchend";Fa.HASHCHANGE="hashchange";Fa.VISIBILITY_CHANGE="visibilitychange";Fa.SCROLL="scroll"}(y||(y={}));var la={TEST:"test",DEVELOPMENT:"development"},S={SHAPE_ACTIONS_MENU:"App-menu__left"},qa={1:"Virgil",2:"Helvetica",3:"Cascadia"},ba="Segoe UI Emoji",X=20,da=1,ca="left",pa="top",J="{version}",R=20,fa={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
ia={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ra=300,na=500,ja=5E3,ta=100,sa=.1,Ha={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},La=h().appearanceFilter},3956:(x,l,h)=>{function y(d,u){return Math.pow(d[0]-u[0],2)+Math.pow(d[1]-u[1],2)}function A(d,u,w){return[d[0]+(u[0]-d[0])*w,d[1]+(u[1]-d[1])*w]}function F(d,u,w,H){H=H||[];var T=d[u+0],aa=d[u+1],xa=d[u+2];const va=d[u+3];var Ca=3*aa[0]-2*T[0]-va[0];Ca*=Ca;aa=3*aa[1]-2*T[1]-va[1];aa*=aa;let Ra=3*xa[0]-2*va[0]-T[0];Ra*=Ra;T=3*xa[1]-2*va[1]-T[1];
(T*=T,Ca<Ra&&(Ca=Ra),aa<T&&(aa=T),Ca+aa)<w?(w=d[u+0],H.length?1<(Ja=H[H.length-1],hb=w,Math.sqrt(y(Ja,hb)))&&H.push(w):H.push(w),H.push(d[u+3])):(Ja=d[u+0],Ca=d[u+1],hb=d[u+2],d=d[u+3],u=A(Ja,Ca,.5),T=A(Ca,hb,.5),hb=A(hb,d,.5),Ca=A(u,T,.5),T=A(T,hb,.5),xa=A(Ca,T,.5),F([Ja,u,Ca,xa],0,w,H),F([xa,T,hb,d],0,w,H));var Ja,hb;return H}function L(d,u){return N(d,0,d.length,u)}function N(d,u,w,H,T){T=T||[];const aa=d[u],xa=d[w-1];let va=0,Ca=1;for(let ob=u+1;ob<w-1;++ob){var Ra=d[ob];var Ja=aa,hb=xa,nb=y(Ja,
hb);0===nb?Ra=y(Ra,Ja):(nb=((Ra[0]-Ja[0])*(hb[0]-Ja[0])+(Ra[1]-Ja[1])*(hb[1]-Ja[1]))/nb,Ra=(nb=Math.max(0,Math.min(1,nb)),y(Ra,A(Ja,hb,nb))));Ra>va&&(va=Ra,Ca=ob)}return Math.sqrt(va)>H?(N(d,u,Ca+1,H,T),N(d,Ca,w,H,T)):(T.length||T.push(aa),T.push(xa)),T}function I(d,u=.15,w){const H=[],T=(d.length-1)/3;for(let aa=0;aa<T;aa++)F(d,3*aa,u,H);return w&&0<w?N(H,0,H.length,w):H}function E(d,u,w){if(d&&d.length){const [H,T]=u;u=Math.PI/180*w;const aa=Math.cos(u),xa=Math.sin(u);d.forEach(va=>{const [Ca,Ra]=
va;va[0]=(Ca-H)*aa-(Ra-T)*xa+H;va[1]=(Ca-H)*xa+(Ra-T)*aa+T})}}function B(d){const u=d[0];d=d[1];return Math.sqrt(Math.pow(u[0]-d[0],2)+Math.pow(u[1]-d[1],2))}function G(d,u,w,H){const T=u[1]-d[1];u=d[0]-u[0];d=T*d[0]+u*d[1];const aa=H[1]-w[1];H=w[0]-H[0];w=aa*w[0]+H*w[1];const xa=T*H-aa*u;return xa?[(H*d-u*w)/xa,(T*w-aa*d)/xa]:null}function Z(d,u,w){const H=d.length;if(3>H)return!1;const T=[Number.MAX_SAFE_INTEGER,w];u=[u,w];w=0;for(let aa=0;aa<H;aa++){const xa=d[aa],va=d[(aa+1)%H];if(qa(xa,va,u,
T)){if(0===S(xa,u,va))return la(xa,u,va);w++}}return 1==w%2}function la(d,u,w){return u[0]<=Math.max(d[0],w[0])&&u[0]>=Math.min(d[0],w[0])&&u[1]<=Math.max(d[1],w[1])&&u[1]>=Math.min(d[1],w[1])}function S(d,u,w){d=(u[1]-d[1])*(w[0]-u[0])-(u[0]-d[0])*(w[1]-u[1]);return 0===d?0:0<d?1:2}function qa(d,u,w,H){const T=S(d,u,w),aa=S(d,u,H),xa=S(w,H,d),va=S(w,H,u);return T!==aa&&xa!==va||!(0!==T||!la(d,w,u))||!(0!==aa||!la(d,H,u))||!(0!==xa||!la(w,d,H))||!(0!==va||!la(w,u,H))}function ba(d,u){const w=[0,0],
H=Math.round(u.hachureAngle+90);H&&E(d,w,H);u=function(T,aa){var xa=[...T];xa[0].join(",")!==xa[xa.length-1].join(",")&&xa.push([xa[0][0],xa[0][1]]);T=[];if(xa&&2<xa.length){let Ca=aa.hachureGap;0>Ca&&(Ca=4*aa.strokeWidth);Ca=Math.max(Ca,.1);aa=[];for(var va=0;va<xa.length-1;va++){const hb=xa[va],nb=xa[va+1];if(hb[1]!==nb[1]){const ob=Math.min(hb[1],nb[1]);aa.push({ymin:ob,ymax:Math.max(hb[1],nb[1]),x:ob===hb[1]?hb[0]:nb[0],islope:(nb[0]-hb[0])/(nb[1]-hb[1])})}}if(aa.sort((hb,nb)=>hb.ymin<nb.ymin?
-1:hb.ymin>nb.ymin?1:hb.x<nb.x?-1:hb.x>nb.x?1:hb.ymax===nb.ymax?0:(hb.ymax-nb.ymax)/Math.abs(hb.ymax-nb.ymax)),!aa.length)return T;let Ra=[],Ja=aa[0].ymin;for(;Ra.length||aa.length;){if(aa.length){xa=-1;for(va=0;va<aa.length&&!(aa[va].ymin>Ja);va++)xa=va;aa.splice(0,xa+1).forEach(hb=>{Ra.push({s:Ja,edge:hb})})}if(Ra=Ra.filter(hb=>!(hb.edge.ymax<=Ja)),Ra.sort((hb,nb)=>hb.edge.x===nb.edge.x?0:(hb.edge.x-nb.edge.x)/Math.abs(hb.edge.x-nb.edge.x)),1<Ra.length)for(xa=0;xa<Ra.length;xa+=2){va=xa+1;if(va>=
Ra.length)break;T.push([[Math.round(Ra[xa].edge.x),Ja],[Math.round(Ra[va].edge.x),Ja]])}Ja+=Ca;Ra.forEach(hb=>{hb.edge.x+=Ca*hb.edge.islope})}}return T}(d,u);return H&&(E(d,w,-H),function(T,aa,xa){const va=[];T.forEach(Ca=>va.push(...Ca));E(va,aa,xa)}(u,w,-H)),u}function X(d){const u=[];a:{var w=d;for(var H=[];""!==w;){if(!w.match(/^([ \t\r\n,]+)/))if(w.match(/^([aAcChHlLmMqQsStTvVzZ])/))H[H.length]={type:0,text:RegExp.$1};else{if(!w.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){w=
[];break a}H[H.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}w=w.substr(RegExp.$1.length)}w=(H[H.length]={type:2,text:""},H)}H="BOD";let T=0;for(var aa=w[T];2!==aa.type;){let xa=0;const va=[];if("BOD"===H){if("M"!==aa.text&&"m"!==aa.text)return X("M0,0"+d);T++;xa=vh[aa.text];H=aa.text}else 1===aa.type?xa=vh[H]:(T++,xa=vh[aa.text],H=aa.text);if(!(T+xa<w.length))throw Error("Path data ended short");for(aa=T;aa<T+xa;aa++){const Ca=w[aa];if(1!==Ca.type)throw Error("Param not a number: "+H+","+Ca.text);
va[va.length]=+Ca.text}if("number"!=typeof vh[H])throw Error("Bad segment: "+H);u.push({key:H,data:va});T+=xa;aa=w[T];"M"===H&&(H="L");"m"===H&&(H="l")}return u}function da(d){let u=0,w=0,H=0,T=0;const aa=[];for(const {key:xa,data:va}of d)switch(xa){case "M":aa.push({key:"M",data:[...va]});[u,w]=va;[H,T]=va;break;case "m":u+=va[0];w+=va[1];aa.push({key:"M",data:[u,w]});H=u;T=w;break;case "L":aa.push({key:"L",data:[...va]});[u,w]=va;break;case "l":u+=va[0];w+=va[1];aa.push({key:"L",data:[u,w]});break;
case "C":aa.push({key:"C",data:[...va]});u=va[4];w=va[5];break;case "c":d=va.map((Ca,Ra)=>Ra%2?Ca+w:Ca+u);aa.push({key:"C",data:d});u=d[4];w=d[5];break;case "Q":aa.push({key:"Q",data:[...va]});u=va[2];w=va[3];break;case "q":d=va.map((Ca,Ra)=>Ra%2?Ca+w:Ca+u);aa.push({key:"Q",data:d});u=d[2];w=d[3];break;case "A":aa.push({key:"A",data:[...va]});u=va[5];w=va[6];break;case "a":u+=va[5];w+=va[6];aa.push({key:"A",data:[va[0],va[1],va[2],va[3],va[4],u,w]});break;case "H":aa.push({key:"H",data:[...va]});
u=va[0];break;case "h":u+=va[0];aa.push({key:"H",data:[u]});break;case "V":aa.push({key:"V",data:[...va]});w=va[0];break;case "v":w+=va[0];aa.push({key:"V",data:[w]});break;case "S":aa.push({key:"S",data:[...va]});u=va[2];w=va[3];break;case "s":d=va.map((Ca,Ra)=>Ra%2?Ca+w:Ca+u);aa.push({key:"S",data:d});u=d[2];w=d[3];break;case "T":aa.push({key:"T",data:[...va]});u=va[0];w=va[1];break;case "t":u+=va[0];w+=va[1];aa.push({key:"T",data:[u,w]});break;case "Z":case "z":aa.push({key:"Z",data:[]}),u=H,w=
T}return aa}function ca(d){const u=[];var w="";let H=0,T=0,aa=0,xa=0,va=0,Ca=0;for(const {key:Ja,data:hb}of d){switch(Ja){case "M":u.push({key:"M",data:[...hb]});[H,T]=hb;[aa,xa]=hb;break;case "C":u.push({key:"C",data:[...hb]});H=hb[4];T=hb[5];va=hb[2];Ca=hb[3];break;case "L":u.push({key:"L",data:[...hb]});[H,T]=hb;break;case "H":H=hb[0];u.push({key:"L",data:[H,T]});break;case "V":T=hb[0];u.push({key:"L",data:[H,T]});break;case "S":var Ra=d=0;"C"===w||"S"===w?(d=H+(H-va),Ra=T+(T-Ca)):(d=H,Ra=T);u.push({key:"C",
data:[d,Ra,...hb]});va=hb[0];Ca=hb[1];H=hb[2];T=hb[3];break;case "T":const [nb,ob]=hb;Ra=d=0;"Q"===w||"T"===w?(d=H+(H-va),Ra=T+(T-Ca)):(d=H,Ra=T);u.push({key:"C",data:[H+2*(d-H)/3,T+2*(Ra-T)/3,nb+2*(d-nb)/3,ob+2*(Ra-ob)/3,nb,ob]});va=d;Ca=Ra;H=nb;T=ob;break;case "Q":const [cc,Xb,vc,Zc]=hb;u.push({key:"C",data:[H+2*(cc-H)/3,T+2*(Xb-T)/3,vc+2*(cc-vc)/3,Zc+2*(Xb-Zc)/3,vc,Zc]});va=cc;Ca=Xb;H=vc;T=Zc;break;case "A":w=Math.abs(hb[0]);d=Math.abs(hb[1]);Ra=hb[2];const ed=hb[3],nd=hb[4],ce=hb[5],ae=hb[6];
if(0===w||0===d)u.push({key:"C",data:[H,T,ce,ae,ce,ae]}),H=ce,T=ae;else if(H!==ce||T!==ae)J(H,T,ce,ae,w,d,Ra,ed,nd).forEach(function(Be){u.push({key:"C",data:Be})}),H=ce,T=ae;break;case "Z":u.push({key:"Z",data:[]}),H=aa,T=xa}w=Ja}return u}function pa(d,u,w){return[d*Math.cos(w)-u*Math.sin(w),d*Math.sin(w)+u*Math.cos(w)]}function J(d,u,w,H,T,aa,xa,va,Ca,Ra){const Ja=(hb=xa,Math.PI*hb/180);var hb;hb=[];if(Ra)[va,nb,ob,cc]=Ra;else{[d,u]=pa(d,u,-Ja);[w,H]=pa(w,H,-Ja);var nb=(d-w)/2;var ob=(u-H)/2;var cc=
nb*nb/(T*T)+ob*ob/(aa*aa);1<cc&&(cc=Math.sqrt(cc),T*=cc,aa*=cc);cc=T*T;var Xb=aa*aa;va=(va===Ca?-1:1)*Math.sqrt(Math.abs((cc*Xb-cc*ob*ob-Xb*nb*nb)/(cc*ob*ob+Xb*nb*nb)));ob=va*T*ob/aa+(d+w)/2;cc=va*-aa*nb/T+(u+H)/2;va=Math.asin(parseFloat(((u-cc)/aa).toFixed(9)));nb=Math.asin(parseFloat(((H-cc)/aa).toFixed(9)));d<ob&&(va=Math.PI-va);w<ob&&(nb=Math.PI-nb);0>va&&(va=2*Math.PI+va);0>nb&&(nb=2*Math.PI+nb);Ca&&va>nb&&(va-=2*Math.PI);!Ca&&nb>va&&(nb-=2*Math.PI)}if(Math.abs(nb-va)>120*Math.PI/180){hb=nb;
Xb=w;const vc=H;nb=Ca&&nb>va?va+120*Math.PI/180:va+120*Math.PI/180*-1;hb=J(w=ob+T*Math.cos(nb),H=cc+aa*Math.sin(nb),Xb,vc,T,aa,xa,0,Ca,[nb,hb,ob,cc])}xa=Math.tan((nb-va)/4);T=4/3*T*xa;xa*=4/3*aa;aa=[d,u];d=[d+T*Math.sin(va),u-xa*Math.cos(va)];u=[w+T*Math.sin(nb),H-xa*Math.cos(nb)];w=[w,H];if(d[0]=2*aa[0]-d[0],d[1]=2*aa[1]-d[1],Ra)return[d,u,w].concat(hb);hb=[d,u,w].concat(hb);Ra=[];for(w=0;w<hb.length;w+=3)H=pa(hb[w][0],hb[w][1],Ja),d=pa(hb[w+1][0],hb[w+1][1],Ja),u=pa(hb[w+2][0],hb[w+2][1],Ja),Ra.push([H[0],
H[1],d[0],d[1],u[0],u[1]]);return Ra}function R(d,u,w){const H=(d||[]).length;if(2<H){const T=[];for(let aa=0;aa<H-1;aa++)T.push(...Fa(d[aa][0],d[aa][1],d[aa+1][0],d[aa+1][1],w));return u&&T.push(...Fa(d[H-1][0],d[H-1][1],d[0][0],d[0][1],w)),{type:"path",ops:T}}return 2===H?{type:"path",ops:Fa(d[0][0],d[0][1],d[1][0],d[1][1],w)}:{type:"path",ops:[]}}function fa(d,u){let w=rb(d,1+.2*u.roughness,u);if(!u.disableMultiStroke){var H=1.5*(1+.22*u.roughness);const T=Object.assign({},u);T.randomizer=void 0;
u.seed&&(T.seed=u.seed+1);d=rb(d,H,T);w=w.concat(d)}return{type:"path",ops:w}}function ia(d,u,w){const H=2*Math.PI/Math.max(w.curveStepCount,w.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(u/2,2))/2)));d=Math.abs(d/2);u=Math.abs(u/2);const T=1-w.curveFitting;return d+=La(d*T,w),u+=La(u*T,w),{increment:H,rx:d,ry:u}}function ra(d,u,w,H){const [T,aa]=Ib(H.increment,d,u,H.rx,H.ry,1,H.increment*Ha(.1,Ha(.4,1,w),w),w);let xa=Jb(T,null,w);w.disableMultiStroke||([d]=
Ib(H.increment,d,u,H.rx,H.ry,1.5,0,w),w=Jb(d,null,w),xa=xa.concat(w));return{estimatedPoints:aa,opset:{type:"path",ops:xa}}}function na(d,u,w,H,T,aa,xa,va,Ca){w=Math.abs(w/2);H=Math.abs(H/2);w+=La(.01*w,Ca);for(H+=La(.01*H,Ca);0>T;)T+=2*Math.PI,aa+=2*Math.PI;aa-T>2*Math.PI&&(T=0,aa=2*Math.PI);var Ra=Math.min(2*Math.PI/Ca.curveStepCount/2,(aa-T)/2);const Ja=Wb(Ra,d,u,w,H,T,aa,1,Ca);Ca.disableMultiStroke||(Ra=Wb(Ra,d,u,w,H,T,aa,1.5,Ca),Ja.push(...Ra));return xa&&(va?Ja.push(...Fa(d,u,d+w*Math.cos(T),
u+H*Math.sin(T),Ca),...Fa(d,u,d+w*Math.cos(aa),u+H*Math.sin(aa),Ca)):Ja.push({op:"lineTo",data:[d,u]},{op:"lineTo",data:[d+w*Math.cos(T),u+H*Math.sin(T)]})),{type:"path",ops:Ja}}function ja(d,u){const w=[];if(d.length){const H=u.maxRandomnessOffset||0,T=d.length;if(2<T){w.push({op:"move",data:[d[0][0]+La(H,u),d[0][1]+La(H,u)]});for(let aa=1;aa<T;aa++)w.push({op:"lineTo",data:[d[aa][0]+La(H,u),d[aa][1]+La(H,u)]})}}return{type:"fillPath",ops:w}}function ta(d,u){var w=Bd;let H=u.fillStyle||"hachure";
if(!ig[H])switch(H){case "zigzag":ig[H]||(ig[H]=new uf(w));break;case "cross-hatch":ig[H]||(ig[H]=new Lf(w));break;case "dots":ig[H]||(ig[H]=new mh(w));break;case "dashed":ig[H]||(ig[H]=new Qi(w));break;case "zigzag-line":ig[H]||(ig[H]=new Bj(w));break;default:H="hachure",ig[H]||(ig[H]=new de(w))}return ig[H].fillPolygon(d,u)}function sa(d){return d.randomizer||(d.randomizer=new Ue(d.seed||0)),d.randomizer.next()}function Ha(d,u,w,H=1){return w.roughness*H*(sa(w)*(u-d)+d)}function La(d,u,w=1){return Ha(-d,
d,u,w)}function Fa(d,u,w,H,T,aa=!1){const xa=aa?T.disableMultiStrokeFill:T.disableMultiStroke;aa=ib(d,u,w,H,T,!0,!1);if(xa)return aa;d=ib(d,u,w,H,T,!0,!0);return aa.concat(d)}function ib(d,u,w,H,T,aa,xa){var va=Math.pow(d-w,2)+Math.pow(u-H,2),Ca=Math.sqrt(va);let Ra;Ra=200>Ca?1:500<Ca?.4:-.0016668*Ca+1.233334;let Ja=T.maxRandomnessOffset||0;Ja*Ja*100>va&&(Ja=Ca/10);va=Ja/2;Ca=.2+.2*sa(T);let hb=T.bowing*T.maxRandomnessOffset*(H-u)/200,nb=T.bowing*T.maxRandomnessOffset*(d-w)/200;hb=La(hb,T,Ra);nb=
La(nb,T,Ra);const ob=[];return aa&&(xa?ob.push({op:"move",data:[d+La(va,T,Ra),u+La(va,T,Ra)]}):ob.push({op:"move",data:[d+La(Ja,T,Ra),u+La(Ja,T,Ra)]})),xa?ob.push({op:"bcurveTo",data:[hb+d+(w-d)*Ca+La(va,T,Ra),nb+u+(H-u)*Ca+La(va,T,Ra),hb+d+2*(w-d)*Ca+La(va,T,Ra),nb+u+2*(H-u)*Ca+La(va,T,Ra),w+La(va,T,Ra),H+La(va,T,Ra)]}):ob.push({op:"bcurveTo",data:[hb+d+(w-d)*Ca+La(Ja,T,Ra),nb+u+(H-u)*Ca+La(Ja,T,Ra),hb+d+2*(w-d)*Ca+La(Ja,T,Ra),nb+u+2*(H-u)*Ca+La(Ja,T,Ra),w+La(Ja,T,Ra),H+La(Ja,T,Ra)]}),ob}function rb(d,
u,w){const H=[];H.push([d[0][0]+La(u,w),d[0][1]+La(u,w)]);H.push([d[0][0]+La(u,w),d[0][1]+La(u,w)]);for(let T=1;T<d.length;T++)H.push([d[T][0]+La(u,w),d[T][1]+La(u,w)]),T===d.length-1&&H.push([d[T][0]+La(u,w),d[T][1]+La(u,w)]);return Jb(H,null,w)}function Jb(d,u,w){const H=d.length,T=[];if(3<H){const aa=[],xa=1-w.curveTightness;T.push({op:"move",data:[d[1][0],d[1][1]]});for(let va=1;va+2<H;va++){const Ca=d[va];aa[0]=[Ca[0],Ca[1]];aa[1]=[Ca[0]+(xa*d[va+1][0]-xa*d[va-1][0])/6,Ca[1]+(xa*d[va+1][1]-xa*
d[va-1][1])/6];aa[2]=[d[va+1][0]+(xa*d[va][0]-xa*d[va+2][0])/6,d[va+1][1]+(xa*d[va][1]-xa*d[va+2][1])/6];aa[3]=[d[va+1][0],d[va+1][1]];T.push({op:"bcurveTo",data:[aa[1][0],aa[1][1],aa[2][0],aa[2][1],aa[3][0],aa[3][1]]})}u&&2===u.length&&(d=w.maxRandomnessOffset,T.push({op:"lineTo",data:[u[0]+La(d,w),u[1]+La(d,w)]}))}else 3===H?(T.push({op:"move",data:[d[1][0],d[1][1]]}),T.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===H&&T.push(...Fa(d[0][0],d[0][1],d[1][0],d[1][1],
w));return T}function Ib(d,u,w,H,T,aa,xa,va){const Ca=[],Ra=[],Ja=La(.5,va)-Math.PI/2;Ra.push([La(aa,va)+u+.9*H*Math.cos(Ja-d),La(aa,va)+w+.9*T*Math.sin(Ja-d)]);for(let hb=Ja;hb<2*Math.PI+Ja-.01;hb+=d){const nb=[La(aa,va)+u+H*Math.cos(hb),La(aa,va)+w+T*Math.sin(hb)];Ca.push(nb);Ra.push(nb)}return Ra.push([La(aa,va)+u+H*Math.cos(Ja+2*Math.PI+.5*xa),La(aa,va)+w+T*Math.sin(Ja+2*Math.PI+.5*xa)]),Ra.push([La(aa,va)+u+.98*H*Math.cos(Ja+xa),La(aa,va)+w+.98*T*Math.sin(Ja+xa)]),Ra.push([La(aa,va)+u+.9*H*Math.cos(Ja+
.5*xa),La(aa,va)+w+.9*T*Math.sin(Ja+.5*xa)]),[Ra,Ca]}function Wb(d,u,w,H,T,aa,xa,va,Ca){var Ra=aa+La(.1,Ca);aa=[];for(aa.push([La(va,Ca)+u+.9*H*Math.cos(Ra-d),La(va,Ca)+w+.9*T*Math.sin(Ra-d)]);Ra<=xa;Ra+=d)aa.push([La(va,Ca)+u+H*Math.cos(Ra),La(va,Ca)+w+T*Math.sin(Ra)]);return aa.push([u+H*Math.cos(xa),w+T*Math.sin(xa)]),aa.push([u+H*Math.cos(xa),w+T*Math.sin(xa)]),Jb(aa,null,Ca)}function Lb(d,u,w,H,T,aa,xa,va){const Ca=[],Ra=[va.maxRandomnessOffset||1,(va.maxRandomnessOffset||1)+.3];let Ja;const hb=
va.disableMultiStroke?1:2;for(let nb=0;nb<hb;nb++)0===nb?Ca.push({op:"move",data:[xa[0],xa[1]]}):Ca.push({op:"move",data:[xa[0]+La(Ra[0],va),xa[1]+La(Ra[0],va)]}),Ja=[T+La(Ra[nb],va),aa+La(Ra[nb],va)],Ca.push({op:"bcurveTo",data:[d+La(Ra[nb],va),u+La(Ra[nb],va),w+La(Ra[nb],va),H+La(Ra[nb],va),Ja[0],Ja[1]]});return Ca}function gc(d){var u,w,H="";if("string"==typeof d||"number"==typeof d)H+=d;else if("object"==typeof d)if(Array.isArray(d))for(u=0;u<d.length;u++)d[u]&&(w=gc(d[u]))&&(H&&(H+=" "),H+=w);
else for(u in d)d[u]&&(H&&(H+=" "),H+=u);return H}function oc(){for(var d,u,w=0,H="";w<arguments.length;)(d=arguments[w++])&&(u=gc(d))&&(H&&(H+=" "),H+=u);return H}function Gc(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Cb(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Gc(Object(w),!0).forEach(function(H){xe()(d,
H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Gc(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function ic(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function fb(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?
arguments[u]:{};u%2?ic(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):ic(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ka(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Oa(d){for(var u=
1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Ka(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ka(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Na(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,
T).enumerable}));w.push.apply(w,H)}return w}function Ga(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Na(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Na(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Sa(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);
u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function cb(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Sa(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Sa(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ob(d,u){var w=Object.keys(d);
if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Qb(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function nc(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Qb(Object(w),
!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Qb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ec(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function yc(d){for(var u=1;u<arguments.length;u++){var w=
null!=arguments[u]?arguments[u]:{};u%2?Ec(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ec(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function tc(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,
H)}return w}function Tc(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?tc(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):tc(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Cd(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,
T).enumerable}));w.push.apply(w,H)}return w}function fd(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Cd(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Cd(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function ze(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);
u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function pe(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?ze(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):ze(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function id(d){var u=d.options,w=d.value,
H=d.label,T=d.onChange,aa=d.onClose,xa=V().useRef(),va=V().useRef(),Ca=V().useRef(null);V().useEffect(function(){va.current?va.current.focus():Ca.current&&Ca.current.focus()},[]);return V().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":H,onKeyDown:function(Ra){var Ja=u.find(function(cc){return cc.keyBinding===Ra.key.toLowerCase()});if(Ra.metaKey||Ra.altKey||Ra.ctrlKey||!Ja)if("Tab"===Ra.key)setTimeout(function(){va.current!==document.activeElement&&aa()},0);
else if(tg(Ra.key)){Ja=zf.rtl;if(-1!==(ob=Array.prototype.indexOf.call(Ca.current.children,document.activeElement))){var hb=u.length,nb=ob;switch(Ra.key){case Ja?"ArrowLeft":"ArrowRight":case "ArrowDown":nb=(ob+1)%hb;break;case Ja?"ArrowRight":"ArrowLeft":case "ArrowUp":nb=(hb+ob-1)%hb}Ca.current.children[nb].focus()}Ra.preventDefault()}else"Escape"!==Ra.key&&"Enter"!==Ra.key||(Ra.preventDefault(),aa());else{var ob=u.indexOf(Ja);Ca.current.children[ob].focus();Ra.preventDefault()}Ra.nativeEvent.stopImmediatePropagation()}},
V().createElement("div",{className:"picker-content",ref:Ca},u.map(function(Ra,Ja){return V().createElement("button",{className:"picker-option",onClick:function(hb){hb.currentTarget.focus();T(Ra.value)},title:"".concat(Ra.text," — ").concat(Ra.keyBinding.toUpperCase()),"aria-label":Ra.text||"none","aria-keyshortcuts":Ra.keyBinding,key:Ra.text,ref:function(hb){hb&&0===Ja&&(xa.current=hb);hb&&Ra.value===w&&(va.current=hb)},onFocus:function(){T(Ra.value)}},Ra.icon,V().createElement("span",{className:"picker-keybinding"},
Ra.keyBinding))})))}function kd(d){var u,w=d.value,H=d.label,T=d.options,aa=d.onChange;d=d.group;d=void 0===d?"":d;var xa=V().useState(!1),va=xa[0],Ca=xa[1],Ra=V().useRef(null);xa=zf.rtl;return V().createElement("label",{className:"picker-container"},V().createElement("button",{name:d,className:va?"active":"","aria-label":H,onClick:function(){return Ca(!va)},ref:Ra},null===(u=T.find(function(Ja){return Ja.value===w}))||void 0===u?void 0:u.icon),V().createElement(V().Suspense,{fallback:""},va?V().createElement(V().Fragment,
null,V().createElement(gb,Jd()({onCloseRequest:function(Ja){return Ja.target!==Ra.current&&Ca(!1)}},xa?{right:5.5}:{left:-5.5}),V().createElement(id,{options:T,value:w,label:H,onChange:aa,onClose:function(){var Ja;Ca(!1);null===(Ja=Ra.current)||void 0===Ja||Ja.focus()}})),V().createElement("div",{className:"picker-triangle"})):null))}function Oe(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,
T).enumerable}));w.push.apply(w,H)}return w}function oe(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Oe(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Oe(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Pe(){return(0,ha.useContext)(eg)}function hf(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=
Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Xe(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?hf(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):hf(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function lf(d,
u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function $f(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?lf(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):lf(Object(w)).forEach(function(H){Object.defineProperty(d,
H,Object.getOwnPropertyDescriptor(w,H))})}return d}async function Yh(...d){return(await tm).default(...d)}async function Lg(...d){return(await kf).default(...d)}function Re(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Ae(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Re(Object(w),!0).forEach(function(H){xe()(d,
H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Re(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Nf(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Ce(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?
arguments[u]:{};u%2?Nf(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Nf(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function mb(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function yb(d){for(var u=
1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?mb(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):mb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function lb(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,
T).enumerable}));w.push.apply(w,H)}return w}function Xa(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?lb(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):lb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function db(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);
u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function pb(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?db(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):db(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Pb(d,u){var w=Object.keys(d);
if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function lc(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Pb(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Pb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,
H))})}return d}function uc(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Dc(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?uc(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):uc(Object(w)).forEach(function(H){Object.defineProperty(d,
H,Object.getOwnPropertyDescriptor(w,H))})}return d}function ld(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Vc(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?ld(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):
ld(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Qd(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function qc(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Qd(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Qd(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Yb(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Zd(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Yb(Object(w),
!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Yb(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function dg(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Nc(d){for(var u=1;u<arguments.length;u++){var w=
null!=arguments[u]?arguments[u]:{};u%2?dg(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):dg(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Sd(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,
H)}return w}function wb(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Sd(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Sd(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ya(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,
T).enumerable}));w.push.apply(w,H)}return w}function $b(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Ya(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ya(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Kc(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);
u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function od(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Kc(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Kc(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function ud(d,u){var w=Object.keys(d);
if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function ke(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?ud(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):ud(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,
H))})}return d}function Ac(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Qc(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Ac(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ac(Object(w)).forEach(function(H){Object.defineProperty(d,
H,Object.getOwnPropertyDescriptor(w,H))})}return d}function hc(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function sb(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?hc(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):
hc(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function rd(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function ef(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,
T).enumerable}));w.push.apply(w,H)}return w}function Hd(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Rf(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Hd(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):
Hd(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}function Ea(d,u){var w=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);u&&(H=H.filter(function(T){return Object.getOwnPropertyDescriptor(d,T).enumerable}));w.push.apply(w,H)}return w}function Wa(d){for(var u=1;u<arguments.length;u++){var w=null!=arguments[u]?arguments[u]:{};u%2?Ea(Object(w),!0).forEach(function(H){xe()(d,H,w[H])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(w)):Ea(Object(w)).forEach(function(H){Object.defineProperty(d,H,Object.getOwnPropertyDescriptor(w,H))})}return d}h.r(l);h.d(l,{default:()=>Yt,defaultLang:()=>Nd,getElementMap:()=>Xi,getSceneVersion:()=>Xk,getSyncableElements:()=>Kk,languages:()=>Wc,restore:()=>en,restoreAppState:()=>dn,restoreElements:()=>Zh});var Ua=h(7154),Aa=h.n(Ua),ua=h(6479),P=h.n(ua),ha=h(4698),V=h.n(ha),Ta=h(8288);const eb=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');
"production"!==Ta.Vi.TEST&&(h.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(eb.u2,"@").concat(eb.i8,"/dist/"));var Fb=h(5374),Bb=h.n(Fb),Cc=h(2829),zd=h(2051),dd=function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=
Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=
0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},Nd={code:"en",label:"English"},Wc=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},
{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},
{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Nd]).sort(function(d,u){return d.label>u.label?1:-1}).filter(function(d){return 85<=
zd[d.code]});"production"===Ta.Vi.DEVELOPMENT&&Wc.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var He,zf=Nd,wg={},df=function(){var d=Bb()(function(u){return dd(this,function(w){switch(w.label){case 0:return zf=u,document.documentElement.dir=zf.rtl?"rtl":"ltr",document.documentElement.lang=zf.code,u.code.startsWith("__test__")?(wg={},[3,3]):[3,1];case 1:return[4,h(788)("./".concat(zf.code,".json"))];case 2:wg=w.sent(),w.label=
3;case 3:return[2]}})});return function(u){return d.apply(this,arguments)}}(),md=function(d,u){for(var w=0;w<u.length;++w){var H=u[w];if(void 0===d[H])return;d=d[H]}if("string"==typeof d)return d},Sb=function(d,u){if(zf.code.startsWith("__test__"))return d=u?"".concat(d,"(").concat(JSON.stringify(u).slice(1,-1),")"):d,"‪[[".concat(d,"]]‬");var w=d.split(".");w=md(wg,w)||md(Cc,w);if(void 0===w)throw Error("Can't find translation for ".concat(d));if(u)for(var H in u)w=w.replace("{{".concat(H,"}}"),
u[H]);return w},hg=function(){return V().createElement("div",{className:"LoadingMessage"},V().createElement("span",null,Sb("labels.loadingScene")))},Wg=(He=function(d,u){return(He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,H){w.__proto__=H}||function(w,H){for(var T in H)Object.prototype.hasOwnProperty.call(H,T)&&(w[T]=H[T])})(d,u)},function(d,u){function w(){this.constructor=d}if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");
He(d,u);d.prototype=null===u?Object.create(u):(w.prototype=u.prototype,new w)}),Sf=function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;
case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,
T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},Jh=function(d){function u(){for(var w=[],H=0;H<arguments.length;H++)w[H]=arguments[H];var T;H=this;return T=H=d.apply(this,w)||this,H.state={isLoading:!0},T}return Wg(u,d),u.prototype.componentDidMount=function(){var w=this;return Bb()(function(){var H;return Sf(this,function(T){switch(T.label){case 0:return H=
Wc.find(function(aa){return aa.code===w.props.langCode})||Nd,[4,df(H)];case 1:return T.sent(),w.setState({isLoading:!1}),[2]}})})()},u.prototype.render=function(){return this.state.isLoading?V().createElement(hg,null):this.props.children},u}(V().Component),Kh=h(566),xe=h.n(Kh);class de{constructor(d){this.helper=d}fillPolygon(d,u){return this._fillPolygon(d,u)}_fillPolygon(d,u,w=!1){let H=ba(d,u);w&&(d=this.connectingLines(d,H),H=H.concat(d));return{type:"fillSketch",ops:this.renderLines(H,u)}}renderLines(d,
u){const w=[];for(const H of d)w.push(...this.helper.doubleLineOps(H[0][0],H[0][1],H[1][0],H[1][1],u));return w}connectingLines(d,u){const w=[];if(1<u.length)for(let T=1;T<u.length;T++){var H=u[T-1];3>B(H)||(H=[u[T][0],H[1]],3<B(H)&&(H=this.splitOnIntersections(d,H),w.push(...H)))}return w}midPointInPolygon(d,u){return Z(d,(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2)}splitOnIntersections(d,u){var w=Math.max(5,.1*B(u)),H=[];for(var T=0;T<d.length;T++){var aa=d[T],xa=d[(T+1)%d.length];if(qa(aa,xa,...u)&&
(aa=G(aa,xa,u[0],u[1]))){xa=B([aa,u[0]]);const va=B([aa,u[1]]);xa>w&&va>w&&H.push({point:aa,distance:xa})}}if(1<H.length){w=H.sort((va,Ca)=>va.distance-Ca.distance).map(va=>va.point);if(Z(d,...u[0])||w.shift(),Z(d,...u[1])||w.pop(),1>=w.length)return this.midPointInPolygon(d,u)?[u]:[];u=[u[0],...w,u[1]];w=[];for(H=0;H<u.length-1;H+=2)T=[u[H],u[H+1]],this.midPointInPolygon(d,T)&&w.push(T);return w}return this.midPointInPolygon(d,u)?[u]:[]}}class uf extends de{fillPolygon(d,u){return this._fillPolygon(d,
u,!0)}}class Lf extends de{fillPolygon(d,u){const w=this._fillPolygon(d,u);u=Object.assign({},u,{hachureAngle:u.hachureAngle+90});d=this._fillPolygon(d,u);return w.ops=w.ops.concat(d.ops),w}}class mh{constructor(d){this.helper=d}fillPolygon(d,u){d=ba(d,u=Object.assign({},u,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(d,u)}dotsOnLines(d,u){const w=[];let H=u.hachureGap;0>H&&(H=4*u.strokeWidth);H=Math.max(H,.1);let T=u.fillWeight;0>T&&(T=u.strokeWidth/2);const aa=H/4;for(const Ra of d){var xa=
B(Ra);d=Math.ceil(xa/H)-1;xa-=d*H;const Ja=(Ra[0][0]+Ra[1][0])/2-H/4,hb=Math.min(Ra[0][1],Ra[1][1]);for(let nb=0;nb<d;nb++){var va=hb+xa+nb*H,Ca=this.helper.randOffsetWithRange(Ja-aa,Ja+aa,u);va=this.helper.randOffsetWithRange(va-aa,va+aa,u);Ca=this.helper.ellipse(Ca,va,T,T,u);w.push(...Ca.ops)}}return{type:"fillSketch",ops:w}}}class Qi{constructor(d){this.helper=d}fillPolygon(d,u){d=ba(d,u);return{type:"fillSketch",ops:this.dashedLine(d,u)}}dashedLine(d,u){const w=0>u.dashOffset?0>u.hachureGap?4*
u.strokeWidth:u.hachureGap:u.dashOffset,H=0>u.dashGap?0>u.hachureGap?4*u.strokeWidth:u.hachureGap:u.dashGap,T=[];return d.forEach(aa=>{var xa=B(aa);const va=Math.floor(xa/(w+H));xa=(xa+H-va*(w+H))/2;let Ca=aa[0];var Ra=aa[1];Ca[0]>Ra[0]&&(Ca=aa[1],Ra=aa[0]);aa=Math.atan((Ra[1]-Ca[1])/(Ra[0]-Ca[0]));for(Ra=0;Ra<va;Ra++){var Ja=Ra*(w+H),hb=Ja+w;Ja=[Ca[0]+Ja*Math.cos(aa)+xa*Math.cos(aa),Ca[1]+Ja*Math.sin(aa)+xa*Math.sin(aa)];hb=[Ca[0]+hb*Math.cos(aa)+xa*Math.cos(aa),Ca[1]+hb*Math.sin(aa)+xa*Math.sin(aa)];
T.push(...this.helper.doubleLineOps(Ja[0],Ja[1],hb[0],hb[1],u))}}),T}}class Bj{constructor(d){this.helper=d}fillPolygon(d,u){const w=0>u.hachureGap?4*u.strokeWidth:u.hachureGap,H=0>u.zigzagOffset?w:u.zigzagOffset;d=ba(d,u=Object.assign({},u,{hachureGap:w+H}));return{type:"fillSketch",ops:this.zigzagLines(d,H,u)}}zigzagLines(d,u,w){const H=[];return d.forEach(T=>{var aa=B(T);aa=Math.round(aa/(2*u));let xa=T[0];var va=T[1];xa[0]>va[0]&&(xa=T[1],va=T[0]);T=Math.atan((va[1]-xa[1])/(va[0]-xa[0]));for(va=
0;va<aa;va++){var Ca=2*va*u,Ra=2*(va+1)*u,Ja=Math.sqrt(2*Math.pow(u,2));Ca=[xa[0]+Ca*Math.cos(T),xa[1]+Ca*Math.sin(T)];Ra=[xa[0]+Ra*Math.cos(T),xa[1]+Ra*Math.sin(T)];Ja=[Ca[0]+Ja*Math.cos(T+Math.PI/4),Ca[1]+Ja*Math.sin(T+Math.PI/4)];H.push(...this.helper.doubleLineOps(Ca[0],Ca[1],Ja[0],Ja[1],w),...this.helper.doubleLineOps(Ja[0],Ja[1],Ra[0],Ra[1],w))}}),H}}const ig={};class Ue{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}
const vh={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Bd={randOffset:function(d,u){return La(d,u)},randOffsetWithRange:function(d,u,w){return Ha(d,u,w)},ellipse:function(d,u,w,H,T){w=ia(w,H,T);return ra(d,u,T,w).opset},doubleLineOps:function(d,u,w,H,T){return Fa(d,u,w,H,T,!0)}};class wh{constructor(d){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",
fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,d):this.defaultOptions}_d(d,u,w){return{shape:d,sets:u||[],options:w||this.defaultOptions}}line(d,u,w,H,T){T=this._o(T);return this._d("line",
[{type:"path",ops:Fa(d,u,w,H,T)}],T)}rectangle(d,u,w,H,T){T=this._o(T);const aa=[];var xa=R([[d,u],[d+w,u],[d+w,u+H],[d,u+H]],!0,T);T.fill&&(d=[[d,u],[d+w,u],[d+w,u+H],[d,u+H]],"solid"===T.fillStyle?aa.push(ja(d,T)):aa.push(ta(d,T)));return"none"!==T.stroke&&aa.push(xa),this._d("rectangle",aa,T)}ellipse(d,u,w,H,T){T=this._o(T);const aa=[];H=ia(w,H,T);w=ra(d,u,T,H);T.fill&&("solid"===T.fillStyle?(d=ra(d,u,T,H).opset,d.type="fillPath",aa.push(d)):aa.push(ta(w.estimatedPoints,T)));return"none"!==T.stroke&&
aa.push(w.opset),this._d("ellipse",aa,T)}circle(d,u,w,H){d=this.ellipse(d,u,w,w,H);return d.shape="circle",d}linearPath(d,u){u=this._o(u);return this._d("linearPath",[R(d,!1,u)],u)}arc(d,u,w,H,T,aa,xa=!1,va){va=this._o(va);const Ca=[],Ra=na(d,u,w,H,T,aa,xa,!0,va);if(xa&&va.fill)if("solid"===va.fillStyle)d=na(d,u,w,H,T,aa,!0,!1,va),d.type="fillPath",Ca.push(d);else{xa=Ca.push;w=Math.abs(w/2);H=Math.abs(H/2);w+=La(.01*w,va);for(H+=La(.01*H,va);0>T;)T+=2*Math.PI,aa+=2*Math.PI;aa-T>2*Math.PI&&(T=0,aa=
2*Math.PI);const Ja=(aa-T)/va.curveStepCount,hb=[];for(;T<=aa;T+=Ja)hb.push([d+w*Math.cos(T),u+H*Math.sin(T)]);d=(hb.push([d+w*Math.cos(aa),u+H*Math.sin(aa)]),hb.push([d,u]),ta(hb,va));xa.call(Ca,d)}return"none"!==va.stroke&&Ca.push(Ra),this._d("arc",Ca,va)}curve(d,u){u=this._o(u);const w=[],H=fa(d,u);u.fill&&"none"!==u.fill&&3<=d.length&&(d=I(function(T,aa=0){var xa=T.length;if(3>xa)throw Error("A curve must have at least three points.");const va=[];if(3===xa)va.push([...T[0]],[...T[1]],[...T[2]],
[...T[2]]);else{xa=[];xa.push(T[0],T[0]);for(var Ca=1;Ca<T.length;Ca++)xa.push(T[Ca]),Ca===T.length-1&&xa.push(T[Ca]);T=[];aa=1-aa;va.push([...xa[0]]);for(Ca=1;Ca+2<xa.length;Ca++){const Ra=xa[Ca];T[0]=[Ra[0],Ra[1]];T[1]=[Ra[0]+(aa*xa[Ca+1][0]-aa*xa[Ca-1][0])/6,Ra[1]+(aa*xa[Ca+1][1]-aa*xa[Ca-1][1])/6];T[2]=[xa[Ca+1][0]+(aa*xa[Ca][0]-aa*xa[Ca+2][0])/6,xa[Ca+1][1]+(aa*xa[Ca][1]-aa*xa[Ca+2][1])/6];T[3]=[xa[Ca+1][0],xa[Ca+1][1]];va.push(T[1],T[2],T[3])}}return va}(d),10,(1+u.roughness)/2),"solid"===u.fillStyle?
w.push(ja(d,u)):w.push(ta(d,u)));return"none"!==u.stroke&&w.push(H),this._d("curve",w,u)}polygon(d,u){u=this._o(u);const w=[],H=R(d,!0,u);return u.fill&&("solid"===u.fillStyle?w.push(ja(d,u)):w.push(ta(d,u))),"none"!==u.stroke&&w.push(H),this._d("polygon",w,u)}path(d,u){const w=this._o(u),H=[];if(!d)return this._d("path",H,w);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");u=w.fill&&"transparent"!==w.fill&&"none"!==w.fill;const T="none"!==w.stroke,aa=!!(w.simplification&&
1>w.simplification),xa=function(va,Ca,Ra){var Ja=ca(da(X(va)));va=[];let hb=[];var nb=[0,0];let ob=[];const cc=()=>{4<=ob.length&&hb.push(...I(ob,Ca));ob=[]};for(const {key:Xb,data:vc}of Ja)switch(Xb){case "M":cc();hb.length&&(va.push(hb),hb=[]);nb=[vc[0],vc[1]];hb.push(nb);break;case "L":cc();hb.push([vc[0],vc[1]]);break;case "C":ob.length||(Ja=hb.length?hb[hb.length-1]:nb,ob.push([Ja[0],Ja[1]]));ob.push([vc[0],vc[1]]);ob.push([vc[2],vc[3]]);ob.push([vc[4],vc[5]]);break;case "Z":cc(),hb.push([nb[0],
nb[1]])}cc();hb.length&&(va.push(hb),hb=[]);if(!Ra)return va;nb=[];for(const Xb of va)va=L(Xb,Ra),va.length&&nb.push(va);return nb}(d,1,aa?4-4*w.simplification:(1+w.roughness)/2);if(u)if(w.combineNestedSvgPaths){const va=[];xa.forEach(Ca=>va.push(...Ca));"solid"===w.fillStyle?H.push(ja(va,w)):H.push(ta(va,w))}else xa.forEach(va=>{"solid"===w.fillStyle?H.push(ja(va,w)):H.push(ta(va,w))});return T&&(aa?xa.forEach(va=>{H.push(R(va,!1,w))}):H.push(function(va,Ca){va=ca(da(X(va)));const Ra=[];let Ja=[0,
0],hb=[0,0];for(const {key:nb,data:ob}of va)switch(nb){case "M":const cc=1*(Ca.maxRandomnessOffset||0);Ra.push({op:"move",data:ob.map(ae=>ae+La(cc,Ca))});hb=[ob[0],ob[1]];Ja=[ob[0],ob[1]];break;case "L":Ra.push(...Fa(hb[0],hb[1],ob[0],ob[1],Ca));hb=[ob[0],ob[1]];break;case "C":const [Xb,vc,Zc,ed,nd,ce]=ob;Ra.push(...Lb(Xb,vc,Zc,ed,nd,ce,hb,Ca));hb=[nd,ce];break;case "Z":Ra.push(...Fa(hb[0],hb[1],Ja[0],Ja[1],Ca)),hb=[Ja[0],Ja[1]]}return{type:"path",ops:Ra}}(d,w))),this._d("path",H,w)}opsToPath(d){let u=
"";for(const w of d.ops)switch(d=w.data,w.op){case "move":u+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":u+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":u+=`L${d[0]} ${d[1]} `}return u.trim()}toPaths(d){var u=d.sets||[];d=d.options||this.defaultOptions;const w=[];for(const H of u){u=null;switch(H.type){case "path":u={d:this.opsToPath(H),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:"none"};break;case "fillPath":u={d:this.opsToPath(H),stroke:"none",strokeWidth:0,fill:d.fill||
"none"};break;case "fillSketch":u=this.fillSketch(H,d)}u&&w.push(u)}return w}fillSketch(d,u){let w=u.fillWeight;return 0>w&&(w=u.strokeWidth/2),{d:this.opsToPath(d),stroke:u.fill||"none",strokeWidth:w,fill:"none"}}}class ni{constructor(d,u){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new wh(u)}draw(d){const u=d.sets||[],w=d.options||this.getDefaultOptions(),H=this.ctx;for(const T of u)switch(T.type){case "path":H.save();H.strokeStyle="none"===w.stroke?"transparent":w.stroke;H.lineWidth=
w.strokeWidth;w.strokeLineDash&&H.setLineDash(w.strokeLineDash);w.strokeLineDashOffset&&(H.lineDashOffset=w.strokeLineDashOffset);this._drawToContext(H,T);H.restore();break;case "fillPath":H.save();H.fillStyle=w.fill||"";this._drawToContext(H,T,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");H.restore();break;case "fillSketch":this.fillSketch(H,T,w)}}fillSketch(d,u,w){let H=w.fillWeight;0>H&&(H=w.strokeWidth/2);d.save();w.fillLineDash&&d.setLineDash(w.fillLineDash);w.fillLineDashOffset&&
(d.lineDashOffset=w.fillLineDashOffset);d.strokeStyle=w.fill||"";d.lineWidth=H;this._drawToContext(d,u);d.restore()}_drawToContext(d,u,w="nonzero"){d.beginPath();for(const H of u.ops){const T=H.data;switch(H.op){case "move":d.moveTo(T[0],T[1]);break;case "bcurveTo":d.bezierCurveTo(T[0],T[1],T[2],T[3],T[4],T[5]);break;case "lineTo":d.lineTo(T[0],T[1])}}"fillPath"===u.type?d.fill(w):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,u,w,H,T){d=this.gen.line(d,
u,w,H,T);return this.draw(d),d}rectangle(d,u,w,H,T){d=this.gen.rectangle(d,u,w,H,T);return this.draw(d),d}ellipse(d,u,w,H,T){d=this.gen.ellipse(d,u,w,H,T);return this.draw(d),d}circle(d,u,w,H){d=this.gen.circle(d,u,w,H);return this.draw(d),d}linearPath(d,u){d=this.gen.linearPath(d,u);return this.draw(d),d}polygon(d,u){d=this.gen.polygon(d,u);return this.draw(d),d}arc(d,u,w,H,T,aa,xa=!1,va){d=this.gen.arc(d,u,w,H,T,aa,xa,va);return this.draw(d),d}curve(d,u){d=this.gen.curve(d,u);return this.draw(d),
d}path(d,u){d=this.gen.path(d,u);return this.draw(d),d}}class uk{constructor(d,u){this.svg=d;this.gen=new wh(u)}draw(d){var u=d.sets||[];const w=d.options||this.getDefaultOptions(),H=this.svg.ownerDocument||window.document,T=H.createElementNS("http://www.w3.org/2000/svg","g");for(const aa of u){u=null;switch(aa.type){case "path":u=H.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",this.opsToPath(aa));u.setAttribute("stroke",w.stroke);u.setAttribute("stroke-width",w.strokeWidth+
"");u.setAttribute("fill","none");w.strokeLineDash&&u.setAttribute("stroke-dasharray",w.strokeLineDash.join(" ").trim());w.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${w.strokeLineDashOffset}`);break;case "fillPath":u=H.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",this.opsToPath(aa));u.setAttribute("stroke","none");u.setAttribute("stroke-width","0");u.setAttribute("fill",w.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||u.setAttribute("fill-rule","evenodd");
break;case "fillSketch":u=this.fillSketch(H,aa,w)}u&&T.appendChild(u)}return T}fillSketch(d,u,w){let H=w.fillWeight;0>H&&(H=w.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(u)),d.setAttribute("stroke",w.fill||""),d.setAttribute("stroke-width",H+""),d.setAttribute("fill","none"),w.fillLineDash&&d.setAttribute("stroke-dasharray",w.fillLineDash.join(" ").trim()),w.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${w.fillLineDashOffset}`),
d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,u,w,H,T){d=this.gen.line(d,u,w,H,T);return this.draw(d)}rectangle(d,u,w,H,T){d=this.gen.rectangle(d,u,w,H,T);return this.draw(d)}ellipse(d,u,w,H,T){d=this.gen.ellipse(d,u,w,H,T);return this.draw(d)}circle(d,u,w,H){d=this.gen.circle(d,u,w,H);return this.draw(d)}linearPath(d,u){d=this.gen.linearPath(d,u);return this.draw(d)}polygon(d,u){d=this.gen.polygon(d,u);return this.draw(d)}arc(d,
u,w,H,T,aa,xa=!1,va){d=this.gen.arc(d,u,w,H,T,aa,xa,va);return this.draw(d)}curve(d,u){d=this.gen.curve(d,u);return this.draw(d)}path(d,u){d=this.gen.path(d,u);return this.draw(d)}}const Fh={canvas:(d,u)=>new ni(d,u),svg:(d,u)=>new uk(d,u),generator:d=>new wh(d),newSeed:()=>wh.newSeed()};var Xd=function(d){return null!=d&&"text"===d.type},Cg=function(d){return null!=d&&cj(d.type)},cj=function(d){return"arrow"===d||"line"===d||"draw"===d},jg=function(d){return null!=d&&"arrow"===d.type},vk=function(d){return null!=
d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},Bf=function(d,u,w,H,T){return[(d-w)*Math.cos(T)-(u-H)*Math.sin(T)+w,(d-w)*Math.sin(T)+(u-H)*Math.cos(T)+H]},dj=function(d,u,w){return Bf(d[0],d[1],u[0],u[1],w)},ag=function(d,u,w,H,T,aa,xa,va){var Ca=Math.cos(H);H=Math.sin(H);return d.e&&d.w?u+=T+xa:d.e?(u+=T*(1+Ca),w+=T*H,u+=xa*(1-Ca),w+=xa*-H):d.w&&(u+=T*(1-Ca),w+=T*-H,u+=xa*(1+Ca),w+=xa*H),d.n&&d.s?w+=aa+va:d.n?(u+=aa*H,w+=aa*(1-Ca),u+=va*-H,w+=va*(1+Ca)):d.s&&
(u+=aa*-H,w+=aa*(1+Ca),u+=va*H,w+=va*(1-Ca)),[u,w]},$h=function(d,u){if(void 0===u&&(u=1),3<=d.length){var w=[d[0],d[d.length-1]];d=w[0];w=w[1];return Math.hypot(w[0]-d[0],w[1]-d[1])<=Ta.qx/u}return!1},Ci=function(d,u,w){var H=d.length;if(3>H)return!1;var T=[Number.MAX_SAFE_INTEGER,w];u=[u,w];for(var aa=w=0;aa<H;aa++){var xa=d[aa],va=d[(aa+1)%H],Ca=xa,Ra=va,Ja=u,hb=T,nb=ej(Ca,Ra,Ja),ob=ej(Ca,Ra,hb),cc=ej(Ja,hb,Ca),Xb=ej(Ja,hb,Ra);if(nb!==ob&&cc!==Xb||0===nb&&wk(Ca,Ja,Ra)||0===ob&&wk(Ca,hb,Ra)||0===
cc&&wk(Ja,Ca,hb)||0===Xb&&wk(Ja,Ra,hb)){if(0===ej(xa,u,va))return wk(xa,u,va);w++}}return 1==w%2},wk=function(d,u,w){return u[0]<=Math.max(d[0],w[0])&&u[0]>=Math.min(d[0],w[0])&&u[1]<=Math.max(d[1],w[1])&&u[1]>=Math.min(d[1],w[1])},ej=function(d,u,w){d=(u[1]-d[1])*(w[0]-u[0])-(u[0]-d[0])*(w[1]-u[1]);return 0===d?0:0<d?1:2},oi=function(d,u,w){return w?[Math.round(d/w)*w,Math.round(u/w)*w]:[d,u]},Ei=function(d,u,w){var H=w.map(function(Ca){return Ca[d]}),T=Math.max.apply(Math,H);H=Math.min.apply(Math,
H);T-=H;var aa=0===T?1:u/T,xa=1/0;u=w.map(function(Ca){return Ca.map(function(Ra,Ja){if(Ja!==d)return Ra;Ra*=aa;return xa=Math.min(Ra,xa),Ra})});if(2===u.length)return u;var va=H-xa;return u.map(function(Ca){return Ca.map(function(Ra,Ja){return Ja===d?Ra+va:Ra})})},bg=function(d){return Cg(d)?oj(d):[d.x,d.y,d.x+d.width,d.y+d.height]},Fi=function(d){for(var u=0,w=d.sets;u<w.length;u++){var H=w[u];if("path"===H.type)return H.ops}return d.sets[0].ops},yk=function(d,u){var w=[0,0];d=d.reduce(function(H,
T){var aa,xa=T.op;T=T.data;if("move"===xa)w=T;else if("bcurveTo"===xa){var va=[T[0],T[1]],Ca=[T[2],T[3]],Ra=[T[4],T[5]],Ja=w;w=Ra;xa=function(ob,cc){return Math.pow(1-ob,3)*Ra[cc]+3*ob*Math.pow(1-ob,2)*Ca[cc]+3*Math.pow(ob,2)*(1-ob)*va[cc]+Ja[cc]*Math.pow(ob,3)};for(T=0;1>=T;){var hb=xa(T,0),nb=xa(T,1);u&&(hb=(aa=u(hb,nb))[0],nb=aa[1]);H.minY=Math.min(H.minY,nb);H.minX=Math.min(H.minX,hb);H.maxX=Math.max(H.maxX,hb);H.maxY=Math.max(H.maxY,nb);T+=.1}}return H},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});
return[d.minX,d.minY,d.maxX,d.maxY]},oj=function(d){if(2>d.points.length||!ti.get(d)){var u=d.points.reduce(function(w,H){var T=H[0];H=H[1];return w.minY=Math.min(w.minY,H),w.minX=Math.min(w.minX,T),w.maxX=Math.max(w.maxX,T),w.maxY=Math.max(w.maxY,H),w},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[u.minX+d.x,u.minY+d.y,u.maxX+d.x,u.maxY+d.y]}u=ti.get(d);u=Fi(u[0]);u=yk(u);return[u[0]+d.x,u[1]+d.y,u[2]+d.x,u[3]+d.y]},pi=function(d){var u=bg(d),w=u[0],H=u[1],T=u[2],aa=u[3];u=(w+T)/2;var xa=(H+aa)/
2;if(Cg(d))return function(hb,nb,ob){if(2>hb.points.length||!ti.get(hb)){var cc=hb.points.reduce(function(Xb,vc){var Zc,ed=vc[0];vc=vc[1];return ed=(Zc=Bf(hb.x+ed,hb.y+vc,nb,ob,hb.angle))[0],vc=Zc[1],Xb.minY=Math.min(Xb.minY,vc),Xb.minX=Math.min(Xb.minX,ed),Xb.maxX=Math.max(Xb.maxX,ed),Xb.maxY=Math.max(Xb.maxY,vc),Xb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[cc.minX,cc.minY,cc.maxX,cc.maxY]}cc=ti.get(hb);cc=Fi(cc[0]);return yk(cc,function(Xb,vc){return Bf(hb.x+Xb,hb.y+vc,nb,ob,hb.angle)})}(d,
u,xa);if("diamond"===d.type){H=Bf(u,H,u,xa,d.angle);var va=H[0];H=H[1];aa=Bf(u,aa,u,xa,d.angle);var Ca=aa[0];aa=aa[1];var Ra=Bf(w,xa,u,xa,d.angle);w=Ra[0];Ra=Ra[1];xa=Bf(T,xa,u,xa,d.angle);u=xa[0];xa=xa[1];return[Math.min(va,Ca,w,u),Math.min(H,aa,Ra,xa),Math.max(va,Ca,w,u),Math.max(H,aa,Ra,xa)]}if("ellipse"===d.type)return T=(T-w)/2,va=(aa-H)/2,H=Math.cos(d.angle),Ca=Math.sin(d.angle),d=Math.hypot(T*H,va*Ca),T=Math.hypot(va*H,T*Ca),[u-d,xa-T,u+d,xa+T];Ca=Bf(w,H,u,xa,d.angle);va=Ca[0];Ca=Ca[1];Ra=
Bf(w,aa,u,xa,d.angle);w=Ra[0];Ra=Ra[1];var Ja=Bf(T,aa,u,xa,d.angle);aa=Ja[0];Ja=Ja[1];xa=Bf(T,H,u,xa,d.angle);u=xa[0];xa=xa[1];return[Math.min(va,w,aa,u),Math.min(Ca,Ra,Ja,xa),Math.max(va,w,aa,u),Math.max(Ca,Ra,Ja,xa)]},yg=function(d){if(!d.length)return[0,0,0,0];var u=1/0,w=-1/0,H=1/0,T=-1/0;return d.forEach(function(aa){aa=pi(aa);var xa=aa[1],va=aa[2],Ca=aa[3];u=Math.min(u,aa[0]);H=Math.min(H,xa);w=Math.max(w,va);T=Math.max(T,Ca)}),[u,H,w,T]},Mg=function(d,u,w){if(!Cg(d))return[d.x,d.y,d.x+u,d.y+
w];u=Ei(0,u,Ei(1,w,d.points));w=Fh.generator();u="sharp"===d.strokeSharpness?w.linearPath(u,Nh(d)):w.curve(u,Nh(d));u=Fi(u);u=yk(u);return[u[0]+d.x,u[1]+d.y,u[2]+d.x,u[3]+d.y]},qe=function(d,u,w){var H=Fh.generator();u="sharp"===w?H.linearPath(u,Nh(d)):H.curve(u,Nh(d));u=Fi(u);u=yk(u);return[u[0]+d.x,u[1]+d.y,u[2]+d.x,u[3]+d.y]};const te=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var nh=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},Gg=function(d){return[te.Q6[d],te.iQ[d],te.pl[d],te.ht[d],te.QN[d],te.iN[d],te.sl[d],te.$C[d],te.ek[d],te.LR[d],te.er[d],te.$y[d]]};const Bk={canvasBackground:nh([te.ix,te.MA[0],te.MA[1]],Gg(0)),elementBackground:nh(["transparent",te.MA[4],te.MA[6]],Gg(6)),elementStroke:nh([te.Sn,te.MA[8],te.MA[7]],Gg(9))};var Tf=h(6207),Hg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Cj=/^Win/.test(window.navigator.platform),
Te=Hg?"metaKey":"ctrlKey",tg=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},fj=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},zg=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},Si=function(d){var u=d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(Ta.ut[u],", ").concat(Ta._D))},Ti=function(d,
u){var w=document.createElement("div"),H=document.body;w.style.position="absolute";w.style.whiteSpace="pre";w.style.font=u;H.appendChild(w);w.innerText=d.split("\n").map(function(T){return T||" "}).join("\n");d=w.offsetWidth;u=w.offsetHeight;H=document.createElement("span");H.style.display="inline-block";H.style.overflow="hidden";H.style.width="1px";H.style.height="1px";w.appendChild(H);H=H.offsetTop+H.offsetHeight;return document.body.removeChild(w),{width:d,height:u,baseline:H}},qi=function(d,u){var w,
H=0,T=function(){for(var aa=[],xa=0;xa<arguments.length;xa++)aa[xa]=arguments[xa];w=aa;clearTimeout(H);H=window.setTimeout(function(){return d.apply(void 0,aa)},u)};return T.flush=function(){clearTimeout(H);w&&d.apply(void 0,w)},T.cancel=function(){clearTimeout(H)},T},Gi=function(d){d&&(d.style.cursor="")},Hi=function(d,u){d&&(d.style.cursor=u)},ri=function(d,u){d&&("selection"===u?Gi(d):d.style.cursor=Ta.oc.CROSSHAIR)},oh=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===
d?void 0:d.nodeName)},Pd=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Hg?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},og=function(d,u){var w=u.zoom,H=1/w.value;return{x:(d.clientX-w.translation.x-u.offsetLeft)*H-u.scrollX,y:(d.clientY-w.translation.y-u.offsetTop)*H-u.scrollY}},dh=function(d,u){var w=u.zoom;return{x:(d.sceneX+u.scrollX+u.offsetLeft)*
w.value+w.translation.x,y:(d.sceneY+u.scrollY+u.offsetTop)*w.value+w.translation.y}},Uf=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},ph=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Ag=function(d){return{x:d[0],y:d[1]}},Dk=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},Vf=function(d){return function(u){(0,Tf.unstable_batchedUpdates)(d,u)}},ol=function(d,u){var w,H=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(w=H.length-1;0<w&&!(d>=H[w].value);w--);return(d/H[w].value).toFixed(u).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+H[w].symbol},Gf=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||Ta.eQ},xh=function(){var d=new Map,u=Ta.rk,w=Ta.n5,H=te.Sn,T=Ta.Hg,aa=window.innerHeight,xa="".concat(Sb("labels.untitled"),"-"),va=xa.concat;var Ca=new Date;var Ra=Ca.getFullYear();var Ja="".concat(Ca.getMonth()+
1).padStart(2,"0"),hb="".concat(Ca.getDate()).padStart(2,"0"),nb="".concat(Ca.getHours()).padStart(2,"0");Ca="".concat(Ca.getMinutes()).padStart(2,"0");Ra="".concat(Ra,"-").concat(Ja,"-").concat(hb,"-").concat(nb).concat(Ca);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:u,currentItemFontSize:w,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:H,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:T,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:aa,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:va.call(xa,Ra),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:te.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},eh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},si=function(d,u){for(var w={},H=0,T=
Object.keys(d);H<T.length;H++){var aa=T[H],xa=eh[aa];null!=xa&&xa[u]&&(w[aa]=d[aa])}return w},kg=xh(),Mh=[12,8],Tk=[3,6],ai=function(d,u,w){switch(w.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":u.draw(ti.get(d));break;case "arrow":case "draw":case "line":ti.get(d).forEach(function(hb){u.draw(hb)});break;default:if(!Xd(d))throw Error("Unimplemented type ".concat(d.type));var H=ph.test(d.text),T=H&&!w.canvas.isConnected;T&&document.body.appendChild(w.canvas);w.canvas.setAttribute("dir",
H?"rtl":"ltr");H=w.font;w.font=Si(d);var aa=w.fillStyle;w.fillStyle=d.strokeColor;var xa=w.textAlign;w.textAlign=d.textAlign;var va=d.text.replace(/\r\n?/g,"\n").split("\n"),Ca=d.height/va.length,Ra=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var Ja=0;Ja<va.length;Ja++)w.fillText(va[Ja],d,(Ja+1)*Ca-Ra);w.fillStyle=aa;w.font=H;w.textAlign=xa;T&&w.canvas.remove()}w.globalAlpha=1},Ek=new WeakMap,ti=new WeakMap,Nh=function(d){var u={seed:d.seed,strokeLineDash:"dashed"===
d.strokeStyle?Mh:"dotted"===d.strokeStyle?Tk:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return u.fillStyle=d.fillStyle,u.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,"ellipse"===d.type&&(u.curveFitting=1),u;case "line":case "draw":return $h(d.points)&&
(u.fillStyle=d.fillStyle,u.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),u;case "arrow":return u;default:throw Error("Unimplemented type ".concat(d.type));}},Xj=function(d,u){var w=ti.get(d)||null;if(!w){switch(Ek.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){w=d.width;var H=d.height,T=.25*Math.min(w,H);w=u.path("M ".concat(T," 0 L ").concat(w-T," 0 Q ").concat(w," 0, ").concat(w," ").concat(T," L ").concat(w," ").concat(H-T," Q ").concat(w," ").concat(H,", ").concat(w-
T," ").concat(H," L ").concat(T," ").concat(H," Q 0 ").concat(H,", 0 ").concat(H-T," L 0 ").concat(T," Q 0 0, ").concat(T," 0"),Nh(d))}else w=u.rectangle(0,0,d.width,d.height,Nh(d));break;case "diamond":w=function(xa){var va=Math.floor(xa.width/2)+1,Ca=Math.floor(xa.height/2)+1;return[va,0,xa.width,Ca,va,xa.height,0,Ca]}(d);w=u.polygon([[w[0],w[1]],[w[2],w[3]],[w[4],w[5]],[w[6],w[7]]],Nh(d));break;case "ellipse":w=u.ellipse(d.width/2,d.height/2,d.width,d.height,Nh(d));break;case "line":case "draw":case "arrow":var aa=
Nh(d);w=d.points.length?d.points:[[0,0]];if(w="sharp"===d.strokeSharpness?aa.fill?[u.polygon(w,aa)]:[u.linearPath(w,aa)]:[u.curve(w,aa)],"arrow"===d.type){H=d.startArrowhead;H=void 0===H?null:H;T=d.endArrowhead;T=void 0===T?"arrow":T;function xa(va,Ca,Ra,Ja){Ca=function(cc,Xb,vc,Zc){Xb=Fi(Xb[0]);if(1>Xb.length)return null;var ed="start"===vc?1:Xb.length-1,nd=Xb[ed].data,ce=[nd[4],nd[5]],ae=[nd[2],nd[3]],Be=[nd[0],nd[1]];Xb=Xb[ed-1];var ye=[0,0];"move"===Xb.op?ye=Xb.data:"bcurveTo"===Xb.op&&(ye=[Xb.data[4],
Xb.data[5]]);ed=function(sd,Rd){return Math.pow(1-sd,3)*ce[Rd]+3*sd*Math.pow(1-sd,2)*ae[Rd]+3*Math.pow(sd,2)*(1-sd)*Be[Rd]+ye[Rd]*Math.pow(sd,3)};Xb="start"===vc?ye:ce;vc=Xb[0];Xb=Xb[1];nd=[ed(.3,0),ed(.3,1)];ed=nd[0];nd=nd[1];var Ve=Math.hypot(vc-ed,Xb-nd);ed=(vc-ed)/Ve;nd=(Xb-nd)/Ve;Ve={arrow:30,bar:15,dot:15}[Zc];cc=cc.points.reduce(function(sd,Rd,$d,Me){$d=0<$d?Me[$d-1]:[0,0];return sd+Math.hypot(Rd[0]-$d[0],Rd[1]-$d[1])},0);Ve=Math.min(Ve,cc/2);cc=vc-ed*Ve;ed=Xb-nd*Ve;if("dot"===Zc)return[vc,
Xb,Math.hypot(ed-Xb,cc-vc)];nd={arrow:20,bar:90}[Zc];Ve=Bf(cc,ed,vc,Xb,-nd*Math.PI/180);Zc=Ve[0];Ve=Ve[1];cc=Bf(cc,ed,vc,Xb,nd*Math.PI/180);return[vc,Xb,Zc,Ve,cc[0],cc[1]]}(va,Ca,Ra,Ja);if(null===Ca)return[];if("dot"===Ja)return[u.circle(Ca[0],Ca[1],Ca[2],Cb(Cb({},aa),{},{fill:va.strokeColor,fillStyle:"solid"}))];Ja=Ca[0];Ra=Ca[1];var hb=Ca[2],nb=Ca[3],ob=Ca[4];Ca=Ca[5];return"dotted"===va.strokeStyle?aa.strokeLineDash=[3,4]:delete aa.strokeLineDash,[u.line(hb,nb,Ja,Ra,aa),u.line(ob,Ca,Ja,Ra,aa)]}
null!==H&&(H=xa(d,w,"start",H),w.push.apply(w,H));null!==T&&(H=xa(d,w,"end",T),w.push.apply(w,H))}break;case "text":w=[]}ti.set(d,w)}},gn=function(d,u,w,H,T){var aa=u.generator;switch(d.type){case "selection":w.translate(d.x+T.scrollX,d.y+T.scrollY);u=w.fillStyle;w.fillStyle="rgba(0, 0, 255, 0.10)";w.fillRect(0,0,d.width,d.height);w.fillStyle=u;w.translate(-d.x-T.scrollX,-d.y-T.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Xj(d,aa),
H){u=T?T.zoom:kg.zoom;aa=(H=Ek.get(d))&&H.canvasZoom!==u.value&&!(null!=T&&T.shouldCacheIgnoreZoom);if(!H||aa){H=document.createElement("canvas");aa=H.getContext("2d");var xa=0,va=0;if(Cg(d)){xa=bg(d);var Ca=xa[0];va=xa[1];var Ra=xa[3];H.width=Math.abs(Ca-xa[2])*window.devicePixelRatio*u.value+40*u.value;H.height=Math.abs(va-Ra)*window.devicePixelRatio*u.value+40*u.value;xa=d.x>Ca?Math.floor(Math.abs(d.x-Ca))*window.devicePixelRatio*u.value:0;va=d.y>va?Math.floor(Math.abs(d.y-va))*window.devicePixelRatio*
u.value:0;aa.translate(xa,va)}else H.width=d.width*window.devicePixelRatio*u.value+40*u.value,H.height=d.height*window.devicePixelRatio*u.value+40*u.value;aa.translate(20*u.value,20*u.value);aa.scale(window.devicePixelRatio*u.value,window.devicePixelRatio*u.value);Ca=Fh.canvas(H);u=(ai(d,Ca,aa),aa.translate(-20*u.value,-20*u.value),aa.scale(1/(window.devicePixelRatio*u.value),1/(window.devicePixelRatio*u.value)),{element:d,canvas:H,canvasZoom:u.value,canvasOffsetX:xa,canvasOffsetY:va});d=(Ek.set(d,
u),u)}else d=H;u=d.element;xa=bg(u);H=xa[0];aa=xa[1];va=xa[2];xa=xa[3];Ca=((H+va)/2+T.scrollX)*window.devicePixelRatio;T=((aa+xa)/2+T.scrollY)*window.devicePixelRatio;w.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);w.translate(Ca,T);w.rotate(u.angle);w.drawImage(d.canvas,-(va-H)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(xa-aa)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);w.rotate(-u.angle);w.translate(-Ca,
-T);w.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else aa=bg(d),va=aa[0],H=aa[1],xa=aa[2],Ca=aa[3],aa=(va+xa)/2+T.scrollX,T=(H+Ca)/2+T.scrollY,va=(xa-va)/2-(d.x-va),H=(Ca-H)/2-(d.y-H),w.translate(aa,T),w.rotate(d.angle),w.translate(-va,-H),ai(d,u,w),w.translate(va,H),w.rotate(-d.angle),w.translate(-aa,-T);break;default:throw Error("Unimplemented type ".concat(d.type));}},qh=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}
return d.mapElementToScene=function(u,w){"string"==typeof u?this.sceneMapById.set(u,w):this.sceneMapByElement.set(u,w)},d.getScene=function(u){return"string"==typeof u?this.sceneMapById.get(u)||null:this.sceneMapByElement.get(u)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=function(u){return this.elementsMap.get(u)||null},d.prototype.getNonDeletedElement=function(u){return(u=
this.getElement(u))&&!u.isDeleted?u:null},d.prototype.getNonDeletedElements=function(u){var w=this,H=[];return u.forEach(function(T){T=w.getNonDeletedElement(T);null!=T&&H.push(T)}),H},d.prototype.replaceAllElements=function(u){var w=this;this.elements=u;this.elementsMap.clear();u.forEach(function(H){w.elementsMap.set(H.id,H);d.mapElementToScene(H,w)});this.nonDeletedElements=Wd(this.elements);this.informMutation()},d.prototype.informMutation=function(){for(var u=0,w=Array.from(this.callbacks);u<
w.length;u++)(0,w[u])()},d.prototype.addCallback=function(u){var w=this;if(this.callbacks.has(u))throw Error();return this.callbacks.add(u),function(){if(!w.callbacks.has(u))throw Error();w.callbacks.delete(u)}},d.prototype.destroy=function(){var u=this;d.sceneMapById.forEach(function(w,H){w===u&&d.sceneMapById.delete(H)});this.callbacks.clear()},d}();qh.sceneMapByElement=new WeakMap;qh.sceneMapById=new Map;var Hm=new Ue(Date.now()),Yj=function(){return Math.floor(Hm.next()*Math.pow(2,31))},ui=function(){return((d=
21)=>{let u="",w=crypto.getRandomValues(new Uint8Array(d));for(;d--;){let H=63&w[d];u+=36>H?H.toString(36):62>H?(H-26).toString(36).toUpperCase():63>H?"_":"-"}return u})()},af=function(d,u){var w,H=!1,T=u.points,aa;for(aa in void 0!==T&&(u=fb(fb({},function(ob){var cc=ob.map(function(Xb){return Xb[0]});ob=ob.map(function(Xb){return Xb[1]});return{width:Math.max.apply(Math,cc)-Math.min.apply(Math,cc),height:Math.max.apply(Math,ob)-Math.min.apply(Math,ob)}}(T)),u)),u){var xa=u[aa];if(void 0!==xa&&(d[aa]!==
xa||"object"==typeof xa&&null!==xa&&"groupIds"!==aa)){if("points"===aa){var va=d[aa],Ca=xa;if(va.length===Ca.length){for(var Ra=!1,Ja=va.length;--Ja;){var hb=va[Ja],nb=Ca[Ja];if(hb[0]!==nb[0]||hb[1]!==nb[1]){Ra=!0;break}}if(!Ra)continue}}d[aa]=xa;H=!0}}H&&(void 0===u.height&&void 0===u.width&&void 0===T||ti.delete(d),d.version++,d.versionNonce=Yj(),null===(w=qh.getScene(d))||void 0===w||w.informMutation())},ug=function(d,u){return fb(fb(fb({},d),u),{},{version:d.version+1,versionNonce:Yj()})},Lh=
function(d){return Cg(d)?2>d.points.length:0===d.width&&0===d.height},Je=function(d,u,w){var H=Math.abs(u),T=Math.abs(w);"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(T/H)/Ta.ay)*Ta.ay,0===d?w=0:d===Math.PI/2?u=0:w=Math.round(H*Math.tan(d))*Math.sign(w)||w):"selection"!==d&&(w=H*Math.sign(w));return{width:u,height:w}},Fl=function(d){var u={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var w=Math.abs(d.width);u.width=w;u.x=d.x-w}0>d.height&&(w=Math.abs(d.height),u.height=w,
u.y=d.y-w);return u},Jf=h(5474),Ph=h.n(Jf),ql=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},ak=function(d,u,w){var H,T;w=w.filter(function(aa){return aa.groupIds.includes(d)});return 2>w.length?u.selectedGroupIds[d]||u.editingGroupId===d?Oa(Oa({},u),{},{selectedGroupIds:Oa(Oa({},u.selectedGroupIds),{},(H={},H[d]=!1,H)),editingGroupId:null}):u:Oa(Oa({},u),{},{selectedGroupIds:Oa(Oa({},u.selectedGroupIds),{},(T={},T[d]=!0,T)),selectedElementIds:Oa(Oa({},u.selectedElementIds),
Object.fromEntries(w.map(function(aa){return[aa.id,!0]})))})},rh=function(d,u){return u.groupIds.filter(function(w){return w!==d.editingGroupId}).find(function(w){return d.selectedGroupIds[w]})},Ji=function(d){return Object.entries(d.selectedGroupIds).filter(function(u){u[0];return u[1]}).map(function(u){var w=u[0];u[1];return w})},Qh=function(d,u){for(var w=Oa({},d),H=0,T=nf(u,d);H<T.length;H++){var aa=T[H].groupIds;if(d.editingGroupId){var xa=aa.indexOf(d.editingGroupId);-1<xa&&(aa=aa.slice(0,xa))}0<
aa.length&&(w=ak(aa[aa.length-1],w,u))}return w},bk=function(d,u){return d.filter(function(w){return w.groupIds.includes(u)})},rj=function(d,u){var w,H,T=u.x,aa=u.y,xa=u.strokeColor,va=u.backgroundColor,Ca=u.fillStyle,Ra=u.strokeWidth,Ja=u.strokeStyle,hb=u.roughness,nb=u.opacity,ob=u.width;ob=void 0===ob?0:ob;var cc=u.height;cc=void 0===cc?0:cc;var Xb=u.angle;Xb=void 0===Xb?0:Xb;var vc=u.groupIds;vc=void 0===vc?[]:vc;var Zc=u.strokeSharpness,ed=u.boundElementIds;ed=void 0===ed?null:ed;u=Ph()(u,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:u.id||ui(),type:d,x:T,y:aa,width:ob,height:cc,angle:Xb,strokeColor:xa,backgroundColor:va,fillStyle:Ca,strokeWidth:Ra,strokeStyle:Ja,roughness:hb,opacity:nb,groupIds:vc,strokeSharpness:Zc,seed:null!==(w=u.seed)&&void 0!==w?w:Yj(),version:u.version||1,versionNonce:null!==(H=u.versionNonce)&&void 0!==H?H:0,isDeleted:!1,boundElementIds:ed}},Hl=function(d){return rj(d.type,d)},Rh=function(d,u){return{x:"center"===d.textAlign?u.width/2:"right"===d.textAlign?u.width:0,y:"middle"===d.verticalAlign?
u.height/2:0}},Dj=function(d){var u=Ti(d.text,Si(d)),w=Rh(d,u);return ug(Ga(Ga({},rj("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-w.x,y:d.y-w.y,width:u.width,height:u.height,baseline:u.baseline}),{})},Ke=function(d){return Ga(Ga({},rj(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},Ej=function(d,u){if(void 0===
u&&(u=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var w="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},H;for(H in d)d.hasOwnProperty(H)&&(0!==u||"shape"!==H&&"canvas"!==H)&&(w[H]=Ej(d[H],u+1));return w}if(Array.isArray(d)){w=d.length;for(H=Array(w);w--;)H[w]=Ej(d[w],u+1);return H}return d},Vi=function(d,u,w,H){w=Ej(w);return w.id=ui(),w.seed=Yj(),w.groupIds=function(T,aa,xa){var va=ql([],T);aa=aa?T.indexOf(aa):-1;T=
-1<aa?aa:T.length;for(aa=0;aa<T;aa++)va[aa]=xa(va[aa]);return va}(w.groupIds,d,function(T){return u.has(T)||u.set(T,ui()),u.get(T)}),H&&(w=Object.assign(w,H)),w},Ee={mouse:8,pen:16,touch:28},rl={e:!0,s:!0,n:!0,w:!0},Jl={e:!0,s:!0,n:!0,w:!0},Sh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},sj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},Yg=function(d,u,w,H,T,aa,xa){d=Bf(d+w/2,u+H/2,T,aa,xa);return[d[0]-w/2,d[1]-H/2,w,H]},Ck=function(d,u,w,H,T){var aa=d[0],xa=d[1],va=d[2];d=d[3];void 0===T&&(T={});var Ca=Ee[H];H=Ca/w.value;
var Ra=Ca/w.value,Ja=Ca/w.value,hb=Ca/w.value,nb=va-aa,ob=d-xa,cc=(aa+va)/2,Xb=(xa+d)/2,vc=4/w.value;Ca=(Ca-8)/(2*w.value);var Zc={nw:T.nw?void 0:Yg(aa-vc-Ja+Ca,xa-vc-hb+Ca,H,Ra,cc,Xb,u),ne:T.ne?void 0:Yg(va+vc-Ca,xa-vc-hb+Ca,H,Ra,cc,Xb,u),sw:T.sw?void 0:Yg(aa-vc-Ja+Ca,d+vc-Ca,H,Ra,cc,Xb,u),se:T.se?void 0:Yg(va+vc-Ca,d+vc-Ca,H,Ra,cc,Xb,u),rotation:T.rotation?void 0:Yg(aa+nb/2-H/2,xa-vc-hb+Ca-16/w.value,H,Ra,cc,Xb,u)};w=5*Ee.mouse/w.value;return Math.abs(nb)>w&&(T.n||(Zc.n=Yg(aa+nb/2-H/2,xa-vc-hb+
Ca,H,Ra,cc,Xb,u)),T.s||(Zc.s=Yg(aa+nb/2-H/2,d+vc-Ca,H,Ra,cc,Xb,u))),Math.abs(ob)>w&&(T.w||(Zc.w=Yg(aa-vc-Ja+Ca,xa+ob/2-Ra/2,H,Ra,cc,Xb,u)),T.e||(Zc.e=Yg(va+vc-Ca,xa+ob/2-Ra/2,H,Ra,cc,Xb,u))),Zc},pj=function(d,u,w){void 0===w&&(w="mouse");var H={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var T=d.points[1];0===T[0]||0===T[1]?H=sj:0<T[0]&&0>T[1]?H=Sh:0<T[0]&&0<T[1]?H=sj:0>T[0]&&0<T[1]?H=Sh:0>T[0]&&0>T[1]&&(H=sj)}}else"text"===d.type&&(H=Jl);return Ck(bg(d),d.angle,
u,w,H)},xi=function(d,u){return[0,0,0,0,u,d,1,0]},Rg=function(d,u){void 0===d&&(d=0);void 0===u&&(u=0);var w=[0,0,0,0,0,0,0,0];if(0>u||7<u)throw Error("Expected `index` betwen 0 and 7, got `".concat(u,"`"));return 0!==d&&(w[u]=d),w},Gh=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},pl=function(d,u){return"number"==typeof u?[d[0]-u,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-u[0],d[1]-u[1],d[2]-u[2],d[3]-u[3],d[4]-u[4],d[5]-u[5],d[6]-u[6],d[7]-u[7]]},Gk=function(d,u){return"number"==
typeof u?[d[0]*u,d[1]*u,d[2]*u,d[3]*u,d[4]*u,d[5]*u,d[6]*u,d[7]*u]:[u[0]*d[0]+u[2]*d[2]+u[3]*d[3]-u[6]*d[6],u[1]*d[0]+u[0]*d[1]-u[4]*d[2]+u[5]*d[3]+u[2]*d[4]-u[3]*d[5]-u[7]*d[6]-u[6]*d[7],u[2]*d[0]+u[0]*d[2]-u[6]*d[3]+u[3]*d[6],u[3]*d[0]+u[6]*d[2]+u[0]*d[3]-u[2]*d[6],u[4]*d[0]+u[2]*d[1]-u[1]*d[2]+u[7]*d[3]+u[0]*d[4]+u[6]*d[5]-u[5]*d[6]+u[3]*d[7],u[5]*d[0]-u[3]*d[1]+u[7]*d[2]+u[1]*d[3]-u[6]*d[4]+u[0]*d[5]+u[4]*d[6]+u[2]*d[7],u[6]*d[0]+u[3]*d[2]-u[2]*d[3]+u[0]*d[6],u[7]*d[0]+u[6]*d[1]+u[5]*d[2]+u[4]*
d[3]+u[3]*d[4]+u[2]*d[5]+u[1]*d[6]+u[0]*d[7]]},fk=function(d,u){return[Fj(d,u),d[1]*u[7]+d[4]*u[5]-d[5]*u[4]+d[7]*u[1],d[2]*u[7]-d[4]*u[6]+d[6]*u[4]+d[7]*u[2],d[3]*u[7]+d[5]*u[6]-d[6]*u[5]+d[7]*u[3],d[4]*u[7]+d[7]*u[4],d[5]*u[7]+d[7]*u[5],d[6]*u[7]+d[7]*u[6],d[7]*u[7]]},Fj=function(d,u){return d[0]*u[7]+d[1]*u[6]+d[2]*u[5]+d[3]*u[4]+d[4]*u[3]+d[5]*u[2]+d[6]*u[1]+d[7]*u[0]},Km=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},gj=function(d){var u=Km(d);return 0===u||
1===u?d:Gk(d,(0>d[6]?-1:1)/u)},Gl=(Rg(1,1),Rg(1,2),Rg(1,3),Rg(1,4),Rg(1,5),Rg(1,6),Rg(1,7),function(d,u,w){return gj([0,w,d,u,0,0,0,0])}),ck=function(d,u){return w=d,[(H=u)[0]*w[0]+H[2]*w[2]+H[3]*w[3]-H[6]*w[6],H[1]*w[0]+H[0]*w[1]-H[4]*w[2]+H[5]*w[3]+H[2]*w[4]-H[3]*w[5]-H[7]*w[6]-H[6]*w[7],H[2]*w[0]+H[0]*w[2]-H[6]*w[3]+H[3]*w[6],H[3]*w[0]+H[6]*w[2]+H[0]*w[3]-H[2]*w[6],H[4]*w[0]+H[7]*w[3]+H[0]*w[4]+H[3]*w[7],H[5]*w[0]+H[7]*w[2]+H[0]*w[5]+H[2]*w[7],H[6]*w[0]+H[0]*w[6],H[7]*w[0]+H[0]*w[7]];var w,H},
dk=function(d){return[0,0,0,0,d[1],d[0],1,0]},ci=function(d){return[d[5],d[4]]},ij=function(d,u){return w=Gk(d,Math.sin(u/2)),H=Math.cos(u/2),"number"==typeof H?[w[0]+H,w[1],w[2],w[3],w[4],w[5],w[6],w[7]]:[w[0]+H[0],w[1]+H[1],w[2]+H[2],w[3]+H[3],w[4]+H[4],w[5]+H[5],w[6]+H[6],w[7]+H[7]];var w,H},Ki=function(d,u){return gj(Gk(Gk(d,u),Gh(d)))},Ik=function(d,u,w,H){var T=10/u.zoom.value;return!ek(d,u,[w,H])&&Kl(d,[w,H],T)},ek=function(d,u,w){u=10/u.zoom.value;if("text"===d.type)var H=$l;else"arrow"===
d.type?H=!1:(H="transparent"!==d.backgroundColor,H="line"===d.type||"draw"===d.type?H&&$h(d.points):H),H=H?hk:Fk;return hj({element:d,point:w,threshold:u,check:H})},Kl=function(d,u,w){var H=u[0],T=u[1],aa=bg(d);u=aa[0];var xa=aa[1],va=aa[2];aa=aa[3];H=Bf(H,T,(u+va)/2,(xa+aa)/2,-d.angle);d=H[0];H=H[1];return d>u-w&&d<va+w&&H>xa-w&&H<aa+w},Jk=function(d,u){var w=u.x;u=u.y;var H=Wi(d,d.width,d.height);return hj({element:d,point:[w,u],threshold:H,check:Fn})},Wi=function(d,u,w){return Math.max(16,Math.min(.25*
("diamond"===d.type?1/Math.sqrt(2):1)*Math.min(u,w),32))},hj=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var u=Zl(d.element,d.point);return d.check(u,d.threshold);case "arrow":case "line":case "draw":return bo(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Zl=function(d,u){switch(d.type){case "rectangle":case "text":var w=Ri(d,u),H=w[1],T=w[2];d=Math;u=d.max;w=Gl(0,1,-w[3]);w=Fj(H,w);T=Gl(1,
0,-T);H=Fj(H,T);return u.call(d,w,H);case "diamond":return H=Ri(d,u),d=H[1],u=H[2],H=H[3],u=Gl(H,u,-H*u),Fj(d,u);case "ellipse":return d=jn(d,u),u=d[1],-Math.sign(u[1])*Fj(d[0],u)}},$l=function(d,u){return 0>d},hk=function(d,u){return d<u},Fk=function(d,u){return Math.abs(d)<u},Fn=function(d,u){return 0<=d&&d<u},jn=function(d,u){u=Ri(d,u);d=u[1];var w=u[2],H=u[3];u=ci(d);var T=u[0],aa=u[1],xa=.707,va=.707;[0,1,2,3].forEach(function(Ca){Ca=(w*w-H*H)*Math.pow(xa,3)/w;var Ra=(H*H-w*w)*Math.pow(va,3)/
H,Ja=T-Ca,hb=aa-Ra,nb=Math.hypot(H*va-Ra,w*xa-Ca),ob=Math.hypot(hb,Ja);xa=Math.min(1,Math.max(0,(Ja*nb/ob+Ca)/w));va=Math.min(1,Math.max(0,(hb*nb/ob+Ra)/H));Ca=Math.hypot(va,xa);xa/=Ca;va/=Ca});u=xi(w*xa,H*va);return[d,ck(gj(fk(u,d)),u)]},bo=function(d){var u=d.element,w=d.threshold;if(!ti.get(u))return!1;var H=Ri(d.element,d.point),T=H[0],aa=H[1],xa=H[2];H=Gl(0,1,-H[3]);xa=Gl(1,0,-xa);if(!hk(Fj(aa,H),w)||!hk(Fj(aa,xa),w))return!1;T=ci(T);var va=T[0],Ca=T[1];T=ti.get(u);return d.check===hk&&T.some(function(Ra){var Ja=
u.strokeSharpness;var hb=[],nb=!1,ob=0;for(Ra=Fi(Ra);ob<Ra.length;ob++){var cc=Ra[ob];"move"===cc.op?(nb=!nb)&&hb.push([cc.data[0],cc.data[1]]):"bcurveTo"===cc.op&&nb&&(hb.push([cc.data[0],cc.data[1]]),hb.push([cc.data[2],cc.data[3]]),hb.push([cc.data[4],cc.data[5]]))}4<=hb.length?"sharp"===Ja?Ja=Ci(hb,va,Ca):(Ja=I(hb,10,5),Ja=Ci(Ja,va,Ca)):Ja=!1;return Ja})?!0:T.some(function(Ra){return Sk(Ra,va,Ca,w)})},Ri=function(d,u){var w,H=dk(u);u=bg(d);var T=Ml(u),aa=ij(T,d.angle);H=Ki(aa,H);T=pl(H,[0,0,0,
0,T[4],T[5],0,0]);T=[0,0,0,0,Math.abs(T[4]),Math.abs(T[5]),1,0];d=(w=d.x,[0,0,0,0,d.y,w,0,0]);return[pl(H,d),T,(u[2]-u[0])/2,(u[3]-u[1])/2]},El=function(d){var u=bg(d);u=Ml(u);d=ij(u,d.angle);u=[0,0,0,0,u[4],u[5],0,0];u=Gh([1,0,0,0,-.5*u[5],.5*u[4],0,0]);return Gk(u,d)},Ml=function(d){return xi((d[0]+d[2])/2,(d[1]+d[3])/2)},xk=function(d,u,w,H){switch(void 0===H&&(H=0),d.type){case "rectangle":case "text":case "diamond":var T=xg(d);var aa=T.flatMap(function(xa,va){va=[xa,T[(va+1)%4]];var Ca=H;xa=
va[0];va=va[1];var Ra=[0,0,0,0,va[4]-xa[4],va[5]-xa[5],0,0];var Ja=Math.sqrt(Math.abs(Ra[7]*Ra[7]-Ra[5]*Ra[5]-Ra[4]*Ra[4]+Ra[1]*Ra[1]));Ra=0===Ja||1===Ja?Ra:Gk(Ra,1/Ja);Ca*=.5;Ca=[1,0,0,0,Ca*Ra[4],Ca*Ra[5],0,0];va=[Ki(Ca,xa),Ki(Ca,va)];xa=va[0];va=va[1];if(0<=Fj(xa,u)*Fj(va,u))var hb=[];else{a:{xa=gj(fk(va,xa));xa=gj((hb=u,[(nb=xa)[0]*hb[0],nb[1]*hb[0]+nb[0]*hb[1],nb[2]*hb[0]+nb[0]*hb[2],nb[3]*hb[0]+nb[0]*hb[3],nb[4]*hb[0]+nb[2]*hb[1]-nb[1]*hb[2]+nb[0]*hb[4],nb[5]*hb[0]-nb[3]*hb[1]+nb[1]*hb[3]+nb[0]*
hb[5],nb[6]*hb[0]+nb[3]*hb[2]-nb[2]*hb[3]+nb[0]*hb[6],nb[7]*hb[0]+nb[6]*hb[1]+nb[5]*hb[2]+nb[4]*hb[3]+nb[3]*hb[4]+nb[2]*hb[5]+nb[1]*hb[6]]));break a;var nb}hb=[xa]}return hb}).concat(T.flatMap(function(xa){var va=H;if(0===va)var Ca=0===Fj(u,xa)?[xa]:[];else{Ca=u[2];var Ra=u[3],Ja=u[1],hb=ci(xa);xa=hb[0];var nb=hb[1];hb=Ca*Ca+Ra*Ra;va=va*va*hb-Math.pow(Ca*xa+Ra*nb+Ja,2);if(0===hb||0>=va)Ca=[];else{va=Math.sqrt(va);var ob=xa*Ra*Ra-nb*Ca*Ra-Ca*Ja;Ja=nb*Ca*Ca-xa*Ca*Ra-Ra*Ja;Ca=[xi((ob+Ra*va)/hb,(Ja-Ca*
va)/hb),xi((ob-Ra*va)/hb,(Ja+Ca*va)/hb)]}}return Ca}));break;case "ellipse":aa=Di(d,H,u)}if(2>aa.length)return[];d=aa.sort(function(xa,va){return Km(fk(xa,w))-Km(fk(va,w))});return[d[0],d[d.length-1]]},xg=function(d,u){void 0===u&&(u=1);var w=u*d.width/2;u=u*d.height/2;switch(d.type){case "rectangle":case "text":return[xi(w,u),xi(w,-u),xi(-w,-u),xi(-w,u)];case "diamond":return[xi(0,u),xi(w,0),xi(0,-u),xi(-w,0)]}},Di=function(d,u,w){var H=d.width/2+u;d=d.height/2+u;u=w[2];var T=w[3],aa=w[1];w=H*H*
u*u+d*d*T*T;var xa=w-aa*aa;if(0===w||0>=xa)return[];xa=Math.sqrt(xa);var va=-H*H*u*aa;aa*=-d*d*T;return[xi((va+H*d*T*xa)/w,(aa-H*d*u*xa)/w),xi((va-H*d*T*xa)/w,(aa+H*d*u*xa)/w)]},fh=function(d,u,w){var H=Math.sign(u),T=0,aa=null;return xg(d,Math.abs(u)).forEach(function(xa){var va=H*gj(fk(xa,w))[1];va>T&&(T=va,aa=xa)}),aa},Sk=function(d,u,w,H){var T=[0,0];return Fi(d).some(function(aa,xa){xa=aa.op;var va=aa.data;if("move"===xa)T=va;else if("bcurveTo"===xa){aa=[va[0],va[1]];xa=[va[2],va[3]];va=[va[4],
va[5]];var Ca=T;return T=va,function(Ra,Ja,hb,nb,ob,cc){var Xb=ob[0];ob=ob[1];for(var vc=function(ce,ae){return Math.pow(1-ce,3)*nb[ae]+3*ce*Math.pow(1-ce,2)*hb[ae]+3*Math.pow(ce,2)*(1-ce)*Ja[ae]+Ra[ae]*Math.pow(ce,3)},Zc=0;1>=Zc;){var ed=vc(Zc,0),nd=vc(Zc,1);if(Math.sqrt(Math.pow(ed-Xb,2)+Math.pow(nd-ob,2))<cc)return!0;Zc+=.01}return!1}(Ca,aa,xa,va,[u,w],H)}return!1})},Xg=function(d,u,w){return u>=d[0]&&u<=d[0]+d[2]&&w>=d[1]&&w<=d[1]+d[3]},Li=function(d,u,w,H,T,aa){return d.reduce(function(xa,va){return xa?
xa:(xa=function(Ca,Ra,Ja,hb,nb,ob){if(!Ra.selectedElementIds[Ca.id])return!1;Ca=pj(Ca,nb,ob);Ra=Ca.rotation;var cc=Ph()(Ca,["rotation"]);if(Ra&&Xg(Ra,Ja,hb))return"rotation";Ca=Object.keys(cc).filter(function(Xb){Xb=cc[Xb];return!!Xb&&Xg(Xb,Ja,hb)});return 0<Ca.length&&Ca[0]}(va,u,w,H,T,aa))?{element:va,transformHandleType:xa}:null},null)},gf=function(d,u,w,H,T){var aa=Ck([d[0],d[1],d[2],d[3]],0,H,T,rl);return Object.keys(aa).find(function(xa){return(xa=aa[xa])&&Xg(xa,u,w)})||!1},sh=["ns","nesw",
"ew","nwse"],we=function(d){var u=d.element,w=u&&-1==Math.sign(u.height)*Math.sign(u.width),H=null;switch(d.transformHandleType){case "n":case "s":H="ns";break;case "w":case "e":H="ew";break;case "nw":case "se":H=w?"nesw":"nwse";break;case "ne":case "sw":H=w?"nwse":"nesw";break;case "rotation":return"grab"}H&&u&&(d=H,u=u.angle,w=sh.indexOf(d),0<=w&&(d=sh[(w+Math.round(u/(Math.PI/4)))%sh.length]),H=d);return H?"".concat(H,"-resize"):""},Yk=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=
u[w];return d},Xf=function(){function d(u,w){this.elementId=u.id;qh.mapElementToScene(this.elementId,w);d.normalizePoints(u);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(u){var w;return(null===(w=qh.getScene(u))||void 0===w?void 0:w.getNonDeletedElement(u))||null},d.handlePointDragging=function(u,w,H,T,aa){if(!u.editingLinearElement)return!1;var xa=u.editingLinearElement,
va=xa.activePointIndex,Ca=xa.isDragging,Ra=d.getElement(xa.elementId);return Ra?null!=va&&-1<va?(!1===Ca&&w({editingLinearElement:cb(cb({},xa),{},{isDragging:!0})}),u=d.createPointAt(Ra,H-xa.pointerOffset.x,T-xa.pointerOffset.y,u.gridSize),d.movePoint(Ra,va,u),jg(Ra)&&aa(Ra,0===va?"start":"end"),!0):!1:!1},d.handlePointerUp=function(u,w,H){u=w.activePointIndex;var T=w.isDragging,aa=d.getElement(w.elementId);if(!aa)return w;var xa={};!T||0!==u&&u!==aa.points.length-1||($h(aa.points,H.zoom.value)&&
d.movePoint(aa,u,0===u?aa.points[aa.points.length-1]:aa.points[0]),T=H.isBindingEnabled?Wh(Ag(d.getPointAtIndexGlobalCoordinates(aa,u)),qh.getScene(aa)):null,(H={})[0===u?"startBindingElement":"endBindingElement"]=T,xa=H);return cb(cb(cb({},w),xa),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(u,w,H,T,aa){var xa={didAddPoint:!1,hitElement:null};if(!w.editingLinearElement)return xa;var va=d.getElement(w.editingLinearElement.elementId);if(!va)return xa;if(u.altKey)return null==
w.editingLinearElement.lastUncommittedPoint&&af(va,{points:Yk(Yk([],va.points),[d.createPointAt(va,aa.x,aa.y,w.gridSize)])}),T.resumeRecording(),H({editingLinearElement:cb(cb({},w.editingLinearElement),{},{activePointIndex:va.points.length-1,lastUncommittedPoint:null,endBindingElement:Wh(aa,qh.getScene(va))})}),xa.didAddPoint=!0,xa;u=d.getPointIndexUnderCursor(va,w.zoom,aa.x,aa.y);if(-1<u)xa.hitElement=va;else{var Ca=w.editingLinearElement;T=Ca.startBindingElement;Ca=Ca.endBindingElement;w.isBindingEnabled&&
jg(va)&&Kf(va,T,Ca)}Ca=bg(va);T=(Ca[0]+Ca[2])/2;Ca=(Ca[1]+Ca[3])/2;va=-1<u&&Bf(va.x+va.points[u][0],va.y+va.points[u][1],T,Ca,va.angle);return H({editingLinearElement:cb(cb({},w.editingLinearElement),{},{activePointIndex:-1<u?u:null,pointerOffset:va?{x:aa.x-va[0],y:aa.y-va[1]}:{x:0,y:0}})}),xa},d.handlePointerMove=function(u,w,H,T,aa){var xa=T.lastUncommittedPoint,va=d.getElement(T.elementId);if(!va)return T;var Ca=va.points,Ra=Ca[Ca.length-1];if(!u.altKey)return Ra===xa&&d.movePoint(va,Ca.length-
1,"delete"),cb(cb({},T),{},{lastUncommittedPoint:null});u=d.createPointAt(va,w-T.pointerOffset.x,H-T.pointerOffset.y,aa);return Ra===xa?d.movePoint(va,va.points.length-1,u):d.movePoint(va,"new",u),cb(cb({},T),{},{lastUncommittedPoint:va.points[va.points.length-1]})},d.getPointsGlobalCoordinates=function(u){var w=bg(u),H=(w[0]+w[2])/2,T=(w[1]+w[3])/2;return u.points.map(function(aa){var xa;return[(xa=Bf(u.x+aa[0],u.y+aa[1],H,T,u.angle))[0],xa[1]]})},d.getPointAtIndexGlobalCoordinates=function(u,w){var H=
0>w?u.points.length+w:w;w=bg(u);H=u.points[H];return Bf(u.x+H[0],u.y+H[1],(w[0]+w[2])/2,(w[1]+w[3])/2,u.angle)},d.pointFromAbsoluteCoords=function(u,w){var H=bg(u);w=Bf(w[0],w[1],(H[0]+H[2])/2,(H[1]+H[3])/2,-u.angle);return[w[0]-u.x,w[1]-u.y]},d.getPointIndexUnderCursor=function(u,w,H,T){u=this.getPointsGlobalCoordinates(u);for(var aa=u.length;-1<--aa;){var xa=u[aa];if(Math.hypot(xa[0]-H,xa[1]-T)*w.value<this.POINT_HANDLE_SIZE/2+1)return aa}return-1},d.createPointAt=function(u,w,H,T){w=oi(w,H,T);
H=bg(u);w=Bf(w[0],w[1],(H[0]+H[2])/2,(H[1]+H[3])/2,-u.angle);return[w[0]-u.x,w[1]-u.y]},d.normalizePoints=function(u){var w=u.points,H=w[0][0],T=w[0][1];af(u,{points:w.map(function(aa,xa){return[aa[0]-H,aa[1]-T]}),x:u.x+H,y:u.y+T})},d.movePointByOffset=function(u,w,H){var T=u.points[w];d.movePoint(u,w,[T[0]+H.x,T[1]+H.y])},d.movePoint=function(u,w,H,T){var aa=u.points,xa=0,va=0;if("delete"===H){if("new"===w)throw Error("invalid args in movePoint");(H=aa.slice()).splice(w,1);0===w&&(xa=H[0][0],va=
H[0][1],H=H.map(function(hb,nb){return 0===nb?[0,0]:[hb[0]-xa,hb[1]-va]}))}else if("new"===w)H=Yk(Yk([],aa),[H]);else{var Ca=H[0]-aa[w][0],Ra=H[1]-aa[w][1];H=aa.map(function(hb,nb){return nb===w?0===nb?(xa=Ca,va=Ra,hb):(xa=0,va=0,[hb[0]+Ca,hb[1]+Ra]):xa||va?[hb[0]-xa,hb[1]-va]:hb})}var Ja=qe(u,H,u.strokeSharpness||"round");aa=qe(u,aa,u.strokeSharpness||"round");aa=Bf(xa,va,(aa[0]+aa[2])/2-(Ja[0]+Ja[2])/2,(aa[1]+aa[3])/2-(Ja[1]+Ja[3])/2,u.angle);af(u,cb(cb({},T),{},{points:H,x:u.x+aa[0],y:u.y+aa[1]}))},
d}();Xf.POINT_HANDLE_SIZE=20;var Mm=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},Kf=function(d,u,w){var H=new Set,T=new Set;Dg(d,u,w,"start",H,T);Dg(d,w,u,"end",H,T);u=Array.from(T).filter(function(aa){return!H.has(aa)});qh.getScene(d).getNonDeletedElements(u).forEach(function(aa){var xa;af(aa,{boundElementIds:null===(xa=aa.boundElementIds)||void 0===xa?void 0:xa.filter(function(va){return va!==d.id})})})},Dg=function(d,u,w,H,T,aa){if("keep"!==u)if(null!=u)null!=
w&&("keep"===w?xf(d,u,H):"start"!==H&&w.id===u.id)||(wj(d,u,H),T.add(u.id));else{var xa;u="start"===H?"startBinding":"endBinding";w=d[u];d=null==w?null:(af(d,((xa={})[u]=null,xa)),w.elementId);null!=d&&aa.add(d)}},pg=function(d){d.forEach(function(u){jg(u)?Kf(u,Jg(u,"start"),Jg(u,"end")):vk(u)&&am(u)})},am=function(d){kh(d).forEach(function(u){var w=u[1];return Kf(u[0],"end"===w?"keep":d,"start"===w?"keep":d)})},ik=function(d,u,w,H){null!=u.startBoundElement&&wj(d,u.startBoundElement,"start");u=Wh(H,
w);null==u||xf(d,u,"end")||wj(d,u,"end")},wj=function(d,u,w){var H,T;af(d,((H={})["start"===w?"startBinding":"endBinding"]=function(aa){for(var xa=1;xa<arguments.length;xa++){var va=null!=arguments[xa]?arguments[xa]:{};xa%2?Ob(Object(va),!0).forEach(function(Ca){xe()(aa,Ca,va[Ca])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(va)):Ob(Object(va)).forEach(function(Ca){Object.defineProperty(aa,Ca,Object.getOwnPropertyDescriptor(va,Ca))})}return aa}({elementId:u.id},
Qe(d,u,w)),H));af(u,{boundElementIds:Array.from(new Set(Mm(Mm([],null!==(T=u.boundElementIds)&&void 0!==T?T:[]),[d.id])))})},xf=function(d,u,w){w=d["start"===w?"endBinding":"startBinding"];return(null==w?void 0:w.elementId)===u.id&&3>d.points.length},ah=function(d){d.forEach(function(u){jg(u)&&Kf(u,null,null)})},Wh=function(d,u){return ki(u.getElements(),function(w){return vk(w)&&Jk(w,d)})},Qe=function(d,u,w){var H="start"===w?-1:1;w=-1===H?0:d.points.length-1;H=w-H;w=Xf.getPointAtIndexGlobalCoordinates(d,
w);H=Xf.getPointAtIndexGlobalCoordinates(d,H);a:{d=El(u);H=Ki(d,dk(H));d=Ki(d,dk(w));var T=gj(fk(d,H));d=u.height/u.width;H=u.width/2;var aa=u.height/2,xa=T[2],va=T[3];T=T[1];var Ca=Math.abs(va),Ra=Math.abs(xa);switch(u.type){case "rectangle":case "text":d=T/(H*(Ra+d*Ca));break a;case "diamond":d=Ca<Ra?T/(Ra*H):T/(Ca*aa);break a;case "ellipse":d=T/(H*Math.sqrt(Math.pow(xa,2)+Math.pow(d,2)*Math.pow(va,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,Zl(u,w))}},yi=function(d,u){var w,H=null!==(w=
d.boundElementIds)&&void 0!==w?w:[];if(0!==H.length){u=null!=u?u:{};var T=u.newSize,aa=lj(u.simultaneouslyUpdated);qh.getScene(d).getNonDeletedElements(H).forEach(function(xa){var va,Ca;if((null===(va=xa.startBinding)||void 0===va?void 0:va.elementId)===d.id||(null===(Ca=xa.endBinding)||void 0===Ca?void 0:Ca.elementId)===d.id)va=qf(d,xa.startBinding,T),Ca=qf(d,xa.endBinding,T),aa.has(xa.id)?af(xa,{startBinding:va,endBinding:Ca}):(an(xa,"start",va,d),an(xa,"end",Ca,d))})}},lj=function(d){return new Set((d||
[]).map(function(u){return u.id}))},an=function(d,u,w,H){var T;if(!(null==w||w.elementId!==H.id&&2<d.points.length)){var aa=qh.getScene(d).getElement(w.elementId);if(null!=aa){var xa="start"===u?-1:1;H=-1===xa?0:d.points.length-1;var va=Xf.getPointAtIndexGlobalCoordinates(d,H-xa);xa=function(Ca,Ra,Ja){if(0===Ra){var hb=bg(Ca);hb=Ml(hb);return ci(hb)}hb=El(Ca);Ja=Ki(hb,dk(Ja));hb=Gh(hb);switch(Ca.type){case "rectangle":case "text":case "diamond":var nb=fh(Ca,Ra,Ja);break;case "ellipse":var ob=Math.abs(Ra);
nb=Ca.width*ob/2;Ca=Ca.height*ob/2;Ra=Math.sign(Ra);ob=ci(Ja);Ja=ob[0];ob=ob[1];ob=0===ob?1E-4:ob;var cc=Math.pow(Ja,2)*Math.pow(Ca,2)+Math.pow(ob,2)*Math.pow(nb,2);Ra=(-Ja*Math.pow(Ca,2)+Ra*ob*Math.sqrt(Math.max(0,cc-Math.pow(nb,2)*Math.pow(Ca,2))))/cc;Ja=(-Ra*Ja-1)/ob;nb=-Math.pow(nb,2)*Ra/(Math.pow(Ja,2)*Math.pow(Ca,2)+Math.pow(Ra,2)*Math.pow(nb,2));nb=xi(nb,(-Ra*nb-1)/Ja)}return ci(Ki(hb,nb))}(aa,w.focus,va);0===w.gap?aa=xa:(aa=function(Ca,Ra,Ja,hb){void 0===hb&&(hb=0);var nb=El(Ca);Ra=Ki(nb,
dk(Ra));Ja=Ki(nb,dk(Ja));Ja=gj(fk(Ja,Ra));var ob=Gh(nb);return xk(Ca,Ja,Ra,hb).map(function(cc){return ci(Ki(ob,cc))})}(aa,va,xa,w.gap),aa=0===aa.length?xa:aa[0]);Xf.movePoint(d,H,Xf.pointFromAbsoluteCoords(d,aa),((T={})["start"===u?"startBinding":"endBinding"]=w,T))}}},qf=function(d,u,w){if(null==u||null==w)return u;var H=u.gap,T=u.focus,aa=w.width;w=w.height;var xa=d.width,va=d.height;return{elementId:u.elementId,gap:Math.max(1,Math.min(Wi(d,aa,w),H*(aa<w?aa/xa:w/va))),focus:T}},Bl=function(d){return[Jg(d,
"start"),Jg(d,"end")].filter(function(u){return null!=u})},Jg=function(d,u){return Wh(Ag(Xf.getPointAtIndexGlobalCoordinates(d,"start"===u?0:-1)),qh.getScene(d))},kh=function(d){return qh.getScene(d).getElements().map(function(u){if(!jg(u))return null;var w=Yf(u,"start",d),H=Yf(u,"end",d);return w||H?[u,w&&H?"both":w?"start":"end",d]:null}).filter(function(u){return null!=u})},Yf=function(d,u,w){return null==d["start"===u?"startBinding":"endBinding"]&&!xf(d,w,u)&&Jk(w,Ag(Xf.getPointAtIndexGlobalCoordinates(d,
"start"===u?0:-1)))},Tj=function(d,u,w,H){var T=new Set,aa=new Set,xa="duplicatesServeAsOld"===H;u.forEach(function(va){var Ca=va.boundElementIds;if(null!=Ca&&0<Ca.length&&(Ca.forEach(function(Ra){xa&&!w.has(Ra)&&T.add(Ra)}),aa.add(w.get(va.id))),jg(va))null!=va.startBinding&&(Ca=va.startBinding.elementId,xa&&!w.has(Ca)&&aa.add(Ca)),null!=va.endBinding&&(Ca=va.endBinding.elementId,xa&&!w.has(Ca)&&aa.add(Ca)),null==va.startBinding&&null==va.endBinding||T.add(w.get(va.id))});d.filter(function(va){return T.has(va.id)}).forEach(function(va){var Ca=
va.endBinding;af(va,{startBinding:Bh(va.startBinding,w),endBinding:Bh(Ca,w)})});d.filter(function(va){return aa.has(va.id)}).forEach(function(va){var Ca=va.boundElementIds;null!=Ca&&0<Ca.length&&af(va,{boundElementIds:Ca.map(function(Ra){var Ja;return null!==(Ja=w.get(Ra))&&void 0!==Ja?Ja:Ra})})})},Bh=function(d,u){var w;if(null==d)return null;var H=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(w=u.get(H))&&void 0!==w?w:H}},mj=function(d,u){var w=new Set(u.map(function(T){return T.id})),
H=new Set;u.forEach(function(T){var aa;vk(T)&&(null===(aa=T.boundElementIds)||void 0===aa||aa.forEach(function(xa){w.has(xa)||H.add(xa)}))});d.filter(function(T){return H.has(T.id)}).forEach(function(T){var aa=T.endBinding;af(T,{startBinding:km(T.startBinding,w),endBinding:km(aa,w)})})},km=function(d,u){return null==d||u.has(d.elementId)?null:d},nj=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},Hf=function(d){return d>=2*Math.PI?d-2*Math.PI:d},cf=function(d,u,w){return Cg(d)?
{points:Ei(0,u,Ei(1,w,d.points))}:{}},Kg=function(d,u,w){u=u/d.width*d.fontSize;if(1>u)return null;d=Ti(d.text,Si({fontSize:u,fontFamily:d.fontFamily}));return{size:u,baseline:d.baseline+(w-d.height)}},Cl=function(d,u,w,H){var T=yg(d),aa=T[0],xa=T[1],va=T[2],Ca=T[3];switch(u){case "se":var Ra=Math.max((w-aa)/(va-aa),(H-xa)/(Ca-xa));var Ja=function(nb,ob,cc){var Xb=ob[0];ob=ob[1];return{x:nb.x+(Xb-aa)*(Ra-1)+Xb-cc[0],y:nb.y+(ob-xa)*(Ra-1)+ob-cc[1]}};break;case "nw":Ra=Math.max((va-w)/(va-aa),(Ca-H)/
(Ca-xa));Ja=function(nb,ob,cc){var Xb=ob[2];ob=ob[3];return{x:nb.x-(va-Xb)*(Ra-1)+Xb-cc[2],y:nb.y-(Ca-ob)*(Ra-1)+ob-cc[3]}};break;case "ne":Ra=Math.max((w-aa)/(va-aa),(Ca-H)/(Ca-xa));Ja=function(nb,ob,cc){var Xb=ob[0];ob=ob[3];return{x:nb.x+(Xb-aa)*(Ra-1)+Xb-cc[0],y:nb.y-(Ca-ob)*(Ra-1)+ob-cc[3]}};break;case "sw":Ra=Math.max((va-w)/(va-aa),(H-xa)/(Ca-xa)),Ja=function(nb,ob,cc){var Xb=ob[1];ob=ob[2];return{x:nb.x-(va-ob)*(Ra-1)+ob-cc[2],y:nb.y+(Xb-xa)*(Ra-1)+Xb-cc[1]}}}if(0<Ra){var hb=d.reduce(function(nb,
ob){if(!nb)return nb;var cc=ob.width*Ra,Xb=ob.height*Ra,vc={};if("text"===ob.type){vc=Kg(ob,cc,Xb);if(null===vc)return null;vc={fontSize:vc.size,baseline:vc.baseline}}var Zc=bg(ob),ed=cf(ob,cc,Xb);yi(ob,{newSize:{width:cc,height:Xb},simultaneouslyUpdated:d});var nd=Mg(nc(nc({},ob),ed),cc,Xb);Zc=Ja(ob,Zc,nd);ob=Zc.x;Zc=Zc.y;return nj(nj([],nb),[nc(nc({width:cc,height:Xb,x:ob,y:Zc},ed),vc)])},[]);hb&&d.forEach(function(nb,ob){af(nb,hb[ob])})}},kl=function(d,u,w,H,T,aa,xa){var va=5*Math.PI/2+Math.atan2(H-
xa,w-aa);T&&(va+=Ta.ay/2,va-=va%Ta.ay);u.forEach(function(Ca,Ra){var Ja,hb,nb=bg(Ca);Ra=(nb[0]+nb[2])/2;nb=(nb[1]+nb[3])/2;var ob=null!==(Ja=null===(hb=d.originalElements.get(Ca.id))||void 0===hb?void 0:hb.angle)&&void 0!==Ja?Ja:Ca.angle;Ja=Bf(Ra,nb,aa,xa,va+ob-Ca.angle);af(Ca,{x:Ca.x+(Ja[0]-Ra),y:Ca.y+(Ja[1]-nb),angle:Hf(va+ob)})})},ii=function(d,u,w,H,T,aa,xa,va,Ca,Ra){var Ja;Ca&&(xa=(Ja=Je(u,xa,aa<H?-va:va)).width,0>(va=Ja.height)&&(va=-va));u=T<w?w-xa:w;aa=aa<H?H-va:H;Ra&&(u=w-(xa+=xa)/2,aa=H-
(va+=va)/2);0!==xa&&0!==va&&af(d,{x:u,y:aa,width:xa,height:va})},Pk=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},pk=function(d){var u=Ti(d.text,Si(d));af(d,{width:u.width,height:u.height,baseline:u.baseline})},hh=function(d,u){return!(d.viewModeEnabled||!d.editingElement&&!nf(u,d).length&&"selection"===d.elementType)},Kk=function(d){return d.filter(function(u){return u.isDeleted||!Lh(u)})},Xi=function(d){return d.reduce(function(u,w){return u[w.id]=w,u},{})},Xk=function(d){return d.reduce(function(u,
w){return u+w.version},0)},Wd=function(d){return d.filter(function(u){return!u.isDeleted})},wf=function(d){return Wd(d).map(function(u){return cj(u.type)?yc(yc({},u),{},{lastCommittedPoint:null}):u})},hi=function(d,u,w){var H=[d.horizontal,d.vertical].map(function(T){return null!=T&&T.x<=u&&u<=T.x+T.width&&T.y<=w&&w<=T.y+T.height});d=H[0];H=H[1];return{isOverEither:d||H,isOverHorizontal:d,isOverVertical:H}},ng=function(d,u){return d.some(function(w){return u.selectedElementIds[w.id]})},nf=function(d,
u){return d.filter(function(w){return u.selectedElementIds[w.id]})},jk=function(d,u){return u.editingElement?[u.editingElement]:nf(d,u)},Ui=function(d){var u=d.scenePoint,w=d.viewportDimensions;d=d.zoom;return{scrollX:w.width/2*(1/d.value)-u.x-1/d.value*d.translation.x,scrollY:w.height/2*(1/d.value)-u.y-1/d.value*d.translation.y}},ji=function(d,u,w){var H;if(!d.length)return{scrollX:0,scrollY:0};var T=yg(d);w=T[0];var aa=T[1],xa=T[2];T=T[3];return function(va,Ca,Ra){Ca=Ra[2];var Ja=Ra[3],hb=dh({sceneX:Ra[0],
sceneY:Ra[1]},va);Ra=hb.x;hb=hb.y;Ca=dh({sceneX:Ca,sceneY:Ja},va);Ja=Ca.y;return Ca.x-Ra>va.width||Ja-hb>va.height}(u,0,[w,aa,xa,T])&&(w=(H=function(va,Ca){if(!va.length)return[0,0,0,0];var Ra=1/0,Ja=va[0];return va.forEach(function(hb){var nb=pi(hb);nb=Math.hypot(Ca.x-(nb[0]+nb[2])/2,Ca.y-(nb[1]+nb[3])/2);nb<Ra&&(Ra=nb,Ja=hb)}),pi(Ja)}(d,og({clientX:u.scrollX,clientY:u.scrollY},u)))[0],aa=H[1],xa=H[2],T=H[3]),Ui({scenePoint:{x:(w+xa)/2,y:(aa+T)/2},viewportDimensions:{width:u.width,height:u.height},
zoom:u.zoom})},Gj=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Mf=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},qk=function(d){return"rectangle"===d||"arrow"===d||"draw"===d||"line"===d},ki=function(d,u){for(var w=null,H=d.length-1;0<=H;--H){var T=d[H];if(!T.isDeleted&&u(T)){w=T;break}}return w},Xh=function(d,u,w,H){return void 0===H&&(H={x:0,y:0}),{value:d,translation:{x:H.x-w.left-d/u.value*(H.x-
w.left-u.translation.x),y:H.y-w.top-d/u.value*(H.y-w.top-u.translation.y)}}},Oj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,10))},Ze=(h(9478),V().forwardRef(function(d,u){var w=V().useRef(null);V().useImperativeHandle(u,function(){return w.current});u="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?V().createElement("button",{className:oc("ToolIcon_type_button",u,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,
"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:w},V().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&V().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&V().createElement("div",{className:"ToolIcon__label"},d["aria-label"]),d.children):V().createElement("label",{className:oc("ToolIcon",d.className),title:d.title},V().createElement("input",
{className:"ToolIcon_type_radio ".concat(u),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:w}),V().createElement("div",{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&V().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)))}));Ze.defaultProps={visible:!0,className:""};var vg=function(d){return"light"===d?te.$y[4]:te.$y[9]},me=function(d){return"light"===
d?te.Sn:te.MA[4]},Eg=function(d){return"light"===d?te.ix:"#1e1e1e"},le=function(d,u){void 0===u&&(u=512);u="number"==typeof u?{width:u}:u;var w=u.width;w=void 0===w?512:w;var H=u.height;H=void 0===H?w:H;var T=u.mirror;u=u.style;return V().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(w," ").concat(H),className:oc({"rtl-mirror":T}),style:u},"string"==typeof d?V().createElement("path",{fill:"currentColor",d}):d)},ll=le("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),se=le("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),xm=le("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),lm=le("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),sk=le("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ni=le("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Ch=le("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
lh=le("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),li=le("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),xj=le("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),rk=le("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Qk=le("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
bh=le("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),yj=le("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),$c=le("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),Td=(le("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),le("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),le(V().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),qd=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,
null,V().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:me(d),stroke:me(d),strokeWidth:"2"}),V().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Dd=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,
null,V().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:vg(d),stroke:vg(d),strokeWidth:"2"}),V().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:me(d),stroke:me(d),strokeWidth:"2"})),{width:24,mirror:!0})}),mi=V().memo(function(d){d=d.appearance;
return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:me(d),stroke:me(d),strokeWidth:"2"}),V().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Df=V().memo(function(d){d=d.appearance;
return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:vg(d),stroke:vg(d),strokeLinejoin:"round",strokeWidth:"2"}),V().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:me(d),stroke:me(d),strokeLinejoin:"round",strokeWidth:"2"})),{width:24,mirror:!0})}),
Dh=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 2,5 H 22",fill:me(d),stroke:me(d),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:vg(d),
stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),rg=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 2,19 H 22",fill:me(d),stroke:me(d),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Hj=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 5,2 V 22",fill:me(d),stroke:me(d),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),nn=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 19,2 V 22",fill:me(d),stroke:me(d),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),Sc=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M5 5V19Z",fill:"black"}),V().createElement("path",{d:"M19 5V19M5 5V19",stroke:me(d),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),yd=V().memo(function(d){d=
d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M5 5L19 5M5 19H19",fill:me(d),stroke:me(d),strokeWidth:"2",strokeLinecap:"round"}),V().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:vg(d),stroke:vg(d),strokeWidth:"2"})),{width:24})}),Eh=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",
fill:vg(d),stroke:vg(d),strokeWidth:"2"}),V().createElement("path",{d:"M 2,12 H 22",fill:me(d),stroke:me(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),ad=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",
fill:vg(d),stroke:vg(d),strokeWidth:"2"}),V().createElement("path",{d:"M 12,2 V 22",fill:me(d),stroke:me(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24})}),Qj=le("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),Pj=(le("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),le("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),le("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),aj=le("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Qf=le("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Bg=le("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),Ed=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M25 26H111V111H25",
fill:me(d)}),V().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:me(d),strokeWidth:"2"}),V().createElement("path",{d:"M100 100H160V160H100",fill:me(d)}),V().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:me(d),strokeWidth:"2"}),V().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Eg(d),stroke:me(d),strokeWidth:"6"}),V().createElement("rect",{x:"2.5",y:"149.5",width:"30",height:"30",fill:Eg(d),stroke:me(d),strokeWidth:"6"}),V().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Eg(d),stroke:me(d),strokeWidth:"6"}),V().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Eg(d),stroke:me(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),
di=V().memo(function(d){d=d.appearance;return le(V().createElement(V().Fragment,null,V().createElement("path",{d:"M25 26H111V111H25",fill:me(d)}),V().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",
stroke:me(d),strokeWidth:"2"}),V().createElement("path",{d:"M100 100H160V160H100",fill:me(d)}),V().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:me(d),strokeWidth:"2"}),
V().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Eg(d),stroke:me(d),strokeWidth:"6"}),V().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Eg(d),stroke:me(d),strokeWidth:"6"}),V().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Eg(d),stroke:me(d),strokeWidth:"6"}),V().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Eg(d),stroke:me(d),strokeWidth:"6"}),V().createElement("rect",{x:"105.5",y:"2.5",width:"30",height:"30",
fill:Eg(d),stroke:me(d),strokeWidth:"6"}),V().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Eg(d),stroke:me(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),ym=V().memo(function(d){d=d.appearance;return le(V().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:me(d)}),{width:40,height:20})}),zi=V().memo(function(d){d=d.appearance;return le(V().createElement("g",{fill:me(d),fillRule:"evenodd",clipRule:"evenodd"},V().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),V().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),he=V().memo(function(d){d=d.appearance;return le(V().createElement("path",{d:"M2 2H38V18H2V2Z",fill:me(d)}),{width:40,height:20})}),tl=V().memo(function(d){var u=d.appearance;d=d.strokeWidth;return le(V().createElement("path",{d:"M6 10H34",stroke:me(u),strokeWidth:d,fill:"none"}),{width:40,height:20})}),Ng=V().memo(function(d){d=d.appearance;return le(V().createElement("path",{d:"M6 10H34",stroke:me(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),ne=V().memo(function(d){d=
d.appearance;return le(V().createElement("path",{d:"M6 10H34",stroke:me(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),Ij=V().memo(function(d){d=d.appearance;return le(V().createElement("path",{d:"M6 10H34",stroke:me(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Af=V().memo(function(d){d=d.appearance;return le(V().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:me(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),um=V().memo(function(d){d=d.appearance;return le(V().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:me(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),mm=V().memo(function(d){d=
d.appearance;return le(V().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:me(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Lk=V().memo(function(d){d=d.appearance;return le(V().createElement("path",
{d:"M10 17L10 5L35 5",stroke:me(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Sj=V().memo(function(d){d=d.appearance;return le(V().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:me(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Nl=V().memo(function(d){d=d.appearance;return le(V().createElement("path",{d:"M6 10H34",stroke:me(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Dl=V().memo(function(d){var u=d.appearance;d=d.flip;d=void 0!==d&&
d;return le(V().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:me(u),strokeWidth:2,fill:"none"},V().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),V().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),yh=V().memo(function(d){var u=d.appearance;d=d.flip;d=void 0!==d&&d;return le(V().createElement("g",{stroke:me(u),fill:me(u),transform:d?"translate(40, 0) scale(-1, 1)":""},V().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),V().createElement("circle",
{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Vl=V().memo(function(d){var u=d.appearance;d=d.flip;d=void 0!==d&&d;return le(V().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},V().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:me(u),strokeWidth:2,fill:"none"})),{width:40,height:20})}),Yi=[],Fd=function(d){return Yi=Yi.concat(d),d},zh=function(d,u){var w;return d.editingGroupId&&(u=bk(Wd(u),d.editingGroupId),u.length)?Tc(Tc({},d),{},
{selectedElementIds:(w={},w[u[0].id]=!0,w)}):d},bm=Fd({name:"deleteSelectedElements",perform:function(d,u){if(u.editingLinearElement){var w=u.editingLinearElement,H=w.activePointIndex,T=w.startBindingElement,aa=w.endBindingElement,xa=Xf.getElement(w.elementId);if(!xa)return!1;if(null==H||-1===H||2>xa.points.length)return d=d.filter(function(va){return va.id!==xa.id}),{elements:d,appState:Tc(Tc({},zh(u,d)),{},{editingLinearElement:null}),commitToHistory:!1};w={startBindingElement:0===H?null:T,endBindingElement:H===
xa.points.length-1?null:aa};return Xf.movePoint(xa,H,"delete"),{elements:d,appState:Tc(Tc({},u),{},{editingLinearElement:Tc(Tc(Tc({},u.editingLinearElement),w),{},{activePointIndex:0<H?H-1:0})}),commitToHistory:!0}}w=function(va,Ca){return{elements:va.map(function(Ra){return Ca.selectedElementIds[Ra.id]?ug(Ra,{isDeleted:!0}):Ra}),appState:Tc(Tc({},Ca),{},{selectedElementIds:{}})}}(d,u);H=w.elements;w=w.appState;return mj(H,d.filter(function(va){return u.selectedElementIds[va.id]})),{elements:H,appState:Tc(Tc({},
w=zh(w,H)),{},{elementType:"selection",multiElement:null}),commitToHistory:ng(Wd(d),u)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{type:"button",icon:Ni,title:Sb("labels.delete"),"aria-label":Sb("labels.delete"),onClick:function(){return H(null)},visible:ng(Wd(u),w)})}}),rf=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];
return d},ul=function(d,u){for(var w=[],H=[],T=null,aa=-1;++aa<d.length;)u.selectedElementIds[d[aa].id]?(H.length&&(w=w.concat(H),H=[]),w.push(aa),T=aa+1):d[aa].isDeleted&&T===aa?(T=aa+1,H.push(aa)):H=[];return w},Oi=function(d,u,w,H){var T=u[w],aa=function(xa){return!xa.isDeleted&&(!d.editingGroupId||xa.groupIds.includes(d.editingGroupId))};w="left"===H?function(xa,va,Ca){void 0===Ca&&(Ca=xa.length-1);0>Ca&&(Ca=xa.length+Ca);for(Ca=Math.min(xa.length-1,Math.max(Ca,0))+1;-1<--Ca;)if(va(xa[Ca],Ca,
xa))return Ca;return-1}(u,aa,Math.max(0,w-1)):function(xa,va,Ca){void 0===Ca&&(Ca=0);0>Ca&&(Ca=xa.length+Ca);for(Ca=Math.min(xa.length,Math.max(Ca,0))-1;++Ca<xa.length;)if(va(xa[Ca],Ca,xa))return Ca;return-1}(u,aa,w+1);aa=u[w];if(!aa)return-1;if(d.editingGroupId){if((null==T?void 0:T.groupIds.join(""))===(null==aa?void 0:aa.groupIds.join("")))return w;if(null==aa||!aa.groupIds.includes(d.editingGroupId))return-1}if(!aa.groupIds.length)return w;T=d.editingGroupId?aa.groupIds[aa.groupIds.indexOf(d.editingGroupId)-
1]:aa.groupIds[aa.groupIds.length-1];T=bk(u,T);return T.length?"left"===H?u.indexOf(T[0]):u.indexOf(T[T.length-1]):w},Zf=function(d,u,w){var H,T=ul(u,d),aa=(H=0,T.reduce(function(xa,va,Ca){return 0<Ca&&T[Ca-1]!==va-1&&(H=++H),(xa[H]||(xa[H]=[])).push(va),xa},[]));return"right"===w&&(aa=aa.reverse()),aa.forEach(function(xa,va){va=xa[0];xa=xa[xa.length-1];var Ca="left"===w?va:xa,Ra=Oi(d,u,Ca,w);if(-1!==Ra&&Ca!==Ra){Ca="left"===w?u.slice(0,Ra):u.slice(0,va);var Ja=u.slice(va,xa+1);va="left"===w?u.slice(Ra,
va):u.slice(xa+1,Ra+1);xa="left"===w?u.slice(xa+1):u.slice(Ra+1);u=rf("left"===w?rf(rf(rf([],Ca),Ja),va):rf(rf(rf([],Ca),va),Ja),xa)}}),u},ue=function(d,u,w){var H=ul(d,u),T=[],aa=[];if("left"===w){if(u.editingGroupId){if(!(u=bk(d,u.editingGroupId)).length)return d;var xa=d.indexOf(u[0])}else xa=0;u=H[H.length-1]}else{if(u.editingGroupId){if(!(u=bk(d,u.editingGroupId)).length)return d;u=d.indexOf(u[u.length-1])}else u=d.length-1;xa=H[0]}for(var va=xa;va<u+1;va++)H.includes(va)?T.push(d[va]):aa.push(d[va]);
H=d.slice(0,xa);d=d.slice(u+1);return rf("left"===w?rf(rf(rf([],H),T),aa):rf(rf(rf([],H),aa),T),d)},on=Fd({name:"sendBackward",perform:function(d,u){return{elements:Zf(u,d.slice(),"left"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[Te]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var u=d.updateData;d=d.appState;return V().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return u(null)},
title:"".concat(Sb("labels.sendBackward")," — ").concat(Pd("CtrlOrCmd+["))},V().createElement(Dd,{appearance:d.appearance}))}}),Rk=Fd({name:"bringForward",perform:function(d,u){return{elements:Zf(u,d.slice(),"right"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[Te]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var u=d.updateData;d=d.appState;return V().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return u(null)},title:"".concat(Sb("labels.bringForward")," — ").concat(Pd("CtrlOrCmd+]"))},V().createElement(qd,{appearance:d.appearance}))}}),n=Fd({name:"sendToBack",perform:function(d,u){return{elements:ue(d,u,"left"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return Hg?d[Te]&&d.altKey&&"BracketLeft"===d.code:d[Te]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var u=d.updateData;d=d.appState;return V().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return u(null)},title:"".concat(Sb("labels.sendToBack")," — ").concat(Pd(Hg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},V().createElement(Df,{appearance:d.appearance}))}}),D=Fd({name:"bringToFront",perform:function(d,u){return{elements:ue(d,u,"right"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return Hg?d[Te]&&d.altKey&&"BracketRight"===d.code:d[Te]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var u=
d.updateData;d=d.appState;return V().createElement("button",{type:"button",className:"zIndexButton",onClick:function(w){return u(null)},title:"".concat(Sb("labels.bringToFront")," — ").concat(Pd(Hg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},V().createElement(mi,{appearance:d.appearance}))}}),Y=Fd({name:"selectAll",perform:function(d,u){return!u.editingLinearElement&&{appState:Qh(fd(fd({},u),{},{editingGroupId:null,selectedElementIds:d.reduce(function(w,H){return H.isDeleted||(w[H.id]=!0),w},{})}),Wd(d)),
commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(d){return d[Te]&&"a"===d.key}}),W=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},oa=Fd({name:"duplicateSelection",perform:function(d,u){if(u.editingLinearElement){var w=u.editingLinearElement,H=w.activePointIndex;w=Xf.getElement(w.elementId);if(!w||null===H)return!1;var T=w.points,aa=T[H],xa=T[H+1];return af(w,{points:W(W(W([],T.slice(0,H+1)),[xa?[(aa[0]+xa[0])/2,(aa[1]+xa[1])/2]:[aa[0]+30,aa[1]+
30]]),T.slice(H+1))}),{appState:pe(pe({},u),{},{editingLinearElement:pe(pe({},u.editingLinearElement),{},{activePointIndex:H+1})}),elements:d,commitToHistory:!0}}return pe(pe({},Da(d,u)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[Te]&&"d"===d.key},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{type:"button",icon:Qf,title:"".concat(Sb("labels.duplicateSelection")," — ").concat(Pd("CtrlOrCmd+D")),
"aria-label":Sb("labels.duplicateSelection"),onClick:function(){return H(null)},visible:ng(Wd(u),w)})}}),Da=function(d,u){for(var w=new Map,H=[],T=[],aa=new Map,xa=function(hb){var nb=Vi(u.editingGroupId,w,hb,{x:hb.x+Ta.k/2,y:hb.y+Ta.k/2});return aa.set(hb.id,nb.id),T.push(hb),H.push(nb),nb},va=[],Ca=0;Ca<d.length;){var Ra=d[Ca];if(u.selectedElementIds[Ra.id]){if(Ra.groupIds.length){var Ja=rh(u,Ra);if(Ja){Ra=bk(d,Ja);va.push.apply(va,W(W([],Ra),Ra.map(function(hb){return xa(hb)})));Ca+=Ra.length;
continue}}va.push(Ra,xa(Ra))}else va.push(Ra);Ca++}return Tj(va,T,aa),{elements:va,appState:Qh(pe(pe({},u),{},{selectedGroupIds:{},selectedElementIds:H.reduce(function(hb,nb){return hb[nb.id]=!0,hb},{})}),Wd(va))}},Pa=function(d){var u=d.options,w=d.value,H=d.onChange,T=d.group;return V().createElement("div",{className:"buttonList buttonListIcon"},u.map(function(aa){return V().createElement("label",{key:aa.text,className:oc({active:w===aa.value}),title:aa.text},V().createElement("input",{type:"radio",
name:T,onChange:function(){return H(aa.value)},checked:w===aa.value}),aa.icon)}))},Va=function(d){var u=d.options,w=d.value,H=d.onChange,T=d.group;return V().createElement("div",{className:"buttonList"},u.map(function(aa){return V().createElement("label",{key:aa.text,className:oc({active:w===aa.value})},V().createElement("input",{type:"radio",name:T,onChange:function(){return H(aa.value)},checked:w===aa.value}),aa.text)}))},gb=(h(2816),function(d){var u=d.children,w=d.left,H=d.top,T=d.onCloseRequest;
d=d.fitInViewport;var aa=void 0!==d&&d,xa=(0,ha.useRef)(null);return(0,ha.useLayoutEffect)(function(){if(aa&&xa.current){var va=xa.current,Ca=va.getBoundingClientRect(),Ra=Ca.y,Ja=Ca.width,hb=Ca.height,nb=window.innerWidth;Ca.x+Ja>nb&&(va.style.left="".concat(nb-Ja,"px"));Ca=window.innerHeight;Ra+hb>Ca&&(va.style.top="".concat(Ca-hb,"px"))}},[aa]),(0,ha.useEffect)(function(){if(T){var va=function(Ca){var Ra;null!==(Ra=xa.current)&&void 0!==Ra&&Ra.contains(Ca.target)||(0,Tf.unstable_batchedUpdates)(function(){return T(Ca)})};
return document.addEventListener("pointerdown",va,!1),function(){return document.removeEventListener("pointerdown",va,!1)}}},[T]),V().createElement("div",{className:"popover",style:{top:H,left:w},ref:xa},u)}),Ab=(h(5574),function(d){var u=(new Option).style;return u.color=d,!!u.color}),Mb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),ec=function(d){var u=d.colors,w=d.color,H=d.onChange,T=d.onClose,aa=d.label,xa=d.showInput,va=void 0===xa||xa;d=d.type;var Ca=V().useRef(),
Ra=V().useRef(),Ja=V().useRef(),hb=V().useRef();V().useEffect(function(){Ra.current?Ra.current.focus():hb.current?hb.current.focus():Ja.current&&Ja.current.focus()},[]);return V().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":Sb("labels.colorPicker"),onKeyDown:function(nb){if("Tab"===nb.key){var ob,cc=document.activeElement;if(nb.shiftKey)cc===Ca.current&&(null===(ob=hb.current)||void 0===ob||ob.focus(),nb.preventDefault());
else if(cc===hb.current){var Xb;null===(Xb=Ca.current)||void 0===Xb||Xb.focus();nb.preventDefault()}}else tg(nb.key)?(cc=document.activeElement,ob=zf.rtl,-1!==(Xb=Array.prototype.indexOf.call(Ja.current.children,cc))&&(cc=Ja.current.children.length-(va?1:0),Ja.current.children[nb.key===(ob?"ArrowLeft":"ArrowRight")?(Xb+1)%cc:nb.key===(ob?"ArrowRight":"ArrowLeft")?(cc+Xb-1)%cc:"ArrowDown"===nb.key?(Xb+5)%cc:"ArrowUp"===nb.key?(cc+Xb-5)%cc:Xb].focus()),nb.preventDefault()):Mb.includes(nb.key.toLowerCase())&&
!zg(nb.target)?(Xb=Mb.indexOf(nb.key.toLowerCase()),Ja.current.children[Xb].focus(),nb.preventDefault()):"Escape"!==nb.key&&"Enter"!==nb.key||(nb.preventDefault(),T());nb.nativeEvent.stopImmediatePropagation()}},V().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),V().createElement("div",{className:"color-picker-triangle"}),V().createElement("div",{className:"color-picker-content",ref:function(nb){nb&&(Ja.current=nb)},tabIndex:0},u.map(function(nb,ob){return V().createElement("button",
{className:"color-picker-swatch",onClick:function(cc){cc.currentTarget.focus();H(nb)},title:"".concat(nb," — ").concat(Mb[ob].toUpperCase()),"aria-label":nb,"aria-keyshortcuts":Mb[ob],style:{color:nb},key:nb,ref:function(cc){cc&&0===ob&&(Ca.current=cc);cc&&nb===w&&(Ra.current=cc)},onFocus:function(){H(nb)}},"transparent"===nb?V().createElement("div",{className:"color-picker-transparent"}):void 0,V().createElement("span",{className:"color-picker-keybinding"},Mb[ob]))}),va&&V().createElement(rc,{color:w,
label:aa,onChange:function(nb){H(nb)},ref:hb})))},rc=V().forwardRef(function(d,u){var w=d.color,H=d.onChange;d=d.label;var T=V().useState(w),aa=T[0],xa=T[1],va=V().useRef(null);V().useEffect(function(){xa(w)},[w]);V().useImperativeHandle(u,function(){return va.current});var Ca=V().useCallback(function(Ra){Ra=Ra.toLowerCase();var Ja;(Ja="transparent"===Ra||Ab(Ra)?Ra:Ab("#".concat(Ra))?"#".concat(Ra):null)&&H(Ja);xa(Ra)},[H]);return V().createElement("label",{className:"color-input-container"},V().createElement("div",
{className:"color-picker-hash"},"#"),V().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":d,onChange:function(Ra){return Ca(Ra.target.value)},value:(aa||"").replace(/^#/,""),onBlur:function(){return xa(w)},ref:va}))}),sc=function(d){var u=d.type,w=d.color,H=d.onChange;d=d.label;var T=V().useState(!1),aa=T[0],xa=T[1],va=V().useRef(null);return V().createElement("div",null,V().createElement("div",{className:"color-picker-control-container"},V().createElement("button",
{className:"color-picker-label-swatch","aria-label":d,style:w?{"--swatch-color":w}:void 0,onClick:function(){return xa(!aa)},ref:va}),V().createElement(rc,{color:w,label:d,onChange:function(Ca){H(Ca)}})),V().createElement(V().Suspense,{fallback:""},aa?V().createElement(gb,{onCloseRequest:function(Ca){return Ca.target!==va.current&&xa(!1)}},V().createElement(ec,{colors:Bk[u],color:w||null,onChange:function(Ca){H(Ca)},onClose:function(){var Ca;xa(!1);null===(Ca=va.current)||void 0===Ca||Ca.focus()},
label:d,showInput:!1,type:u})):null))},Hc=h(6950),Jd=h.n(Hc);h(7143);var ie=function(d,u,w){return d.map(function(H){var T;return u.selectedElementIds[H.id]||H.id===(null===(T=u.editingElement)||void 0===T?void 0:T.id)?w(H):H})},lg=function(d,u,w,H){var T,aa,xa=u.editingElement;d=Wd(d);return null!==(T=null!==(aa=xa&&w(xa))&&void 0!==aa?aa:ng(d,u)?function(va,Ca,Ra){va=Array.from(new Set(nf(va,Ca).map(function(Ja){return Ra(Ja)})));return 1===va.length?va[0]:null}(d,u,w):H)&&void 0!==T?T:null},re=
(Fd({name:"changeStrokeColor",perform:function(d,u,w){return{elements:ie(d,u,function(H){return ug(H,{strokeColor:w})}),appState:oe(oe({},u),{},{currentItemStrokeColor:w}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState;d=d.updateData;return V().createElement(V().Fragment,null,V().createElement("h3",{"aria-hidden":"true"},Sb("labels.stroke")),V().createElement(sc,{type:"elementStroke",label:Sb("labels.stroke"),color:lg(u,w,function(H){return H.strokeColor},w.currentItemStrokeColor),
onChange:d}))}}),Fd({name:"changeBackgroundColor",perform:function(d,u,w){return{elements:ie(d,u,function(H){return ug(H,{backgroundColor:w})}),appState:oe(oe({},u),{},{currentItemBackgroundColor:w}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState;d=d.updateData;return V().createElement(V().Fragment,null,V().createElement("h3",{"aria-hidden":"true"},Sb("labels.background")),V().createElement(sc,{type:"elementBackground",label:Sb("labels.background"),color:lg(u,w,function(H){return H.backgroundColor},
w.currentItemBackgroundColor),onChange:d}))}}),Fd({name:"changeFillStyle",perform:function(d,u,w){return{elements:ie(d,u,function(H){return ug(H,{fillStyle:w})}),appState:oe(oe({},u),{},{currentItemFillStyle:w}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.fill")),V().createElement(Pa,{options:[{value:"hachure",text:Sb("labels.hachure"),icon:V().createElement(ym,{appearance:w.appearance})},
{value:"cross-hatch",text:Sb("labels.crossHatch"),icon:V().createElement(zi,{appearance:w.appearance})},{value:"solid",text:Sb("labels.solid"),icon:V().createElement(he,{appearance:w.appearance})}],group:"fill",value:lg(u,w,function(T){return T.fillStyle},w.currentItemFillStyle),onChange:function(T){H(T)}}))}}),Fd({name:"changeStrokeWidth",perform:function(d,u,w){return{elements:ie(d,u,function(H){return ug(H,{strokeWidth:w})}),appState:oe(oe({},u),{},{currentItemStrokeWidth:w}),commitToHistory:!0}},
PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.strokeWidth")),V().createElement(Pa,{group:"stroke-width",options:[{value:1,text:Sb("labels.thin"),icon:V().createElement(tl,{appearance:w.appearance,strokeWidth:2})},{value:2,text:Sb("labels.bold"),icon:V().createElement(tl,{appearance:w.appearance,strokeWidth:6})},{value:4,text:Sb("labels.extraBold"),icon:V().createElement(tl,{appearance:w.appearance,
strokeWidth:10})}],value:lg(u,w,function(T){return T.strokeWidth},w.currentItemStrokeWidth),onChange:function(T){return H(T)}}))}}),Fd({name:"changeSloppiness",perform:function(d,u,w){return{elements:ie(d,u,function(H){return ug(H,{seed:Yj(),roughness:w})}),appState:oe(oe({},u),{},{currentItemRoughness:w}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.sloppiness")),V().createElement(Pa,
{group:"sloppiness",options:[{value:0,text:Sb("labels.architect"),icon:V().createElement(Af,{appearance:w.appearance})},{value:1,text:Sb("labels.artist"),icon:V().createElement(um,{appearance:w.appearance})},{value:2,text:Sb("labels.cartoonist"),icon:V().createElement(mm,{appearance:w.appearance})}],value:lg(u,w,function(T){return T.roughness},w.currentItemRoughness),onChange:function(T){return H(T)}}))}}),Fd({name:"changeStrokeStyle",perform:function(d,u,w){return{elements:ie(d,u,function(H){return ug(H,
{strokeStyle:w})}),appState:oe(oe({},u),{},{currentItemStrokeStyle:w}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.strokeStyle")),V().createElement(Pa,{group:"strokeStyle",options:[{value:"solid",text:Sb("labels.strokeStyle_solid"),icon:V().createElement(Ng,{appearance:w.appearance})},{value:"dashed",text:Sb("labels.strokeStyle_dashed"),icon:V().createElement(ne,{appearance:w.appearance})},
{value:"dotted",text:Sb("labels.strokeStyle_dotted"),icon:V().createElement(Ij,{appearance:w.appearance})}],value:lg(u,w,function(T){return T.strokeStyle},w.currentItemStrokeStyle),onChange:function(T){return H(T)}}))}}),Fd({name:"changeOpacity",perform:function(d,u,w){return{elements:ie(d,u,function(H){return ug(H,{opacity:w})}),appState:oe(oe({},u),{},{currentItemOpacity:w}),commitToHistory:!0}},PanelComponent:function(d){var u,w=d.elements,H=d.appState,T=d.updateData;return V().createElement("label",
{className:"control-label"},Sb("labels.opacity"),V().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(aa){return T(+aa.target.value)},onWheel:function(aa){aa.stopPropagation();var xa=+aa.target.value;0>aa.deltaY&&100>xa?T(xa+10):0<aa.deltaY&&0<xa&&T(xa-10)},value:null!==(u=lg(w,H,function(aa){return aa.opacity},H.currentItemOpacity))&&void 0!==u?u:void 0}))}}),Fd({name:"changeFontSize",perform:function(d,u,w){return{elements:ie(d,u,function(H){return Xd(H)?(H=ug(H,
{fontSize:w}),pk(H),H):H}),appState:oe(oe({},u),{},{currentItemFontSize:w}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.fontSize")),V().createElement(Va,{group:"font-size",options:[{value:16,text:Sb("labels.small")},{value:20,text:Sb("labels.medium")},{value:28,text:Sb("labels.large")},{value:36,text:Sb("labels.veryLarge")}],value:lg(u,w,function(T){return Xd(T)&&T.fontSize},
w.currentItemFontSize||Ta.n5),onChange:function(T){return H(T)}}))}}),Fd({name:"changeFontFamily",perform:function(d,u,w){return{elements:ie(d,u,function(H){return Xd(H)?(H=ug(H,{fontFamily:w}),pk(H),H):H}),appState:oe(oe({},u),{},{currentItemFontFamily:w}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;d=[{value:1,text:Sb("labels.handDrawn")},{value:2,text:Sb("labels.normal")},{value:3,text:Sb("labels.code")}];return V().createElement("fieldset",null,
V().createElement("legend",null,Sb("labels.fontFamily")),V().createElement(Va,{group:"font-family",options:d,value:lg(u,w,function(T){return Xd(T)&&T.fontFamily},w.currentItemFontFamily||Ta.rk),onChange:function(T){return H(T)}}))}}),Fd({name:"changeTextAlign",perform:function(d,u,w){return{elements:ie(d,u,function(H){return Xd(H)?(H=ug(H,{textAlign:w}),pk(H),H):H}),appState:oe(oe({},u),{},{currentItemTextAlign:w}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;
return V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.textAlign")),V().createElement(Va,{group:"text-align",options:[{value:"left",text:Sb("labels.left")},{value:"center",text:Sb("labels.center")},{value:"right",text:Sb("labels.right")}],value:lg(u,w,function(T){return Xd(T)&&T.textAlign},w.currentItemTextAlign),onChange:function(T){return H(T)}}))}}),Fd({name:"changeSharpness",perform:function(d,u,w){var H=jk(Wd(d),u),T=H.length?H.every(function(aa){return!Cg(aa)}):
!cj(u.elementType);H=H.length?H.every(Cg):cj(u.elementType);return{elements:ie(d,u,function(aa){return ug(aa,{strokeSharpness:w})}),appState:oe(oe({},u),{},{currentItemStrokeSharpness:T?w:u.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:H?w:u.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.edges")),V().createElement(Pa,{group:"edges",
options:[{value:"sharp",text:Sb("labels.sharp"),icon:V().createElement(Lk,{appearance:w.appearance})},{value:"round",text:Sb("labels.round"),icon:V().createElement(Sj,{appearance:w.appearance})}],value:lg(u,w,function(T){return T.strokeSharpness},qk(w.elementType)&&(cj(w.elementType)?w.currentItemLinearStrokeSharpness:w.currentItemStrokeSharpness)||null),onChange:function(T){return H(T)}}))}}),Fd({name:"changeArrowhead",perform:function(d,u,w){var H;return{elements:ie(d,u,function(T){if(Cg(T)){var aa=
w.position,xa=w.type;if("start"===aa)return ug(T,{startArrowhead:xa});if("end"===aa)return ug(T,{endArrowhead:xa})}return T}),appState:oe(oe({},u),{},(H={},H["start"===w.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=w.type,H)),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;d=zf.rtl;return V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.arrowheads")),V().createElement("div",{className:"iconSelectList"},V().createElement(kd,
{label:"arrowhead_start",options:[{value:null,text:Sb("labels.arrowhead_none"),icon:V().createElement(Nl,{appearance:w.appearance}),keyBinding:"q"},{value:"arrow",text:Sb("labels.arrowhead_arrow"),icon:V().createElement(Dl,{appearance:w.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:Sb("labels.arrowhead_bar"),icon:V().createElement(Vl,{appearance:w.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:Sb("labels.arrowhead_dot"),icon:V().createElement(yh,{appearance:w.appearance,flip:!d}),
keyBinding:"r"}],value:lg(u,w,function(T){return Cg(T)&&"arrow"===T.type?T.startArrowhead:w.currentItemStartArrowhead},w.currentItemStartArrowhead),onChange:function(T){return H({position:"start",type:T})}}),V().createElement(kd,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:Sb("labels.arrowhead_none"),keyBinding:"q",icon:V().createElement(Nl,{appearance:w.appearance})},{value:"arrow",text:Sb("labels.arrowhead_arrow"),keyBinding:"w",icon:V().createElement(Dl,{appearance:w.appearance,
flip:d})},{value:"bar",text:Sb("labels.arrowhead_bar"),keyBinding:"e",icon:V().createElement(Vl,{appearance:w.appearance,flip:d})},{value:"dot",text:Sb("labels.arrowhead_dot"),keyBinding:"r",icon:V().createElement(yh,{appearance:w.appearance,flip:d})}],value:lg(u,w,function(T){return Cg(T)&&"arrow"===T.type?T.endArrowhead:w.currentItemEndArrowhead},w.currentItemEndArrowhead),onChange:function(T){return H({position:"end",type:T})}})))}}),h(2189)),yf=h.n(re),eg=V().createContext(!1),sg=function(){return window.matchMedia?
window.matchMedia(yf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},fg=function(d){d=d.children;var u=(0,ha.useRef)();u.current||(u.current=sg());var w=(0,ha.useState)(u.current.matches),H=w[0],T=w[1];return(0,ha.useEffect)(function(){var aa=function(){return T(u.current.matches)};return u.current.addListener(aa),function(){return u.current.removeListener(aa)}},[]),V().createElement(eg.Provider,{value:H},d)};Fd({name:"changeViewBackgroundColor",perform:function(d,
u,w){return{appState:Xe(Xe({},u),{},{viewBackgroundColor:w}),commitToHistory:!0}},PanelComponent:function(d){var u=d.appState,w=d.updateData;return V().createElement("div",{style:{position:"relative"}},V().createElement(sc,{label:Sb("labels.canvasBackground"),type:"canvasBackground",color:u.viewBackgroundColor,onChange:function(H){return w(H)}}))}});Fd({name:"clearCanvas",perform:function(d,u){return{elements:d.map(function(w){return ug(w,{isDeleted:!0})}),appState:Xe(Xe({},xh()),{},{appearance:u.appearance,
elementLocked:u.elementLocked,exportBackground:u.exportBackground,exportEmbedScene:u.exportEmbedScene,gridSize:u.gridSize,shouldAddWatermark:u.shouldAddWatermark,showStats:u.showStats,pasteDialog:u.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var u=d.updateData;return V().createElement(Ze,{type:"button",icon:Ni,title:Sb("buttons.clearReset"),"aria-label":Sb("buttons.clearReset"),showAriaLabel:Pe(),onClick:function(){window.confirm(Sb("alerts.clearReset"))&&u(null)}})}});Fd({name:"zoomIn",
perform:function(d,u){d=Xh(Oj(u.zoom.value+Ta.V4),u.zoom,{left:u.offsetLeft,top:u.offsetTop},{x:u.width/2,y:u.height/2});return{appState:Xe(Xe({},u),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var u=d.updateData;return V().createElement(Ze,{type:"button",icon:li,title:"".concat(Sb("buttons.zoomIn")," — ").concat(Pd("CtrlOrCmd++")),"aria-label":Sb("buttons.zoomIn"),onClick:function(){u(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[Te]||d.shiftKey)}});
Fd({name:"zoomOut",perform:function(d,u){d=Xh(Oj(u.zoom.value-Ta.V4),u.zoom,{left:u.offsetLeft,top:u.offsetTop},{x:u.width/2,y:u.height/2});return{appState:Xe(Xe({},u),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var u=d.updateData;return V().createElement(Ze,{type:"button",icon:xj,title:"".concat(Sb("buttons.zoomOut")," — ").concat(Pd("CtrlOrCmd+-")),"aria-label":Sb("buttons.zoomOut"),onClick:function(){u(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===d.code)&&
(d[Te]||d.shiftKey)}});Fd({name:"resetZoom",perform:function(d,u){return{appState:Xe(Xe({},u),{},{zoom:Xh(1,u.zoom,{left:u.offsetLeft,top:u.offsetTop},{x:u.width/2,y:u.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var u=d.updateData;return V().createElement(Ze,{type:"button",icon:Td,title:Sb("buttons.resetZoom"),"aria-label":Sb("buttons.resetZoom"),onClick:function(){u(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[Te]||d.shiftKey)}});var Ye=function(d,
u,w){d=Wd(d);var H=nf(d,u);H=w&&0<H.length?yg(H):yg(d);w=Xh(Math.min(Math.max(Math.floor(Math.min(u.width/(H[2]-H[0]),u.height/(H[3]-H[1]))/Ta.V4)*Ta.V4,Ta.V4),1),u.zoom,{left:u.offsetLeft,top:u.offsetTop});d=(H[0]+H[2])/2;H=(H[1]+H[3])/2;return{appState:Xe(Xe(Xe({},u),Ui({scenePoint:{x:d,y:H},viewportDimensions:{width:u.width,height:u.height},zoom:w})),{},{zoom:w}),commitToHistory:!1}};Fd({name:"zoomToSelection",perform:function(d,u){return Ye(d,u,!0)},keyTest:function(d){return"Digit2"===d.code&&
d.shiftKey&&!d.altKey&&!d[Te]}});Fd({name:"zoomToFit",perform:function(d,u){return Ye(d,u,!1)},keyTest:function(d){return"Digit1"===d.code&&d.shiftKey&&!d.altKey&&!d[Te]}});var Ie,Cf,Of=Fd({name:"finalize",perform:function(d,u,w,H){var T,aa;w=H.canvas;if(u.editingLinearElement){H=u.editingLinearElement;var xa=H.startBindingElement,va=H.endBindingElement,Ca=Xf.getElement(H.elementId);if(Ca)return jg(Ca)&&Kf(Ca,xa,va),{elements:2>Ca.points.length||Lh(Ca)?d.filter(function(hb){return hb.id!==Ca.id}):
void 0,appState:$f($f({},u),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(H=u.multiElement?u.multiElement:"draw"===(null===(aa=u.editingElement)||void 0===aa?void 0:aa.type)?u.editingElement:null){"draw"!==H.type&&"touch"!==u.lastPointerDownWith&&(aa=H.points,(xa=H.lastCommittedPoint)&&aa[aa.length-1]===xa||af(H,{points:H.points.slice(0,-1)}));Lh(H)&&(d=d.slice(0,-1));aa=$h(H.points,u.zoom.value);if(("line"===
H.type||"draw"===H.type)&&aa){var Ra=H.points,Ja=Ra[0];af(H,{points:Ra.map(function(hb,nb){return nb===Ra.length-1?[Ja[0],Ja[1]]:hb})})}jg(H)&&!aa&&1<H.points.length&&(xa=Xf.getPointAtIndexGlobalCoordinates(H,-1),aa=xa[0],xa=xa[1],ik(H,u,qh.getScene(H),{x:aa,y:xa}));u.elementLocked||"draw"===u.elementType||(u.selectedElementIds[H.id]=!0)}return(u.elementLocked||"draw"===u.elementType)&&H||Gi(w),{elements:d,appState:$f($f({},u),{},{elementType:(u.elementLocked||"draw"===u.elementType)&&H?u.elementType:
"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:H&&!u.elementLocked&&"draw"!==u.elementType?$f($f({},u.selectedElementIds),{},(T={},T[H.id]=!0,T)):u.selectedElementIds}),commitToHistory:"draw"===u.elementType}},keyTest:function(d,u){return"Escape"===d.key&&(null!==u.editingLinearElement||!u.draggingElement&&null===u.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==u.multiElement},PanelComponent:function(d){var u=
d.appState;d=d.updateData;return V().createElement(Ze,{type:"button",icon:rk,title:Sb("buttons.done"),"aria-label":Sb("buttons.done"),onClick:d,visible:null!=u.multiElement})}}),Og="undefined"!=typeof v&&null!==(Ie=v.env)&&void 0!==Ie&&Ie.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,u,w,H){window.gtag("event",u,{event_category:d,event_label:w,value:H})}:("undefined"!=typeof v&&null!==(Cf=v.env)&&void 0!==Cf&&Cf.JEST_WORKER_ID,function(d,u,w,H){}),ih=(h(8518),function(){var d=
function(u,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,T){H.__proto__=T}||function(H,T){for(var aa in T)Object.prototype.hasOwnProperty.call(T,aa)&&(H[aa]=T[aa])})(u,w)};return function(u,w){function H(){this.constructor=u}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");d(u,w);u.prototype=null===w?Object.create(w):(H.prototype=w.prototype,new H)}}()),ch=function(d){function u(){for(var w=[],H=
0;H<arguments.length;H++)w[H]=arguments[H];var T,aa;H=this;return H=d.apply(this,w)||this,T=aa=H,H.handleFocus=function(xa){xa=xa.currentTarget;var va=window.getSelection();if(va){var Ca=document.createRange();Ca.selectNodeContents(xa);va.removeAllRanges();va.addRange(Ca)}},H.handleBlur=function(xa){xa=xa.currentTarget.innerText.trim();xa!==aa.props.value&&aa.props.onChange(xa);(xa=window.getSelection())&&xa.removeAllRanges()},H.handleKeyDown=function(xa){"Enter"!==xa.key||(xa.preventDefault(),xa.nativeEvent.isComposing||
229===xa.keyCode)||xa.currentTarget.blur()},H.makeEditable=function(xa){if(xa)try{xa.contentEditable="plaintext-only"}catch(va){xa.contentEditable="true"}},T}return ih(u,d),u.prototype.render=function(){return V().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},u}(ha.Component),Rj=(h(2680),
function(d){var u=d.children,w=d.label,H=d.position;H=void 0===H?"below":H;d=d.long;d=void 0!==d&&d;return V().createElement("div",{className:"Tooltip"},V().createElement("span",{className:"above"===H?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},w),u)}),gk=function(d){var u=d.title?d.title:"dark"===d.value?Sb("buttons.lightMode"):Sb("buttons.darkMode");return V().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",
title:u},V().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(w){return d.onChange(w.target.checked?"dark":"light")},checked:"dark"===d.value,"aria-label":u}),V().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?Ll.MOON:Ll.SUN))},Ll={SUN:V().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},V().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:V().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},V().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const sl="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",tm=sl?"chooseFileSystemEntries"===sl?h.e(736).then(h.bind(h,9012)):h.e(736).then(h.bind(h,499)):h.e(736).then(h.bind(h,5034));sl?"chooseFileSystemEntries"===sl?h.e(736).then(h.bind(h,6980)):h.e(736).then(h.bind(h,868)):h.e(736).then(h.bind(h,3110));const kf=sl?"chooseFileSystemEntries"===sl?h.e(736).then(h.bind(h,1170)):h.e(736).then(h.bind(h,7814)):h.e(736).then(h.bind(h,4001));var Zk,Pi=function(d,u){if(null!=u&&u.collaborators&&
(u=u.collaborators.get(d),null!=u&&u.color))return u.color;d=d.split("").reduce(function(H,T){return H+T.charCodeAt(0)},0);u=Bk.elementBackground.slice(1);var w=Bk.elementStroke.slice(1);return{background:u[d%u.length],stroke:w[d%w.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(Zk||(Zk={}));var zm=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),ml=function(d,u,w,H,T,aa,xa,va,Ca){void 0===Ca&&(Ca=!1);d.translate(aa,xa);d.rotate(va);Ca&&d.fillRect(u-aa,w-xa,H,T);d.strokeRect(u-aa,w-xa,H,T);d.rotate(-va);d.translate(-aa,-xa)},Am=function(d,u,w,H){d.beginPath();d.arc(u,w,H,0,2*Math.PI);d.fill();d.stroke()},bn=function(d,u,w,H,T,aa,xa,va){var Ca=void 0===va?{}:va;va=Ca.renderScrollbars;va=void 0===va||va;var Ra=Ca.renderSelection,Ja=void 0===Ra||Ra;Ra=Ca.renderOptimizations;var hb=void 0!==Ra&&Ra;Ca=Ca.renderGrid;var nb=
void 0===Ca||Ca;if(!aa)return{atLeastOneVisibleElement:!1};var ob=aa.getContext("2d");ob.scale(H,H);var cc=aa.width/H,Xb=aa.height/H;(xa.exportWithDarkMode&&(ob.filter=Ta.Gi),"string"==typeof xa.viewBackgroundColor)?(("transparent"===xa.viewBackgroundColor||5===xa.viewBackgroundColor.length||9===xa.viewBackgroundColor.length||/(hsla|rgba)\(/.test(xa.viewBackgroundColor))&&ob.clearRect(0,0,cc,Xb),Ca=ob.fillStyle,ob.fillStyle=xa.viewBackgroundColor,ob.fillRect(0,0,cc,Xb),ob.fillStyle=Ca):ob.clearRect(0,
0,cc,Xb);Ca=xa.zoom.translation.x;Ra=xa.zoom.translation.y;ob.translate(Ca,Ra);ob.scale(xa.zoom.value,xa.zoom.value);nb&&u.gridSize&&function(sd,Rd,$d,Me,Ah,Uh){var uj=sd.strokeStyle;sd.strokeStyle="rgba(0,0,0,0.1)";sd.beginPath();for(var $i=$d;$i<$d+Ah+2*Rd;$i+=Rd)sd.moveTo($i,Me-Rd),sd.lineTo($i,Me+Uh+2*Rd);for($i=Me;$i<Me+Uh+2*Rd;$i+=Rd)sd.moveTo($d-Rd,$i),sd.lineTo($d+Ah+2*Rd,$i);sd.stroke();sd.strokeStyle=uj}(ob,u.gridSize,-Math.ceil(Ca/xa.zoom.value/u.gridSize)*u.gridSize+xa.scrollX%u.gridSize,
-Math.ceil(Ra/xa.zoom.value/u.gridSize)*u.gridSize+xa.scrollY%u.gridSize,cc/xa.zoom.value,Xb/xa.zoom.value);aa=d.filter(function(sd){var Rd={zoom:xa.zoom,offsetLeft:u.offsetLeft,offsetTop:u.offsetTop,scrollX:xa.scrollX,scrollY:xa.scrollY},$d=pi(sd);sd=$d[0];var Me=$d[1],Ah=$d[2];$d=$d[3];var Uh=og({clientX:Rd.offsetLeft,clientY:Rd.offsetTop},Rd);Rd=og({clientX:Rd.offsetLeft+cc,clientY:Rd.offsetTop+Xb},Rd);return Uh.x<=Ah&&Uh.y<=$d&&Rd.x>=sd&&Rd.y>=Me});(aa.forEach(function(sd){gn(sd,T,ob,hb,xa)}),
u.editingLinearElement)&&(nb=Xf.getElement(u.editingLinearElement.elementId))&&function(sd,Rd,$d,Me){sd.translate($d.scrollX,$d.scrollY);var Ah=sd.strokeStyle,Uh=sd.lineWidth;sd.lineWidth=1/$d.zoom.value;Xf.getPointsGlobalCoordinates(Me).forEach(function(uj,$i){var Pl;sd.strokeStyle="red";sd.setLineDash([]);sd.fillStyle=(null===(Pl=Rd.editingLinearElement)||void 0===Pl?void 0:Pl.activePointIndex)===$i?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Am(sd,uj[0],uj[1],Xf.POINT_HANDLE_SIZE/2/$d.zoom.value)});
sd.setLineDash([]);sd.lineWidth=Uh;sd.translate(-$d.scrollX,-$d.scrollY);sd.strokeStyle=Ah}(ob,u,xa,nb);if(w&&gn(w,T,ob,hb,xa),u.isBindingEnabled&&u.suggestedBindings.filter(function(sd){return null!=sd}).forEach(function(sd){var Rd=ob.strokeStyle,$d=ob.lineWidth,Me=Array.isArray(sd)?bj:Wl;ob.translate(xa.scrollX,xa.scrollY);Me(ob,sd);ob.strokeStyle=Rd;ob.lineWidth=$d;ob.translate(-xa.scrollX,-xa.scrollY)}),Ja&&!u.multiElement&&!u.editingLinearElement){var vc=d.reduce(function(sd,Rd){var $d=[];if(u.selectedElementIds[Rd.id]&&
null==rh(u,Rd)&&$d.push(te.Sn),xa.remoteSelectedElementIds[Rd.id]&&$d.push.apply($d,xa.remoteSelectedElementIds[Rd.id].map(function(Ah){return Pi(Ah,u).background})),$d.length){var Me=bg(Rd);sd.push({angle:Rd.angle,elementX1:Me[0],elementY1:Me[1],elementX2:Me[2],elementY2:Me[3],selectionColors:$d})}return sd},[]);w=function(sd){sd=bk(d,sd);sd=yg(sd);vc.push({angle:0,elementX1:sd[0],elementX2:sd[2],elementY1:sd[1],elementY2:sd[3],selectionColors:[te.Sn]})};Ja=0;for(nb=Ji(u);Ja<nb.length;Ja++)w(nb[Ja]);
u.editingGroupId&&w(u.editingGroupId);vc.forEach(function(sd){var Rd=sd.angle,$d=sd.elementX1,Me=sd.elementY1,Ah=sd.selectionColors,Uh=sd.elementX2-$d;sd=sd.elementY2-Me;var uj=ob.getLineDash(),$i=ob.lineWidth,Pl=ob.lineDashOffset,pn=ob.strokeStyle,cm=4/xa.zoom.value,qn=8/xa.zoom.value,Nm=4/xa.zoom.value;ob.lineWidth=1/xa.zoom.value;ob.translate(xa.scrollX,xa.scrollY);for(var eo=Ah.length,Om=0;Om<eo;++Om)ob.strokeStyle=Ah[Om],ob.setLineDash([qn,Nm+(qn+Nm)*(eo-1)]),ob.lineDashOffset=(qn+Nm)*Om,ml(ob,
$d-cm,Me-cm,Uh+2*cm,sd+2*cm,$d+Uh/2,Me+sd/2,Rd);ob.lineDashOffset=Pl;ob.strokeStyle=pn;ob.lineWidth=$i;ob.setLineDash(uj);ob.translate(-xa.scrollX,-xa.scrollY)});Ja=nf(d,u);if(ob.translate(xa.scrollX,xa.scrollY),1===Ja.length)ob.fillStyle=te.ix,w=pj(Ja[0],xa.zoom,"mouse"),u.viewModeEnabled||tk(ob,xa,w,Ja[0].angle);else if(1<Ja.length&&!u.isRotating){w=4/xa.zoom.value;ob.fillStyle=te.ix;var Zc=yg(Ja);Ja=Zc[0];nb=Zc[1];var ed=Zc[2];Zc=Zc[3];var nd=ob.getLineDash();ob.setLineDash([2/xa.zoom.value]);
var ce=ob.lineWidth;ob.lineWidth=1/xa.zoom.value;ml(ob,Ja-w,nb-w,ed-Ja+2*w,Zc-nb+2*w,(Ja+ed)/2,(nb+Zc)/2,0);ob.lineWidth=ce;ob.setLineDash(nd);w=Ck([Ja,nb,ed,Zc],0,xa.zoom,"mouse",rl);tk(ob,xa,w,0)}ob.translate(-xa.scrollX,-xa.scrollY)}for(var ae in ob.scale(1/xa.zoom.value,1/xa.zoom.value),ob.translate(-Ca,-Ra),xa.remotePointerViewportCoords){Ca=xa.remotePointerViewportCoords[ae];ed=Ca.x;Zc=Ca.y;ed-=u.offsetLeft;Zc-=u.offsetTop;nd=0>ed||ed>cc-9||0>Zc||Zc>Xb-14;ed=Math.max(ed,0);ed=Math.min(ed,cc-
9);Zc=Math.max(Zc,0);Zc=Math.min(Zc,Xb-14);Ca=Pi(ae,u);Ra=Ca.background;w=Ca.stroke;Ja=ob.strokeStyle;nb=(Ca=ob.fillStyle,ob.globalAlpha);ob.strokeStyle=w;ob.fillStyle=Ra;ce=xa.remotePointerUserStates[ae];(nd||ce===Zk.AWAY)&&(ob.globalAlpha=.48);xa.remotePointerButton&&"down"===xa.remotePointerButton[ae]&&(ob.beginPath(),ob.arc(ed,Zc,15,0,2*Math.PI,!1),ob.lineWidth=3,ob.strokeStyle="#ffffff88",ob.stroke(),ob.closePath(),ob.beginPath(),ob.arc(ed,Zc,15,0,2*Math.PI,!1),ob.lineWidth=1,ob.strokeStyle=
w,ob.stroke(),ob.closePath());ob.beginPath();ob.moveTo(ed,Zc);ob.lineTo(ed+1,Zc+14);ob.lineTo(ed+4,Zc+9);ob.lineTo(ed+9,Zc+10);ob.lineTo(ed,Zc);ob.fill();ob.stroke();var Be=xa.remotePointerUsernames[ae],ye="";ce===Zk.AWAY?ye=zm?"⚫️":" (".concat(Zk.AWAY,")"):ce===Zk.IDLE?ye=zm?"\ud83d\udca4":" (".concat(Zk.IDLE,")"):ce===Zk.ACTIVE&&(ye=zm?"\ud83d\udfe2":"");ce="".concat(Be?"".concat(Be," "):"").concat(ye);!nd&&ce&&(ed+=9,Zc+=14,nd=ob.measureText(ce),Be=nd.actualBoundingBoxDescent+nd.actualBoundingBoxAscent,
ob.fillStyle=w,ob.fillRect(ed-1,Zc-1,nd.width+8+2,Be+8+2),ob.fillStyle=Ra,ob.fillRect(ed,Zc,nd.width+8,Be+8),ob.fillStyle=te.ix,ob.fillText(ce,ed+4,Zc+4+nd.actualBoundingBoxAscent));ob.strokeStyle=Ja;ob.fillStyle=Ca;ob.globalAlpha=nb;ob.closePath()}if(va){var Ve=function(sd,Rd,$d,Me){var Ah=Me.scrollX,Uh=Me.scrollY,uj=Me.zoom;if(0===sd.length)return{horizontal:null,vertical:null};Me=yg(sd);var $i=Me[0],Pl=Me[1];sd=Me[2];Me=Me[3];var pn=Rd/uj.value,cm=$d/uj.value,qn=Rd-pn,Nm=$d-cm;uj=parseInt(Uf("sat"));
var eo=parseInt(Uf("sab")),Om=parseInt(Uf("sal")),Ur=parseInt(Uf("sar")),Ut=zf.rtl;Ah=qn/2-Ah+Om;Uh=Nm/2-Uh+uj;pn=Ah+pn-Ur;cm=Uh+cm-eo;$i=Math.min($i,Ah);Pl=Math.min(Pl,Uh);sd=Math.max(sd,pn);Me=Math.max(Me,cm);return{horizontal:Ah===$i&&pn===sd?null:{x:Math.max(Om,4)+(Ah-$i)/(sd-$i)*Rd,y:$d-6-Math.max(4,eo),width:(pn-Ah)/(sd-$i)*Rd-Math.max(8,Om+Ur),height:6},vertical:Uh===Pl&&cm===Me?null:{x:Ut?Math.max(Om,4):Rd-6-Math.max(Ur,4),y:(Uh-Pl)/(Me-Pl)*$d+Math.max(uj,4),width:6,height:(cm-Uh)/(Me-Pl)*
$d-Math.max(8,uj+eo)}}}(d,cc,Xb,xa);Ca=ob.fillStyle;Ja=ob.strokeStyle;ob.fillStyle="rgba(0,0,0,0.3)";ob.strokeStyle="rgba(255,255,255,0.8)";[Ve.horizontal,Ve.vertical].forEach(function(sd){if(sd){var Rd=sd.x,$d=sd.y,Me=sd.width;sd=sd.height;ob.beginPath();ob.moveTo(Rd+3,$d);ob.lineTo(Rd+Me-3,$d);ob.quadraticCurveTo(Rd+Me,$d,Rd+Me,$d+3);ob.lineTo(Rd+Me,$d+sd-3);ob.quadraticCurveTo(Rd+Me,$d+sd,Rd+Me-3,$d+sd);ob.lineTo(Rd+3,$d+sd);ob.quadraticCurveTo(Rd,$d+sd,Rd,$d+sd-3);ob.lineTo(Rd,$d+3);ob.quadraticCurveTo(Rd,
$d,Rd+3,$d);ob.closePath();ob.fill();ob.stroke()}});ob.fillStyle=Ca;ob.strokeStyle=Ja}return ob.scale(1/H,1/H),{atLeastOneVisibleElement:0<aa.length,scrollBars:Ve}},tk=function(d,u,w,H){Object.keys(w).forEach(function(T){var aa=w[T];if(void 0!==aa){var xa=d.lineWidth;d.lineWidth=1/u.zoom.value;"rotation"===T?Am(d,aa[0]+aa[2]/2,aa[1]+aa[3]/2,aa[2]/2):ml(d,aa[0],aa[1],aa[2],aa[3],aa[0]+aa[2]/2,aa[1]+aa[3]/2,H,!0);d.lineWidth=xa}})},Wl=function(d,u){var w=bg(u),H=w[0],T=w[1],aa=w[2]-H;w=w[3]-T;var xa=
Wi(u,aa,w);d.strokeStyle="rgba(0,0,0,.05)";d.lineWidth=xa-4;xa=2+xa/2;switch(u.type){case "rectangle":case "text":ml(d,H-xa,T-xa,aa+2*xa,w+2*xa,H+aa/2,T+w/2,u.angle);break;case "diamond":var va=Math.hypot(aa,w);!function(Ca,Ra,Ja,hb,nb,ob){Ca.translate(hb,nb);Ca.rotate(ob);Ca.beginPath();Ca.moveTo(0,Ja/2);Ca.lineTo(Ra/2,0);Ca.lineTo(0,-Ja/2);Ca.lineTo(-Ra/2,0);Ca.closePath();Ca.stroke();Ca.rotate(-ob);Ca.translate(-hb,-nb)}(d,aa+xa*va/w*2,w+xa*va/aa*2,H+aa/2,T+w/2,u.angle);break;case "ellipse":!function(Ca,
Ra,Ja,hb,nb,ob){Ca.beginPath();Ca.ellipse(hb,nb,Ra/2,Ja/2,ob,0,2*Math.PI);Ca.stroke()}(d,aa+2*xa,w+2*xa,H+aa/2,T+w/2,u.angle)}},bj=function(d,u){var w=u[0],H=u[1];u=u[2];var T=Wi(u,u.width,u.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===H?[0,-1]:"start"===H?[0]:[-1]).forEach(function(aa){aa=Xf.getPointAtIndexGlobalCoordinates(w,aa);Am(d,aa[0],aa[1],T)})},zj=function(d,u,w,H){H=void 0===H?{}:H;var T=H.offsetX,aa=void 0===T?0:T;H=H.offsetY;var xa=void 0===H?0:H;w&&d.forEach(function(va){va.isDeleted||
function(Ca,Ra,Ja,hb,nb){var ob=bg(Ca),cc=ob[0],Xb=ob[1],vc=(ob[2]-cc)/2-(Ca.x-cc),Zc=(ob[3]-Xb)/2-(Ca.y-Xb),ed=180*Ca.angle/Math.PI;ob=Ra.generator;switch(Ca.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Xj(Ca,ob);ob=Ra.draw(ti.get(Ca));1!=(ae=Ca.opacity/100)&&(ob.setAttribute("stroke-opacity","".concat(ae)),ob.setAttribute("fill-opacity","".concat(ae)));ob.setAttribute("transform","translate(".concat(hb||0," ").concat(nb||
0,") rotate(").concat(ed," ").concat(vc," ").concat(Zc,")"));Ja.appendChild(ob);break;case "line":case "draw":case "arrow":Xj(Ca,ob);var nd=Ja.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),ce=Ca.opacity/100;ti.get(Ca).forEach(function($d){$d=Ra.draw($d);1!==ce&&($d.setAttribute("stroke-opacity","".concat(ce)),$d.setAttribute("fill-opacity","".concat(ce)));$d.setAttribute("transform","translate(".concat(hb||0," ").concat(nb||0,") rotate(").concat(ed," ").concat(vc," ").concat(Zc,
")"));"line"!==Ca.type&&"draw"!==Ca.type||!$h(Ca.points)||"transparent"===Ca.backgroundColor||$d.setAttribute("fill-rule","evenodd");nd.appendChild($d)});Ja.appendChild(nd);break;default:if(!Xd(Ca))throw Error("Unimplemented type ".concat(Ca.type));var ae=Ca.opacity/100;ob=Ja.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==ae&&(ob.setAttribute("stroke-opacity","".concat(ae)),ob.setAttribute("fill-opacity","".concat(ae)));ob.setAttribute("transform","translate(".concat(hb||0," ").concat(nb||
0,") rotate(").concat(ed," ").concat(vc," ").concat(Zc,")"));ae=Ca.text.replace(/\r\n?/g,"\n").split("\n");cc=Ca.height/ae.length;Xb=Ca.height-Ca.baseline;for(var Be="center"===Ca.textAlign?Ca.width/2:"right"===Ca.textAlign?Ca.width:0,ye=ph.test(Ca.text)?"rtl":"ltr",Ve="center"===Ca.textAlign?"middle":"right"===Ca.textAlign||"rtl"===ye?"end":"start",sd=0;sd<ae.length;sd++){var Rd=Ja.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Rd.textContent=ae[sd];Rd.setAttribute("x","".concat(Be));
Rd.setAttribute("y","".concat((sd+1)*cc-Xb));Rd.setAttribute("font-family","".concat(Ta.ut[Ca.fontFamily],", ").concat(Ta._D));Rd.setAttribute("font-size","".concat(Ca.fontSize,"px"));Rd.setAttribute("fill",Ca.strokeColor);Rd.setAttribute("text-anchor",Ve);Rd.setAttribute("style","white-space: pre;");Rd.setAttribute("direction",ye);ob.appendChild(Rd)}Ja.appendChild(ob)}}(va,u,w,va.x+aa,va.y+xa)})},nl=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},rm=function(d,u,w,
H){var T=w.exportBackground,aa=w.exportPadding;aa=void 0===aa?10:aa;var xa=w.viewBackgroundColor,va=w.scale,Ca=void 0===va?1:va;w=w.shouldAddWatermark;void 0===H&&(H=function(Ja,hb){var nb=document.createElement("canvas");return nb.width=Ja*Ca,nb.height=hb*Ca,{canvas:nb,scale:Ca}});d=Vn(d,w);var Ra=cn(d,aa,w);w=Ra[0];va=Ra[1];Ra=H(Ra[2],Ra[3]);H=Ra.canvas;Ra=Ra.scale;return bn(d,u,null,void 0===Ra?Ca:Ra,Fh.canvas(H),H,{viewBackgroundColor:T?xa:null,exportWithDarkMode:u.exportWithDarkMode,scrollX:-w+
aa,scrollY:-va+aa,zoom:xh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),H},Il=function(d,u){var w=u.exportBackground,H=u.exportPadding;H=void 0===H?10:H;var T=u.viewBackgroundColor,aa=u.exportWithDarkMode,xa=u.scale;xa=void 0===xa?1:xa;var va=u.shouldAddWatermark;u=u.metadata;u=void 0===u?"":u;d=Vn(d,va);var Ca=cn(d,H,va);
va=Ca[0];var Ra=Ca[1],Ja=Ca[2],hb=Ca[3];Ca=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ca.setAttribute("version","1.1"),Ca.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ca.setAttribute("viewBox","0 0 ".concat(Ja," ").concat(hb)),Ca.setAttribute("width","".concat(Ja*xa)),Ca.setAttribute("height","".concat(hb*xa)),aa&&Ca.setAttribute("filter",Ta.Gi),Ca.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(u,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
w&&T)w=Ca.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),w.setAttribute("x","0"),w.setAttribute("y","0"),w.setAttribute("width","".concat(Ja)),w.setAttribute("height","".concat(hb)),w.setAttribute("fill",T),Ca.appendChild(w);w=Fh.svg(Ca);return zj(d,w,Ca,{offsetX:-va+H,offsetY:-Ra+H}),Ca},Vn=function(d,u){var w=nl([],d);u&&(u=yg(d),d=u[2],u=u[3],w=nl([],w),d=Dj({text:Sb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:Ta.rk,textAlign:"right",verticalAlign:Ta.hs,x:d,y:u+16,strokeColor:te.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),w=nl(w,[d]));return w},cn=function(d,u,w){d=yg(d);var H=d[0],T=d[1];return[H,T,Math.abs(H-d[2])+2*u,Math.abs(T-d[3])+u+(w?0:u)]},Aj=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},ln=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},Zi=function(d,u){return d.slice(1).every(function(w){return null!==
ln(w[u])})},Gn=function(d){var u=d[0].length;if(2<u)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===u){if(!Zi(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};u=null===ln(d[0][0]);var w=(u?d.slice(1):d).map(function(aa){return ln(aa[0])});return 2>w.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:u?d[0][0]:null,labels:null,values:w}}}var H=Zi(d,0)?0:1;if(!Zi(d,H))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var T=(H+1)%2;w=(u=null===ln(d[0][H]))?d.slice(1):d;return 2>w.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:u?d[0][H]:null,labels:w.map(function(aa){return aa[T]}),values:w.map(function(aa){return ln(aa[H])})}}},An=Bk.elementBackground.slice(2,Bk.elementBackground.length),uh={fillStyle:"hachure",fontFamily:Ta.rk,fontSize:Ta.n5,opacity:100,roughness:1,strokeColor:Bk.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Sn=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Bm=function(d,u,w,H,T,aa){var xa=Sn(d),va=xa.chartWidth,Ca=xa.chartHeight;xa=d.title?Dj(Ae(Ae({backgroundColor:T,groupIds:[H]},uh),{},{text:d.title,x:u+va/2,y:w-256-24-Ta.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;aa=aa?Hl(Ae(Ae({backgroundColor:T,groupIds:[H]},uh),{},{type:"rectangle",x:u,y:w-Ca,width:va,height:Ca,strokeColor:Bk.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Aj(Aj(Aj(Aj(Aj([],aa?[aa]:[]),xa?[xa]:[]),function(Ra,Ja,hb,nb,ob){var cc;return(null===(cc=Ra.labels)||void 0===cc?void 0:cc.map(function(Xb,vc){return Dj(Ae(Ae({groupIds:[nb],backgroundColor:ob},uh),{},{text:8<Xb.length?"".concat(Xb.slice(0,5),"..."):Xb,x:Ja+44*vc+24,y:hb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,u,w,H,T)),function(Ra,Ja,hb,nb,ob){var cc=Dj(Ae(Ae({groupIds:[nb],backgroundColor:ob},uh),{},{x:Ja-12,y:hb-12,text:"0",textAlign:"right"}));
return[cc,Dj(Ae(Ae({groupIds:[nb],backgroundColor:ob},uh),{},{x:Ja-12,y:hb-256-cc.height/2,text:Math.max.apply(Math,Ra.values).toLocaleString(),textAlign:"right"}))]}(d,u,w,H,T)),function(Ra,Ja,hb,nb,ob){var cc=Sn(Ra);Ra=cc.chartWidth;cc=cc.chartHeight;return[Ke(Ae(Ae({backgroundColor:ob,groupIds:[nb]},uh),{},{type:"line",x:Ja,y:hb,startArrowhead:null,endArrowhead:null,width:Ra,points:[[0,0],[Ra,0]]})),Ke(Ae(Ae({backgroundColor:ob,groupIds:[nb]},uh),{},{type:"line",x:Ja,y:hb,startArrowhead:null,endArrowhead:null,
height:cc,points:[[0,0],[0,-cc]]})),Ke(Ae(Ae({backgroundColor:ob,groupIds:[nb]},uh),{},{type:"line",x:Ja,y:hb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Ra,opacity:50,points:[[0,0],[Ra,0]]}))]}(d,u,w,H,T))},Tn=function(d,u,w,H){return"line"===d?function(T,aa,xa){for(var va=Math.max.apply(Math,T.values),Ca=ui(),Ra=An[Math.floor(Math.random()*An.length)],Ja=0,hb=[],nb=0,ob=T.values;nb<ob.length;nb++)hb.push([44*Ja,-ob[nb]/va*256]),Ja++;Ja=Math.max.apply(Math,hb.map(function(Xb){return Xb[0]}));
nb=Math.max.apply(Math,hb.map(function(Xb){return Xb[1]}));ob=Math.min.apply(Math,hb.map(function(Xb){return Xb[0]}));var cc=Math.min.apply(Math,hb.map(function(Xb){return Xb[1]}));hb=Ke(Ae(Ae({backgroundColor:Ra,groupIds:[Ca]},uh),{},{type:"line",x:aa+12+16,y:xa-12,startArrowhead:null,endArrowhead:null,height:nb-cc,width:Ja-ob,strokeWidth:2,points:hb}));Ja=T.values.map(function(Xb,vc){vc=44*vc+6;Xb=-Xb/va*256+6;return Hl(Ae(Ae({backgroundColor:Ra,groupIds:[Ca]},uh),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:aa+vc+16,y:xa+Xb-24,width:12,height:12}))});nb=T.values.map(function(Xb,vc){vc=44*vc+6;Xb=Xb/va*256+18;return Ke(Ae(Ae({backgroundColor:Ra,groupIds:[Ca]},uh),{},{type:"line",x:aa+vc+16+6,y:xa-Xb,startArrowhead:null,endArrowhead:null,height:Xb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Xb]]}))});return Aj(Aj(Aj(Aj([],Bm(T,aa,xa,Ca,Ra,"production"===Ta.Vi.DEVELOPMENT)),[hb]),nb),Ja)}(u,w,H):function(T,aa,xa){var va=Math.max.apply(Math,T.values),Ca=ui(),Ra=An[Math.floor(Math.random()*
An.length)],Ja=T.values.map(function(hb,nb){hb=hb/va*256;return Hl(Ae(Ae({backgroundColor:Ra,groupIds:[Ca]},uh),{},{type:"rectangle",x:aa+44*nb+12,y:xa-hb-12,width:32,height:hb}))});return Aj(Aj([],Ja),Bm(T,aa,xa,Ca,Ra,"production"===Ta.Vi.DEVELOPMENT))}(u,w,H)},Un=function(){var d=function(u,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,T){H.__proto__=T}||function(H,T){for(var aa in T)Object.prototype.hasOwnProperty.call(T,aa)&&(H[aa]=T[aa])})(u,w)};return function(u,
w){function H(){this.constructor=u}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");d(u,w);u.prototype=null===w?Object.create(w):(H.prototype=w.prototype,new H)}}(),kn=function(d){function u(w,H){void 0===w&&(w="Couldn't export canvas.");void 0===H&&(H="CANVAS_ERROR");var T=d.call(this)||this;return T.name=H,T.message=w,T}return Un(u,d),u}(Error),$n=function(d,u){var w,H,T,aa,xa,va,Ca,Ra;d={type:d.type,version:d.version||1,versionNonce:null!==
(w=d.versionNonce)&&void 0!==w?w:0,isDeleted:null!==(H=d.isDeleted)&&void 0!==H&&H,id:d.id||ui(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(T=d.strokeStyle)&&void 0!==T?T:"solid",roughness:null!==(aa=d.roughness)&&void 0!==aa?aa:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(xa=d.seed)&&void 0!==xa?xa:1,groupIds:null!==(va=
d.groupIds)&&void 0!==va?va:[],strokeSharpness:null!==(Ca=d.strokeSharpness)&&void 0!==Ca?Ca:cj(d.type)?"round":"sharp",boundElementIds:null!==(Ra=d.boundElementIds)&&void 0!==Ra?Ra:[]};return Ce(Ce(Ce({},d),Fl(d)),u)},Zh=function(d){return(d||[]).reduce(function(u,w){if("selection"!==w.type&&!Lh(w)){a:{var H;switch(w.type){case "text":var T=w.fontSize,aa=w.fontFamily;if("font"in w){T=w.font.split(" ");aa=T[1];T=parseInt(T[0],10);b:{for(var xa=0,va=Object.entries(Ta.ut);xa<va.length;xa++){var Ca=
va[xa],Ra=Ca[0];if(Ca[1].includes(aa)){aa=parseInt(Ra);break b}}aa=Ta.rk}}w=$n(w,{fontSize:T,fontFamily:aa,text:null!==(H=w.text)&&void 0!==H?H:"",baseline:w.baseline,textAlign:w.textAlign||Ta.Hg,verticalAlign:w.verticalAlign||Ta.hs});break a;case "draw":case "line":case "arrow":H=w.startArrowhead;H=void 0===H?null:H;T=w.endArrowhead;T=void 0===T?"arrow"===w.type?"arrow":null:T;w=$n(w,{startBinding:w.startBinding,endBinding:w.endBinding,points:!Array.isArray(w.points)||2>w.points.length?[[0,0],[w.width,
w.height]]:w.points,lastCommittedPoint:null,startArrowhead:H,endArrowhead:T});break a;case "ellipse":case "rectangle":case "diamond":w=$n(w,{});break a}w=void 0}w&&u.push(w)}return u},[])},dn=function(d,u){d=d||{};for(var w=xh(),H={},T=0,aa=Object.entries(w);T<aa.length;T++){var xa=aa[T],va=xa[0];xa=xa[1];var Ca=d[va],Ra=u?u[va]:void 0;H[va]=void 0!==Ca?Ca:void 0!==Ra?Ra:xa}return Ce(Ce({},H),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:w.zoom.translation}:
d.zoom||w.zoom})},en=function(d,u){return{elements:Zh(null==d?void 0:d.elements),appState:dn(null==d?void 0:d.appState,u||null)}},co=function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],
done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?
Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},wi=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},jh=function(){function d(){}return d.importLibrary=function(u){return Bb()(function(){var w,H,T,aa;return co(this,function(xa){switch(xa.label){case 0:return[4,np(u)];case 1:return(w=
xa.sent())&&w.library?(H=function(va,Ca){return!va.find(function(Ra){return Ra.length===Ca.length&&Ra.every(function(Ja,hb){return Ja.id===Ca[hb].id&&Ja.versionNonce===Ca[hb].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return T=xa.sent(),aa=w.library.reduce(function(va,Ca){Ca=Wd(Zh(Ca));return H(T,Ca)&&va.push(Ca),va},[]),d.saveLibrary(wi(wi([],T),aa)),[2]}})})()},d}();jh.libraryCache=null;jh.resetLibrary=function(){jh.libraryCache=null;localStorage.removeItem(Ta.I.LOCAL_STORAGE_LIBRARY)};jh.loadLibrary=
function(){return new Promise(function(){var d=Bb()(function(u){var w,H;return co(this,function(T){if(jh.libraryCache)return[2,u(JSON.parse(JSON.stringify(jh.libraryCache)))];try{if(!(w=localStorage.getItem(Ta.I.LOCAL_STORAGE_LIBRARY)))return[2,u([])];H=JSON.parse(w).map(function(aa){return Zh(aa)});jh.libraryCache=JSON.parse(JSON.stringify(H));u(H)}catch(aa){console.error(aa),u([])}return[2]})});return function(u){return d.apply(this,arguments)}}())};jh.saveLibrary=function(d){var u=jh.libraryCache;
try{var w=JSON.stringify(d);jh.libraryCache=JSON.parse(w);localStorage.setItem(Ta.I.LOCAL_STORAGE_LIBRARY,w)}catch(H){jh.libraryCache=u,console.error(H)}};var Xl=function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,
{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];
return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},nm=function(d,u){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:wf(d),appState:si(u,"export")},null,2)},Yl=function(){var d=Bb()(function(u,w){var H;return Xl(this,function(T){switch(T.label){case 0:return H=
nm(u,w),[4,Lg(new Blob([H],{type:"application/json"}),{fileName:w.name,description:"Excalidraw file",extensions:[".excalidraw"]},w.fileHandle)];case 1:return[2,{fileHandle:T.sent()}]}})});return function(u,w){return d.apply(this,arguments)}}(),fn=function(){var d=Bb()(function(u){var w;return Xl(this,function(H){switch(H.label){case 0:return[4,Yh({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return w=
H.sent(),[2,Gm(w,u)]}})});return function(u){return d.apply(this,arguments)}}(),om=function(){var d=Bb()(function(){var u,w;return Xl(this,function(H){switch(H.label){case 0:return[4,jh.loadLibrary()];case 1:return u=H.sent(),w=JSON.stringify({type:"excalidrawlib",version:1,library:u},null,2),"library.excalidrawlib",[4,Lg(new Blob([w],{type:Ta.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return H.sent(),[2]}})});
return function(){return d.apply(this,arguments)}}(),mp=function(){var d=Bb()(function(){var u;return Xl(this,function(w){switch(w.label){case 0:return[4,Yh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return u=w.sent(),jh.importLibrary(u),[2]}})});return function(){return d.apply(this,arguments)}}(),Cm=function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");
for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===
Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},Bn=function(){var d=
Bb()(function(u){var w;return Cm(this,function(H){switch(H.label){case 0:if("image/png"!==u.type)return[3,6];H.label=1;case 1:return H.trys.push([1,4,,5]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 2:return[4,H.sent().decodePngMetadata(u)];case 3:return[2,H.sent()];case 4:throw"INVALID"===H.sent().message?Error(Sb("alerts.imageDoesNotContainScene")):Error(Sb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,u.text()]:[3,8];case 7:return w=H.sent(),
[3,10];case 8:return[4,new Promise(function(T){var aa=new FileReader;aa.readAsText(u,"utf8");aa.onloadend=function(){aa.readyState===FileReader.DONE&&T(aa.result)}})];case 9:w=H.sent(),H.label=10;case 10:if("image/svg+xml"!==u.type)return[3,15];H.label=11;case 11:return H.trys.push([11,14,,15]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 12:return[4,H.sent().decodeSvgMetadata({svg:w})];case 13:return[2,H.sent()];case 14:throw"INVALID"===H.sent().message?Error(Sb("alerts.imageDoesNotContainScene")):
Error(Sb("alerts.cannotRestoreFromImage"));case 15:return[2,w]}})});return function(u){return d.apply(this,arguments)}}(),Gm=function(){var d=Bb()(function(u,w){var H,T;return Cm(this,function(aa){switch(aa.label){case 0:return[4,Bn(u)];case 1:H=aa.sent();try{var xa=T=JSON.parse(H);if("excalidraw"!==(null==xa?void 0:xa.type)||xa.elements&&(!Array.isArray(xa.elements)||xa.appState&&"object"!=typeof xa.appState))throw Error(Sb("alerts.couldNotLoadInvalidFile"));var va=wf(T.elements||[]),Ca=null==w?
void 0:w.appearance,Ra;if(Ra=u.handle){var Ja=["application/json",Ta.LO.excalidraw],hb=Ja.includes;a:{if("string"==typeof u)var nb=u;else{if(u.type){var ob=u.type;break a}nb=u.name||""}ob=/\.(excalidraw|json)$/.test(nb)?"application/json":/\.png$/.test(nb)?"image/png":/\.jpe?g$/.test(nb)?"image/jpeg":/\.svg$/.test(nb)?"image/svg+xml":""}Ra=hb.call(Ja,ob)}return[2,en({elements:va,appState:yb(yb({appearance:Ca,fileHandle:Ra?u.handle:null},si(T.appState||{},"export")),w?ji(T.elements||[],w):{})},w)]}catch(cc){throw console.error(cc.message),
Error(Sb("alerts.couldNotLoadInvalidFile"));}}})});return function(u,w){return d.apply(this,arguments)}}(),np=function(){var d=Bb()(function(u){var w,H;return Cm(this,function(T){switch(T.label){case 0:return[4,Bn(u)];case 1:if(w=T.sent(),"excalidrawlib"!==(H=JSON.parse(w)).type)throw Error(Sb("alerts.couldNotLoadInvalidFile"));return[2,H]}})});return function(u){return d.apply(this,arguments)}}(),Dm=function(){var d=Bb()(function(u){return Cm(this,function(w){return[2,new Promise(function(H,T){try{u.toBlob(function(aa){if(!aa)return T(new kn(Sb("canvasError.canvasTooBig"),
"CANVAS_POSSIBLY_TOO_BIG"));H(aa)})}catch(aa){T(aa)}})]})});return function(u){return d.apply(this,arguments)}}(),Uj=function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};
case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?
Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},Fm="",Em=!1,Oh="clipboard"in navigator&&"readText"in navigator.clipboard,Vj="clipboard"in navigator&&"writeText"in navigator.clipboard,Ak="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,
zk=function(){var d=Bb()(function(u,w){var H,T,aa;return Uj(this,function(xa){switch(xa.label){case 0:H={type:"excalidraw/elements",created:Date.now(),elements:nf(u,w)},Fm=T=JSON.stringify(H),xa.label=1;case 1:return xa.trys.push([1,3,,4]),Em=!1,[4,Eb(T)];case 2:return xa.sent(),[3,4];case 3:return aa=xa.sent(),Em=!0,console.error(aa),[3,4];case 4:return[2]}})});return function(u,w){return d.apply(this,arguments)}}(),M=function(){if(!Fm)return{};try{return JSON.parse(Fm)}catch(d){return console.error(d),
{}}},ea=function(d){d=function(u){var w=u.trim().split("\n").map(function(T){return T.trim().split("\t")});if(w.length&&2!==w[0].length&&(w=u.trim().split("\n").map(function(T){return T.trim().split(",")})),0===w.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var H=w[0].length;if(!w.every(function(T){return T.length===H}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};u=Gn(w);return"VALID_SPREADSHEET"!==u.type&&(w=Gn(function(T){for(var aa=[],xa=0;xa<
T[0].length;xa++){for(var va=[],Ca=0;Ca<T.length;Ca++)va.push(T[Ca][xa]);aa.push(va)}return aa}(w)),"VALID_SPREADSHEET"===w.type)?w:u}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},Ba=function(){var d=Bb()(function(u){var w,H,T;return Uj(this,function(aa){switch(aa.label){case 0:return aa.trys.push([0,5,,6]),u?(H=null===(w=u.clipboardData)||void 0===w?void 0:w.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(T=Oh)?[4,navigator.clipboard.readText()]:[3,3];case 2:T=
aa.sent(),aa.label=3;case 3:H=T,aa.label=4;case 4:return[2,H||""];case 5:return aa.sent(),[2,""];case 6:return[2]}})});return function(u){return d.apply(this,arguments)}}(),bb=function(){var d=Bb()(function(u){var w,H,T,aa;return Uj(this,function(xa){switch(xa.label){case 0:return[4,Ba(u)];case 1:if(!(w=xa.sent())||w.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,M()];if(H=ea(w))return[2,H];T=M();try{return aa=JSON.parse(w),"excalidraw/elements"===(null==(va=aa)?void 0:va.type)&&(null==
T||!T.created||T.created<aa.created)?[2,{elements:aa.elements}]:[2,T]}catch(Ca){return[2,Em&&T.elements?T:{text:w}]}}var va})});return function(u){return d.apply(this,arguments)}}(),ub=function(){var d=Bb()(function(u){var w;return Uj(this,function(H){switch(H.label){case 0:return[4,Dm(u)];case 1:return w=H.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":w})])];case 2:return H.sent(),[2]}})});return function(u){return d.apply(this,arguments)}}(),Eb=function(){var d=Bb()(function(u){var w,
H;return Uj(this,function(T){switch(T.label){case 0:if(w=!1,!Vj)return[3,4];T.label=1;case 1:return T.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(u||"")];case 2:return T.sent(),w=!0,[3,4];case 3:return H=T.sent(),console.error(H),[3,4];case 4:if(T=!w){var aa=u||" ",xa="rtl"===document.documentElement.getAttribute("dir");T=document.createElement("textarea");T.style.border="0";T.style.padding="0";T.style.margin="0";T.style.position="absolute";T.style[xa?"right":"left"]="-9999px";T.style.top=
"".concat(window.pageYOffset||document.documentElement.scrollTop,"px");T.style.fontSize="12pt";T.setAttribute("readonly","");T.value=aa;document.body.appendChild(T);aa=!1;try{T.select(),T.setSelectionRange(0,T.value.length),aa=document.execCommand("copy")}catch(va){console.error(va)}T=!(T.remove(),aa)}if(T)throw Error("couldn't copy");return[2]}})});return function(u){return d.apply(this,arguments)}}(),jc=function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");
for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===
Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},wc=function(){var d=
Bb()(function(u,w,H,T,aa){var xa,va,Ca,Ra,Ja,hb,nb,ob,cc,Xb=aa.exportBackground,vc=aa.exportPadding,Zc=void 0===vc?10:vc,ed=aa.viewBackgroundColor,nd=aa.name;vc=aa.scale;var ce=void 0===vc?1:vc,ae=aa.shouldAddWatermark;return jc(this,function(Be){switch(Be.label){case 0:if(0===w.length)throw Error(Sb("alerts.cannotExportEmptyCanvas"));return"svg"!==u&&"clipboard-svg"!==u?[3,7]:(va=Il,Ca=[w],Ra={exportBackground:Xb,exportWithDarkMode:H.exportWithDarkMode,viewBackgroundColor:ed,exportPadding:Zc,scale:ce,
shouldAddWatermark:ae},H.exportEmbedScene&&"svg"===u?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,3]);case 1:return[4,Be.sent().encodeSvgMetadata({text:nm(w,H)})];case 2:return Ja=Be.sent(),[3,4];case 3:Ja=void 0,Be.label=4;case 4:return xa=va.apply(void 0,Ca.concat([(Ra.metadata=Ja,Ra)])),"svg"!==u?[3,6]:[4,Lg(new Blob([xa.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(nd,".svg"),extensions:[".svg"]})];case 5:return Be.sent(),[2];case 6:if("clipboard-svg"===u)return Eb(xa.outerHTML),
[2];Be.label=7;case 7:return(hb=rm(w,H,{exportBackground:Xb,viewBackgroundColor:ed,exportPadding:Zc,scale:ce,shouldAddWatermark:ae})).style.display="none",document.body.appendChild(hb),"png"!==u?[3,13]:(nb="".concat(nd,".png"),[4,Dm(hb)]);case 8:return ob=Be.sent(),H.exportEmbedScene?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,11];case 9:return[4,Be.sent().encodePngMetadata({blob:ob,metadata:nm(w,H)})];case 10:ob=Be.sent(),Be.label=11;case 11:return[4,Lg(ob,{fileName:nb,extensions:[".png"]})];
case 12:return Be.sent(),[3,17];case 13:if("clipboard"!==u)return[3,17];Be.label=14;case 14:return Be.trys.push([14,16,,17]),[4,ub(hb)];case 15:return Be.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(cc=Be.sent()).name)throw cc;throw Error(Sb("alerts.couldNotCopyToClipboard"));case 17:return hb!==T&&hb.remove(),[2]}})});return function(u,w,H,T,aa){return d.apply(this,arguments)}}(),Ic=function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");
for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===
Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},Uc,jd,
Md;Fd({name:"changeProjectName",perform:function(d,u,w){return Og("change","title"),{appState:Xa(Xa({},u),{},{name:w}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,w=d.updateData;return V().createElement(ch,{label:Sb("labels.fileTitle"),value:u.name||"Unnamed",onChange:function(H){return w(H)}})}});Fd({name:"changeExportBackground",perform:function(d,u,w){return{appState:Xa(Xa({},u),{},{exportBackground:w}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,w=d.updateData;
return V().createElement("label",null,V().createElement("input",{type:"checkbox",checked:u.exportBackground,onChange:function(H){return w(H.target.checked)}})," ",Sb("labels.withBackground"))}});Fd({name:"changeExportEmbedScene",perform:function(d,u,w){return{appState:Xa(Xa({},u),{},{exportEmbedScene:w}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,w=d.updateData;return V().createElement("label",{style:{display:"flex"}},V().createElement("input",{type:"checkbox",checked:u.exportEmbedScene,
onChange:function(H){return w(H.target.checked)}})," ",Sb("labels.exportEmbedScene"),V().createElement(Rj,{label:Sb("labels.exportEmbedScene_details"),position:"above",long:!0},V().createElement("div",{className:"TooltipIcon"},$c)))}});Fd({name:"changeShouldAddWatermark",perform:function(d,u,w){return{appState:Xa(Xa({},u),{},{shouldAddWatermark:w}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,w=d.updateData;return V().createElement("label",null,V().createElement("input",{type:"checkbox",
checked:u.shouldAddWatermark,onChange:function(H){return w(H.target.checked)}})," ",Sb("labels.addWatermark"))}});Fd({name:"saveScene",perform:(Uc=Bb()(function(d,u,w){var H,T,aa;return Ic(this,function(xa){switch(xa.label){case 0:H=!!u.fileHandle,xa.label=1;case 1:return xa.trys.push([1,3,,4]),[4,Yl(d,u)];case 2:return T=xa.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},u),{},{fileHandle:T,toastMessage:H?T.name?Sb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(T.name,'"')):
Sb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(aa=xa.sent())?void 0:aa.name)&&console.error(aa),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,u,w){return Uc.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d[Te]&&!d.shiftKey},PanelComponent:function(d){var u=d.updateData;return V().createElement(Ze,{type:"button",icon:se,title:Sb("buttons.save"),"aria-label":Sb("buttons.save"),showAriaLabel:Pe(),onClick:function(){return u(null)}})}});Fd({name:"saveAsScene",
perform:(jd=Bb()(function(d,u,w){var H,T;return Ic(this,function(aa){switch(aa.label){case 0:return aa.trys.push([0,2,,3]),[4,Yl(d,Xa(Xa({},u),{},{fileHandle:null}))];case 1:return H=aa.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},u),{},{fileHandle:H})}];case 2:return"AbortError"!==(null==(T=aa.sent())?void 0:T.name)&&console.error(T),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,u,w){return jd.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[Te]},
PanelComponent:function(d){var u=d.updateData;return V().createElement(Ze,{type:"button",icon:xm,title:Sb("buttons.saveAs"),"aria-label":Sb("buttons.saveAs"),showAriaLabel:Pe(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return u(null)}})}});Fd({name:"loadScene",perform:(Md=Bb()(function(d,u){var w,H,T,aa;return Ic(this,function(xa){switch(xa.label){case 0:return xa.trys.push([0,2,,3]),[4,fn(u)];case 1:return w=xa.sent(),H=w.elements,T=w.appState,
[2,{elements:H,appState:T,commitToHistory:!0}];case 2:return"AbortError"===(null==(aa=xa.sent())?void 0:aa.name)?[2,!1]:[2,{elements:d,appState:Xa(Xa({},u),{},{errorMessage:aa.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,u){return Md.apply(this,arguments)}),keyTest:function(d){return d[Te]&&"o"===d.key},PanelComponent:function(d){var u=d.updateData;d.appState;return V().createElement(Ze,{type:"button",icon:lm,title:Sb("buttons.load"),"aria-label":Sb("buttons.load"),showAriaLabel:Pe(),
onClick:u})}});Fd({name:"exportWithDarkMode",perform:function(d,u,w){return{appState:Xa(Xa({},u),{},{exportWithDarkMode:w}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,w=d.updateData;return V().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},V().createElement(gk,{value:u.exportWithDarkMode?"dark":"light",onChange:function(H){w("dark"===H)},title:Sb("labels.toggleExportColorScheme")}))}});var Vd="{}",jf=Fd({name:"copyStyles",
perform:function(d,u){d=d.find(function(w){return u.selectedElementIds[w.id]});return d&&(Vd=JSON.stringify(d)),{appState:pb(pb({},u),{},{toastMessage:Sb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[Te]&&d.altKey&&"KeyC"===d.code}}),$e=Fd({name:"pasteStyles",perform:function(d,u){var w=JSON.parse(Vd);return"text"!==(null==w?void 0:w.type)&&"diamond"!==(null==w?void 0:w.type)&&"rectangle"!==(null==w?void 0:w.type)&&"ellipse"!==(null==
w?void 0:w.type)&&"arrow"!==(null==w?void 0:w.type)&&"draw"!==(null==w?void 0:w.type)&&"line"!==(null==w?void 0:w.type)?{elements:d,commitToHistory:!1}:{elements:d.map(function(H){return u.selectedElementIds[H.id]?(H=ug(H,{backgroundColor:null==w?void 0:w.backgroundColor,strokeWidth:null==w?void 0:w.strokeWidth,strokeColor:null==w?void 0:w.strokeColor,strokeStyle:null==w?void 0:w.strokeStyle,fillStyle:null==w?void 0:w.fillStyle,opacity:null==w?void 0:w.opacity,roughness:null==w?void 0:w.roughness}),
Xd(H)&&(af(H,{fontSize:(null==w?void 0:w.fontSize)||Ta.n5,fontFamily:(null==w?void 0:w.fontFamily)||Ta.rk,textAlign:(null==w?void 0:w.textAlign)||Ta.Hg}),pk(H)),H):H}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[Te]&&d.altKey&&"KeyV"===d.code}}),bi=function(d){return V().createElement("label",{title:"".concat(d.title," — ?"),className:"help-icon"},V().createElement("div",{onClick:d.onClick},$c))};Fd({name:"toggleCanvasMenu",perform:function(d,u){return{appState:lc(lc({},
u),{},{openMenu:"canvas"===u.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState;d=d.updateData;return V().createElement(Ze,{type:"button",icon:Qk,"aria-label":Sb("buttons.menu"),onClick:d,selected:"canvas"===u.openMenu})}});Fd({name:"toggleEditMenu",perform:function(d,u){return{appState:lc(lc({},u),{},{openMenu:"shape"===u.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var u=d.elements,w=d.appState;d=d.updateData;return V().createElement(Ze,
{visible:hh(w,Wd(u)),type:"button",icon:Ch,"aria-label":Sb("buttons.edit"),onClick:d,selected:"shape"===w.openMenu})}});Fd({name:"toggleFullScreen",perform:function(){return oh()||document.documentElement.requestFullscreen(),oh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[Te]}});Fd({name:"toggleShortcuts",perform:function(d,u){return{appState:lc(lc({},u),{},{showHelpDialog:!u.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;
return V().createElement(bi,{title:Sb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Uk=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},Zj=function(d,u){d=nf(Wd(d),u);return 2<=d.length&&!function(w){if(2<=w.length)for(var H=function(va){if(w.reduce(function(Ca,Ra){return Ca&&Ra.groupIds.includes(va)},!0))return{value:!0}},T=0,aa=w[0].groupIds;T<aa.length;T++){var xa=H(aa[T]);if("object"==typeof xa)return xa.value}return!1}(d)},Wf=Fd({name:"group",
perform:function(d,u){var w=nf(Wd(d),u);if(2>w.length)return{appState:u,elements:d,commitToHistory:!1};var H=Ji(u);if(1===H.length&&(H=new Set(bk(d,H[0]).map(function(xa){return xa.id})),w=new Set(w.map(function(xa){return xa.id})),(new Set(Uk(Uk([],Array.from(H)),Array.from(w)))).size===H.size))return{appState:u,elements:d,commitToHistory:!1};var T=ui();H=d.map(function(xa){if(u.selectedElementIds[xa.id]){var va=u.editingGroupId;var Ca=ql([],xa.groupIds);va=va?Ca.indexOf(va):-1;Ca=(Ca.splice(-1<
va?va:Ca.length,0,T),Ca);xa=ug(xa,{groupIds:Ca})}return xa});d=bk(H,T);var aa=H.lastIndexOf(d[d.length-1]);w=H.slice(aa+1);H=H.slice(0,aa).filter(function(xa){return!xa.groupIds.includes(T)});d=Uk(Uk(Uk([],H),d),w);return{appState:ak(T,Dc(Dc({},u),{},{selectedGroupIds:{}}),Wd(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,u){return Zj(d,u)},keyTest:function(d){return!d.shiftKey&&d[Te]&&"KeyG"===d.code},PanelComponent:function(d){var u=d.elements,
w=d.appState,H=d.updateData;return V().createElement(Ze,{hidden:!Zj(u,w),type:"button",icon:V().createElement(Ed,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(Sb("labels.group")," — ").concat(Pd("CtrlOrCmd+G")),"aria-label":Sb("labels.group"),visible:ng(Wd(u),w)})}}),vi=Fd({name:"ungroup",perform:function(d,u){if(0===Ji(u).length)return{appState:u,elements:d,commitToHistory:!1};d=d.map(function(w){var H=function(T,aa){return T.filter(function(xa){return!aa[xa]})}(w.groupIds,
u.selectedGroupIds);return H.length===w.groupIds.length?w:ug(w,{groupIds:H})});return{appState:Qh(Dc(Dc({},u),{},{selectedGroupIds:{}}),Wd(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[Te]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(d,u){return 0<Ji(u).length},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{type:"button",hidden:0===Ji(w).length,icon:V().createElement(di,{appearance:w.appearance}),
onClick:function(){return H(null)},title:"".concat(Sb("labels.ungroup")," — ").concat(Pd("CtrlOrCmd+Shift+G")),"aria-label":Sb("labels.ungroup"),visible:ng(Wd(u),w)})}}),Hk=(h(1395),function(d){var u=d.children,w=d.color,H=d.border;d=d.onClick;return V().createElement("div",{className:"Avatar",style:{background:w,border:"1px solid ".concat(H)},onClick:d},u)});Fd({name:"goToCollaborator",perform:function(d,u,w){return w?{appState:Vc(Vc(Vc({},u),Ui({scenePoint:w,viewportDimensions:{width:u.width,height:u.height},
zoom:u.zoom})),{},{openMenu:"canvas"===u.openMenu?null:u.openMenu}),commitToHistory:!1}:{appState:u,commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,w=d.updateData;d=d.id;if(!d)return null;var H=u.collaborators.get(d);if(!H)return null;d=Pi(d,u);u=d.background;d=d.stroke;var T=function(aa){if(!aa)return"?";aa=aa.trim().split(" ");return 2>aa.length?aa[0].substring(0,2).toUpperCase():(aa[0][0]+aa[aa.length-1][0]).toUpperCase()}(H.username);return V().createElement(Hk,{color:u,border:d,
onClick:function(){return w(H.pointer)}},T)}});var Im=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},Go=Fd({name:"addToLibrary",perform:function(d,u){var w=nf(Wd(d),u);return jh.loadLibrary().then(function(H){jh.saveLibrary(Im(Im([],H),[w.map(Ej)]))}),!1},contextItemLabel:"labels.addToLibrary"}),En=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},Yn=function(d){var u=new Map;return d.forEach(function(w){var H=0===w.groupIds.length?w.id:
w.groupIds[w.groupIds.length-1],T=u.get(H)||[];u.set(H,En(En([],T),[w]))}),Array.from(u.values())},vf=function(d,u,w){var H,T,aa,xa=w.axis;w=w.position;d=Wj(d);var va="x"===xa?["minX","maxX"]:["minY","maxY"],Ca=va[0];va=va[1];return qc(qc({},{x:0,y:0}),{},"start"===w?((H={})[xa]=u[Ca]-d[Ca],H):"end"===w?((T={})[xa]=u[va]-d[va],T):((aa={})[xa]=(u[Ca]+u[va])/2-(d[Ca]+d[va])/2,aa))},Wj=function(d){d=yg(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},Th=function(d,u){return 1<nf(Wd(d),u).length},
Ii=function(d,u,w){u=function(T,aa){var xa=Yn(T),va=Wj(T);return xa.flatMap(function(Ca){var Ra=vf(Ca,va,aa);return Ca.map(function(Ja){return ug(Ja,{x:Ja.x+Ra.x,y:Ja.y+Ra.y})})})}(nf(Wd(d),u),w);var H=Xi(u);return d.map(function(T){return H[T.id]||T})},mn=(Fd({name:"alignTop",perform:function(d,u){return{appState:u,elements:Ii(d,u,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Te]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var u=d.elements,w=d.appState,
H=d.updateData;return V().createElement(Ze,{hidden:!Th(u,w),type:"button",icon:V().createElement(Dh,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(Sb("labels.alignTop")," — ").concat(Pd("CtrlOrCmd+Shift+Up")),"aria-label":Sb("labels.alignTop"),visible:ng(Wd(u),w)})}}),Fd({name:"alignBottom",perform:function(d,u){return{appState:u,elements:Ii(d,u,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[Te]&&d.shiftKey&&"ArrowDown"===d.key},PanelComponent:function(d){var u=
d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{hidden:!Th(u,w),type:"button",icon:V().createElement(rg,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(Sb("labels.alignBottom")," — ").concat(Pd("CtrlOrCmd+Shift+Down")),"aria-label":Sb("labels.alignBottom"),visible:ng(Wd(u),w)})}}),Fd({name:"alignLeft",perform:function(d,u){return{appState:u,elements:Ii(d,u,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[Te]&&d.shiftKey&&
"ArrowLeft"===d.key},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{hidden:!Th(u,w),type:"button",icon:V().createElement(Hj,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(Sb("labels.alignLeft")," — ").concat(Pd("CtrlOrCmd+Shift+Left")),"aria-label":Sb("labels.alignLeft"),visible:ng(Wd(u),w)})}}),Fd({name:"alignRight",perform:function(d,u){return{appState:u,elements:Ii(d,u,{position:"end",axis:"x"}),commitToHistory:!0}},
keyTest:function(d){return d[Te]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{hidden:!Th(u,w),type:"button",icon:V().createElement(nn,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(Sb("labels.alignRight")," — ").concat(Pd("CtrlOrCmd+Shift+Right")),"aria-label":Sb("labels.alignRight"),visible:ng(Wd(u),w)})}}),Fd({name:"alignVerticallyCentered",perform:function(d,u){return{appState:u,
elements:Ii(d,u,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{hidden:!Th(u,w),type:"button",icon:V().createElement(Eh,{appearance:w.appearance}),onClick:function(){return H(null)},title:Sb("labels.centerVertically"),"aria-label":Sb("labels.centerVertically"),visible:ng(Wd(u),w)})}}),Fd({name:"alignHorizontallyCentered",perform:function(d,u){return{appState:u,elements:Ii(d,u,{position:"center",
axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{hidden:!Th(u,w),type:"button",icon:V().createElement(ad,{appearance:w.appearance}),onClick:function(){return H(null)},title:Sb("labels.centerHorizontally"),"aria-label":Sb("labels.centerHorizontally"),visible:ng(Wd(u),w)})}}),function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d}),aq=function(d){var u=new Map;return d.forEach(function(w){var H=
0===w.groupIds.length?w.id:w.groupIds[w.groupIds.length-1],T=u.get(H)||[];u.set(H,mn(mn([],T),[w]))}),Array.from(u.values())},qj=function(d){var u=yg(d);d=u[0];var w=u[1],H=u[2];u=u[3];return{minX:d,minY:w,maxX:H,maxY:u,width:H-d,height:u-w,midX:(d+H)/2,midY:(w+u)/2}},Fo=function(d,u){return 1<nf(Wd(d),u).length},Cn=function(d,u,w){u=function(T,aa){var xa="x"===aa.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],va=xa[0],Ca=xa[1],Ra=xa[2],Ja=xa[3],hb=qj(T);T=aq(T).map(function(nd){return[nd,
qj(nd)]}).sort(function(nd,ce){return nd[1][Ca]-ce[1][Ca]});for(var nb=xa=0;nb<T.length;nb++)xa+=T[nb][1][Ja];var ob=(hb[Ja]-xa)/(T.length-1);if(0>ob){var cc=T.findIndex(function(nd){return nd[1][va]===hb[va]}),Xb=T.findIndex(function(nd){return nd[1][Ra]===hb[Ra]}),vc=(T[Xb][1][Ca]-T[cc][1][Ca])/(T.length-1),Zc=T[cc][1][Ca];return T.flatMap(function(nd,ce){var ae=nd[0];nd=nd[1];var Be={x:0,y:0};return ce!==cc&&ce!==Xb&&(Zc+=vc,Be[aa.axis]=Zc-nd[Ca]),ae.map(function(ye){return ug(ye,{x:ye.x+Be.x,
y:ye.y+Be.y})})})}var ed=hb[va];return T.flatMap(function(nd){var ce=nd[0];nd=nd[1];var ae={x:0,y:0};return ae[aa.axis]=ed-nd[va],ed+=ob,ed+=nd[Ja],ce.map(function(Be){return ug(Be,{x:Be.x+ae.x,y:Be.y+ae.y})})})}(nf(Wd(d),u),w);var H=Xi(u);return d.map(function(T){return H[T.id]||T})},Wn=(Fd({name:"distributeHorizontally",perform:function(d,u){return{appState:u,elements:Cn(d,u,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var u=
d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{hidden:!Fo(u,w),type:"button",icon:V().createElement(Sc,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(Sb("labels.distributeHorizontally")," — ").concat(Pd("Alt+H")),"aria-label":Sb("labels.distributeHorizontally"),visible:ng(Wd(u),w)})}}),Fd({name:"distributeVertically",perform:function(d,u){return{appState:u,elements:Cn(d,u,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&
"KeyV"===d.code},PanelComponent:function(d){var u=d.elements,w=d.appState,H=d.updateData;return V().createElement(Ze,{hidden:!Fo(u,w),type:"button",icon:V().createElement(yd,{appearance:w.appearance}),onClick:function(){return H(null)},title:"".concat(Sb("labels.distributeVertically")," — ").concat(Pd("Alt+V")),"aria-label":Sb("labels.distributeVertically"),visible:ng(Wd(u),w)})}}),function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");
for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===
Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa}),hn=
Fd({name:"copy",perform:function(d,u){return zk(Wd(d),u),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),$p=Fd({name:"cut",perform:function(d,u,w,H){return hn.perform(d,u,w,H),bm.perform(d,u,w,H)},contextItemLabel:"labels.cut",keyTest:function(d){return d[Te]&&"KeyX"===d.code}}),rp=Fd({name:"copyAsSvg",perform:function(){var d=Bb()(function(u,w,H,T){var aa,xa;return Wn(this,function(va){switch(va.label){case 0:if(!T.canvas)return[2,{commitToHistory:!1}];aa=nf(Wd(u),w);va.label=1;case 1:return va.trys.push([1,
3,,4]),[4,wc("clipboard-svg",aa.length?aa:Wd(u),w,T.canvas,w)];case 2:return va.sent(),[2,{commitToHistory:!1}];case 3:return xa=va.sent(),console.error(xa),[2,{appState:Zd(Zd({},w),{},{errorMessage:xa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(u,w,H,T){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),qp=Fd({name:"copyAsPng",perform:function(){var d=Bb()(function(u,w,H,T){var aa,xa;return Wn(this,function(va){switch(va.label){case 0:if(!T.canvas)return[2,
{commitToHistory:!1}];aa=nf(Wd(u),w);va.label=1;case 1:return va.trys.push([1,3,,4]),[4,wc("clipboard",aa.length?aa:Wd(u),w,T.canvas,w)];case 2:return va.sent(),[2,{appState:Zd(Zd({},w),{},{toastMessage:Sb("toast.copyToClipboardAsPng",{exportSelection:aa.length?Sb("toast.selection"):Sb("toast.canvas"),exportColorScheme:w.exportWithDarkMode?Sb("buttons.darkMode"):Sb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return xa=va.sent(),console.error(xa),[2,{appState:Zd(Zd({},w),{},{errorMessage:xa.message}),
commitToHistory:!1}];case 4:return[2]}})});return function(u,w,H,T){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),op=Fd({name:"gridMode",perform:function(d,u){return Og("view","mode","grid"),{appState:Nc(Nc({},u),{},{gridSize:this.checked(u)?null:Ta.k}),commitToHistory:!1}},checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[Te]&&"Quote"===d.code}}),
ee=Fd({name:"zenMode",perform:function(d,u){return Og("view","mode","zen"),{appState:wb(wb({},u),{},{zenModeEnabled:!this.checked(u)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[Te]&&d.altKey&&"KeyZ"===d.code}}),Xn=Fd({name:"stats",perform:function(d,u){return{appState:$b($b({},u),{},{showStats:!this.checked(u)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),pp=function(d,
u,w){if(!(u.multiElement||u.resizingElement||u.editingElement||u.draggingElement)){w=w();if(null===w)return{commitToHistory:!1};var H=Xi(d),T=w.elements,aa=Xi(T);d=d.filter(function(xa){return!aa.hasOwnProperty(xa.id)});T=T.map(function(xa){return ug(H[xa.id]||xa,xa)}).concat(d.map(function(xa){return ug(xa,{isDeleted:!0})}));return mj(T,d),{elements:T,appState:od(od({},u),w.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},qm=function(){function d(u,w,H,T){var aa=this;this.actions=
{};this.renderAction=function(xa,va){if(aa.actions[xa]&&"PanelComponent"in aa.actions[xa]){var Ca=aa.actions[xa];xa=Ca.PanelComponent;return V().createElement(xa,{elements:aa.getElementsIncludingDeleted(),appState:aa.getAppState(),updateData:function(Ra){aa.updater(Ca.perform(aa.getElementsIncludingDeleted(),aa.getAppState(),Ra,aa.app))},id:va})}return null};this.updater=function(xa){if(!(xa&&"then"in xa))return u(xa);xa.then(function(va){return u(va)})};this.getAppState=w;this.getElementsIncludingDeleted=
H;this.app=T}return d.prototype.registerAction=function(u){this.actions[u.name]=u},d.prototype.registerAll=function(u){var w=this;u.forEach(function(H){return w.registerAction(H)})},d.prototype.handleKeyDown=function(u){var w=this,H=Object.values(this.actions).sort(function(T,aa){return(aa.keyPriority||0)-(T.keyPriority||0)}).filter(function(T){return T.keyTest&&T.keyTest(u,w.getAppState(),w.getElementsIncludingDeleted())});return 0!==H.length&&!(this.getAppState().viewModeEnabled&&!Object.values(Ta.EH).includes(H[0].name))&&
(u.preventDefault(),this.updater(H[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(u){this.updater(u.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),Lm=function(d){d=Array.from(d.values());return{x:ao(d,function(u){return u.x})/d.length,y:ao(d,function(u){return u.y})/d.length}},Zn=function(d){var u=d[0];d=d[1];return Math.hypot(u.x-d.x,u.y-d.y)},ao=function(d,u){return d.reduce(function(w,
H){return w+u(H)},0)},Ho,bq=function(){function d(){var u=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(w,H){return u.dehydrateHistoryEntry({appState:{selectedElementIds:w.selectedElementIds,viewBackgroundColor:w.viewBackgroundColor,editingLinearElement:w.editingLinearElement,editingGroupId:w.editingGroupId,name:w.name},elements:H.reduce(function(T,aa){if(Cg(aa)&&w.multiElement&&w.multiElement.id===aa.id){if(w.multiElement&&
w.multiElement.id===aa.id&&2>aa.points.length)return T;T.push(ke(ke({},aa),{},{points:aa.lastCommittedPoint!==aa.points[aa.points.length-1]?aa.points.slice(0,-1):aa.points}))}else T.push(aa);return T},[])})}}return d.prototype.hydrateHistoryEntry=function(u){var w=u.elements,H=this;return{appState:JSON.parse(u.appState),elements:w.map(function(T){var aa,xa=null===(aa=H.elementCache.get(T.id))||void 0===aa?void 0:aa.get(T.versionNonce);if(!xa)throw Error("Element not found: ".concat(T.id,":").concat(T.versionNonce));
return xa})}},d.prototype.dehydrateHistoryEntry=function(u){var w=u.elements,H=this;return{appState:JSON.stringify(u.appState),elements:w.map(function(T){H.elementCache.has(T.id)||H.elementCache.set(T.id,new Map);var aa=H.elementCache.get(T.id);return aa.has(T.versionNonce)||aa.set(T.versionNonce,Ej(T)),{id:T.id,versionNonce:T.versionNonce}})}},d.prototype.getSnapshotForTest=function(){var u=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(w){return u.hydrateHistoryEntry(w)}),
redoStack:this.redoStack.map(function(w){return u.hydrateHistoryEntry(w)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=function(u){var w,H=this.lastEntry;if(!H||u.elements.length!==H.elements.length)return!0;for(var T=u.elements.length-1;-1<T;T--){var aa=u.elements[T],xa=H.elements[T];if(!aa||!xa||aa.id!==xa.id||aa.versionNonce!==xa.versionNonce)return!0}for(w in u.appState){var va,Ca;
if(("editingLinearElement"!==w||(null===(va=u.appState[w])||void 0===va?void 0:va.elementId)!==(null===(Ca=H.appState[w])||void 0===Ca?void 0:Ca.elementId))&&"selectedElementIds"!==w&&u.appState[w]!==H.appState[w])return!0}return!1},d.prototype.pushEntry=function(u,w){u=this.generateEntry(u,w);(w=this.hydrateHistoryEntry(u))&&this.shouldCreateEntry(w)&&(this.stateHistory.push(u),this.lastEntry=w,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},
d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var u=this.redoStack.pop();return void 0!==u?(this.stateHistory.push(u),this.hydrateHistoryEntry(u)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var u=this.stateHistory.pop(),w=this.stateHistory[this.stateHistory.length-1];return void 0!==u?(this.redoStack.push(u),this.hydrateHistoryEntry(w)):null},d.prototype.setCurrentState=function(u,w){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(u,
w))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(u,w){this.recording&&(this.pushEntry(u,w),this.recording=!1)},d}(),sm=[{icon:V().createElement("svg",{viewBox:"0 0 320 512",className:""},V().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:V().createElement("svg",{viewBox:"0 0 448 512"},V().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:V().createElement("svg",{viewBox:"0 0 223.646 223.646"},V().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:V().createElement("svg",{viewBox:"0 0 512 512"},V().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:V().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},V().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:V().createElement("svg",{viewBox:"0 0 6 6"},
V().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:V().createElement("svg",{viewBox:"0 0 512 512"},V().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:V().createElement("svg",{viewBox:"0 0 448 512"},V().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Eo=(h(4518),{cut:[Pd("CtrlOrCmd+X")],copy:[Pd("CtrlOrCmd+C")],
paste:[Pd("CtrlOrCmd+V")],copyStyles:[Pd("CtrlOrCmd+Alt+C")],pasteStyles:[Pd("CtrlOrCmd+Alt+V")],selectAll:[Pd("CtrlOrCmd+A")],deleteSelectedElements:[Pd("Del")],duplicateSelection:[Pd("CtrlOrCmd+D"),Pd("Alt+".concat(Sb("helpDialog.drag")))],sendBackward:[Pd("CtrlOrCmd+[")],bringForward:[Pd("CtrlOrCmd+]")],sendToBack:[Pd(Hg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Pd(Hg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Pd("Shift+Alt+C")],copyAsSvg:[],group:[Pd("CtrlOrCmd+G")],ungroup:[Pd("CtrlOrCmd+Shift+G")],
gridMode:[Pd("CtrlOrCmd+'")],zenMode:[Pd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Pd("Alt+R")]}),Zp=function(d){var u,w=d.options,H=d.onCloseRequest,T=d.top,aa=d.left,xa=d.actionManager,va=d.appState;d=!(null===(u=document.querySelector(".excalidraw"))||void 0===u||!u.classList.contains("Appearance_dark"));return V().createElement("div",{className:oc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},V().createElement(gb,{onCloseRequest:H,top:T,left:aa,fitInViewport:!0},V().createElement("ul",
{className:"context-menu",onContextMenu:function(Ca){return Ca.preventDefault()}},w.map(function(Ca,Ra){var Ja;if("separator"===Ca)return V().createElement("hr",{key:Ra,className:"context-menu-option-separator"});var hb,nb=Ca.name,ob=Ca.contextItemLabel?Sb(Ca.contextItemLabel):"";return V().createElement("li",{key:Ra,"data-testid":nb,onClick:H},V().createElement("button",{className:oc("context-menu-option",{dangerous:"deleteSelectedElements"===nb,checkmark:null===(Ja=Ca.checked)||void 0===Ja?void 0:
Ja.call(Ca,va)}),onClick:function(){return xa.executeAction(Ca)}},V().createElement("div",{className:"context-menu-option__label"},ob),V().createElement("kbd",{className:"context-menu-option__shortcut"},nb?(hb=Eo[nb])&&0<hb.length?hb[0]:"":"")))}))))},Do=function(){if(Ho)return Ho;var d=document.createElement("div");return document.body.appendChild(d),Ho=d},Jm=function(){(0,Tf.unmountComponentAtNode)(Do())};const Dn=function(d){var u=[];d.options.forEach(function(w){w&&u.push(w)});u.length&&(0,Tf.render)(V().createElement(Zp,
{top:d.top,left:d.left,options:u,onCloseRequest:Jm,actionManager:d.actionManager,appState:d.appState}),Do())};h(1575);const Vk=function(d){var u=d.children,w=d.gap,H=d.align,T=d.justifyContent,aa=d.className;d=d.style;return V().createElement("div",{className:oc("Stack Stack_horizontal",aa),style:Qc({"--gap":w,alignItems:H,justifyContent:T},d)},u)},Wk=function(d){var u=d.children,w=d.gap,H=d.align,T=d.justifyContent;d=d.className;return V().createElement("div",{className:oc("Stack Stack_vertical",
d),style:{"--gap":w,justifyItems:H,justifyContent:T}},u)};var $q=function(d){var u=d.appState,w=d.renderAction,H=d.elementType;d=jk(Wd(d.elements),u);u=!!u.editingElement;var T=Pe(),aa="rtl"===document.documentElement.getAttribute("dir"),xa=Gj(H)||d.some(function(Ca){return Gj(Ca.type)&&(Ra=Ca.backgroundColor,Ja=5===Ra.length&&"0"===Ra.substr(4,1),hb=9===Ra.length&&"00"===Ra.substr(7,2),!(Ja||hb||Ra===Bk.elementBackground[0]));var Ra,Ja,hb}),va=Gj(H)||d.some(function(Ca){return Gj(Ca.type)});return V().createElement("div",
{className:"panelColumn"},w("changeStrokeColor"),va&&w("changeBackgroundColor"),xa&&w("changeFillStyle"),(Mf(H)||d.some(function(Ca){return Mf(Ca.type)}))&&V().createElement(V().Fragment,null,w("changeStrokeWidth"),w("changeStrokeStyle"),w("changeSloppiness")),(qk(H)||d.some(function(Ca){return qk(Ca.type)}))&&V().createElement(V().Fragment,null,w("changeSharpness")),("text"===H||d.some(function(Ca){return"text"===Ca.type}))&&V().createElement(V().Fragment,null,w("changeFontSize"),w("changeFontFamily"),
w("changeTextAlign")),("arrow"===H||d.some(function(Ca){return"arrow"===Ca.type}))&&V().createElement(V().Fragment,null,w("changeArrowhead")),w("changeOpacity"),V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.layers")),V().createElement("div",{className:"buttonList"},w("sendToBack"),w("sendBackward"),w("bringToFront"),w("bringForward"))),1<d.length&&V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.align")),V().createElement("div",{className:"buttonList"},
aa?V().createElement(V().Fragment,null,w("alignRight"),w("alignHorizontallyCentered"),w("alignLeft")):V().createElement(V().Fragment,null,w("alignLeft"),w("alignHorizontallyCentered"),w("alignRight")),2<d.length&&w("distributeHorizontally"),V().createElement("div",{className:"iconRow"},w("alignTop"),w("alignVerticallyCentered"),w("alignBottom"),2<d.length&&w("distributeVertically")))),!T&&!u&&0<d.length&&V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.actions")),V().createElement("div",
{className:"buttonList"},w("duplicateSelection"),w("deleteSelectedElements"),w("group"),w("ungroup"))))},Sr=V().createElement("svg",{viewBox:"0 0 512 512"},V().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
Yp=function(d){var u=d.canvas,w=d.elementType,H=d.setAppState,T=d.isLibraryOpen;return V().createElement(V().Fragment,null,sm.map(function(aa,xa){var va=aa.value,Ca=aa.icon,Ra=aa.key;aa=Sb("toolBar.".concat(va));Ra="".concat(fj("string"==typeof Ra?Ra:Ra[0])," ").concat(Sb("helpDialog.or")," ").concat(xa+1);return V().createElement(Ze,{className:"Shape",key:va,type:"radio",icon:Ca,checked:w===va,name:"editor-current-shape",title:"".concat(fj(aa)," — ").concat(Ra),keyBindingLabel:"".concat(xa+1),"aria-label":fj(aa),
"aria-keyshortcuts":Ra,"data-testid":va,onChange:function(){H({elementType:va,multiElement:null,selectedElementIds:{}});ri(u,va);H({})}})}),V().createElement(Ze,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Sr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(fj(Sb("toolBar.library"))," — 9"),"aria-label":fj(Sb("toolBar.library")),onClick:function(){H({isLibraryOpen:!T})}}))},Rr=function(d){var u=d.renderAction;d=d.zoom;return V().createElement(Wk,
{gap:1},V().createElement(Vk,{gap:1,align:"center"},u("zoomIn"),u("zoomOut"),u("resetZoom"),V().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Zq=function(d){var u=d.appState,w=d.setAppState;d=d.actionManager;return V().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),V().createElement("div",{style:{marginInlineStart:"0.25rem"}},V().createElement(gk,{value:u.appearance,onChange:function(H){w({appearance:H})}})))};h(3211);
const ar=function(d){var u=d.isCollaborating,w=d.collaboratorCount;d=d.onClick;return V().createElement(V().Fragment,null,V().createElement(Ze,{className:oc("CollabButton",{"is-collaborating":u}),onClick:d,icon:Qj,type:"button",title:Sb("labels.liveCollaboration"),"aria-label":Sb("labels.liveCollaboration"),showAriaLabel:Pe()},0<w&&V().createElement("div",{className:"CollabButton-collaborators"},w)))};h(3040);h(7428);var $k=V().forwardRef(function(d,u){var w=d.children,H=d.padding,T=d.className;d=
d.style;return V().createElement("div",{className:oc("Island",T),style:sb({"--padding":H},d),ref:u},w)}),Tr=(h(205),function(d){var u=sp();return u?(0,Tf.createPortal)(V().createElement("div",{className:oc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(w){"Escape"===w.key&&(w.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},V().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),V().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),u):null}),sp=function(){var d=(0,ha.useState)(null),u=d[0],w=d[1];return(0,ha.useLayoutEffect)(function(){var H,T=!(null===(H=document.querySelector(".excalidraw"))||void 0===H||!H.classList.contains("Appearance_dark")),aa=document.createElement("div");return aa.classList.add("excalidraw","excalidraw-modal-container"),T&&(aa.classList.add("Appearance_dark"),aa.classList.add("Appearance_dark-background-none")),
document.body.appendChild(aa),w(aa),function(){document.body.removeChild(aa)}},[]),u},C=function(d){var u=function(){var T=(0,ha.useState)(null),aa=T[1];return[T[0],(0,ha.useCallback)(function(xa){return aa(xa)},[])]}(),w=u[0];u=u[1];(0,ha.useEffect)(function(){if(w){var T=H(w);0<T.length&&!1!==d.autofocus&&(T[1]||T[0]).focus();var aa=function(xa){if("Tab"===xa.key){var va=H(w),Ca=document.activeElement,Ra=va.findIndex(function(Ja){return Ja===Ca});0===Ra&&xa.shiftKey?(va[va.length-1].focus(),xa.preventDefault()):
Ra!==va.length-1||xa.shiftKey||(va[0].focus(),xa.preventDefault())}};return w.addEventListener("keydown",aa),function(){return w.removeEventListener("keydown",aa)}}},[w,d.autofocus]);var H=function(T){return(T=T.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(T):[]};return V().createElement(Tr,{className:oc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},V().createElement($k,{ref:u},V().createElement("h2",
{id:"dialog-title",className:"Dialog__title"},V().createElement("span",{className:"Dialog__titleContent"},d.title),V().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":Sb("buttons.close")},Pe()?aj:Pj)),V().createElement("div",{className:"Dialog__content"},d.children)))},O=function(d){var u=d.message,w=d.onClose,H=(0,ha.useState)(!!u);d=H[0];var T=H[1];H=V().useCallback(function(){T(!1);w&&w()},[w]);return V().createElement(V().Fragment,null,d&&V().createElement(C,
{small:!0,onCloseRequest:H,title:Sb("errorDialog.title")},V().createElement("div",null,u.split("\n").map(function(aa){return V().createElement(V().Fragment,null,aa,V().createElement("br",null))}))))},ma=(h(8623),[1,2,3]),Ia=ma.includes(devicePixelRatio)?devicePixelRatio:1,$a="filter"in document.createElement("canvas").getContext("2d"),qb=function(){return V().createElement("div",null,V().createElement("h3",null,Sb("canvasError.cannotShowPreview")),V().createElement("p",null,V().createElement("span",
null,Sb("canvasError.canvasTooBig"))),V().createElement("em",null,"(",Sb("canvasError.canvasTooBigTip"),")"))},Db=function(d,u){(0,Tf.unmountComponentAtNode)(u);u.innerHTML="";d instanceof HTMLCanvasElement?u.appendChild(d):(0,Tf.render)(V().createElement(qb,null),u)},ac=function(d){var u=d.elements,w=d.appState,H=d.exportPadding,T=void 0===H?10:H;H=d.actionManager;var aa=d.onExportToPng,xa=d.onExportToSvg,va=d.onExportToClipboard,Ca=d.onExportToBackend,Ra=ng(u,w);d=(0,ha.useState)(Ia);var Ja=d[0],
hb=d[1];d=(0,ha.useState)(Ra);var nb=d[0],ob=d[1],cc=(0,ha.useRef)(null),Xb=w.exportBackground,vc=w.viewBackgroundColor,Zc=w.shouldAddWatermark,ed=nb?nf(u,w):u;return(0,ha.useEffect)(function(){ob(Ra)},[Ra]),(0,ha.useEffect)(function(){var nd=cc.current;if(nd)try{var ce=rm(ed,w,{exportBackground:Xb,viewBackgroundColor:vc,exportPadding:T,scale:Ja,shouldAddWatermark:Zc});Dm(ce).then(function(){Db(ce,nd)}).catch(function(ae){console.error(ae);Db(new kn,nd)})}catch(ae){console.error(ae),Db(new kn,nd)}},
[w,ed,Xb,T,vc,Ja,Zc]),V().createElement("div",{className:"ExportDialog"},V().createElement("div",{className:"ExportDialog__preview",ref:cc}),$a&&H.renderAction("exportWithDarkMode"),V().createElement(Wk,{gap:2,align:"center"},V().createElement("div",{className:"ExportDialog__actions"},V().createElement(Vk,{gap:2},V().createElement(Ze,{type:"button",label:"PNG",title:Sb("buttons.exportToPng"),"aria-label":Sb("buttons.exportToPng"),onClick:function(){return aa(ed,Ja)}}),V().createElement(Ze,{type:"button",
label:"SVG",title:Sb("buttons.exportToSvg"),"aria-label":Sb("buttons.exportToSvg"),onClick:function(){return xa(ed,Ja)}}),Ak&&V().createElement(Ze,{type:"button",icon:sk,title:Sb("buttons.copyPngToClipboard"),"aria-label":Sb("buttons.copyPngToClipboard"),onClick:function(){return va(ed,Ja)}}),Ca&&V().createElement(Ze,{type:"button",icon:ll,title:Sb("buttons.getShareableLink"),"aria-label":Sb("buttons.getShareableLink"),onClick:function(){return Ca(ed)}})),V().createElement("div",{className:"ExportDialog__name"},
H.renderAction("changeProjectName")),V().createElement(Vk,{gap:2},ma.map(function(nd){var ce=function(Be,ye,Ve,sd){Be=Vn(Be,Ve);ye=cn(Be,ye,Ve).map(function(Rd){return Math.trunc(Rd*sd)});return[ye[2],ye[3]]}(ed,T,Zc,nd),ae=ce[0];ce=ce[1];ae="".concat(Sb("buttons.scale")," ").concat(nd,"x (").concat(ae,"x").concat(ce,")");return V().createElement(Ze,{key:nd,size:"s",type:"radio",icon:"".concat(nd,"x"),name:"export-canvas-scale",title:ae,"aria-label":ae,id:"export-canvas-scale",checked:nd===Ja,onChange:function(){return hb(nd)}})}))),
H.renderAction("changeExportBackground"),Ra&&V().createElement("div",null,V().createElement("label",null,V().createElement("input",{type:"checkbox",checked:nb,onChange:function(nd){return ob(nd.currentTarget.checked)}})," ",Sb("labels.onlySelected"))),H.renderAction("changeExportEmbedScene"),H.renderAction("changeShouldAddWatermark")))},xc=function(d){var u=d.elements,w=d.appState,H=d.exportPadding;H=void 0===H?10:H;var T=d.actionManager,aa=d.onExportToPng,xa=d.onExportToSvg,va=d.onExportToClipboard;
d=d.onExportToBackend;var Ca=(0,ha.useState)(!1),Ra=Ca[0],Ja=Ca[1],hb=(0,ha.useRef)(null);Ca=V().useCallback(function(){var nb;Ja(!1);null===(nb=hb.current)||void 0===nb||nb.focus()},[]);return V().createElement(V().Fragment,null,V().createElement(Ze,{onClick:function(){Ja(!0)},icon:lh,type:"button","aria-label":Sb("buttons.export"),showAriaLabel:Pe(),title:Sb("buttons.export"),ref:hb}),Ra&&V().createElement(C,{onCloseRequest:Ca,title:Sb("buttons.export")},V().createElement(ac,{elements:u,appState:w,
exportPadding:H,actionManager:T,onExportToPng:aa,onExportToSvg:xa,onExportToClipboard:va,onExportToBackend:d,onCloseRequest:Ca})))},Xc=(h(4193),function(d){var u=d.children,w=d.side;d=d.className;return V().createElement("div",{className:oc("FixedSideContainer","FixedSideContainer_side_".concat(w),d)},u)}),ge=V().memo(function(d){d=d.appearance;return V().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},V().createElement("a",
{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},V().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?te.MA[6]:te.MA[8]}),V().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===d?te.ix:te.Sn}),V().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",
fill:"light"===d?te.ix:te.Sn})))}),sf=(h(9705),function(d){return(d=function(u){var w=u.appState,H=u.elements,T=w.elementType;u=w.isResizing;var aa=w.isRotating,xa=w.lastPointerDownWith,va=null!==w.multiElement;if("arrow"===T||"line"===T)return Sb(va?"hints.linearElementMulti":"hints.linearElement");if("draw"===T)return Sb("hints.freeDraw");if("text"===T)return Sb("hints.text");H=nf(H,w);return u&&"mouse"===xa&&1===H.length?(w=H[0],Cg(w)&&2===w.points.length?Sb("hints.lockAngle"):Sb("hints.resize")):
aa&&"mouse"===xa?Sb("hints.rotate"):1===H.length&&Cg(H[0])?w.editingLinearElement?w.editingLinearElement.activePointIndex?Sb("hints.lineEditor_pointSelected"):Sb("hints.lineEditor_nothingSelected"):Sb("hints.lineEditor_info"):null}({appState:d.appState,elements:d.elements}))?(d=Pd(d),V().createElement("div",{className:"HintViewer"},V().createElement("span",null,d))):null}),wd=(h(8465),h(8680),V().createElement("svg",{viewBox:"0 0 1792 1792"},V().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),
De=function(d){var u=d.elements,w=d.pendingElements,H=d.onRemoveFromLibrary;d=d.onClick;var T=(0,ha.useRef)(null);(0,ha.useEffect)(function(){var Ra=u||w;if(Ra){var Ja=Il(Ra,{exportBackground:!1,viewBackgroundColor:te.ix,shouldAddWatermark:!1});Ra=0;for(var hb=T.current.children;Ra<hb.length;Ra++){var nb=hb[Ra];"svg"===nb.tagName&&T.current.removeChild(nb)}T.current.appendChild(Ja);var ob=T.current;return function(){ob.removeChild(Ja)}}},[u,w]);var aa=(0,ha.useState)(!1),xa=aa[0],va=aa[1];aa=Pe();
var Ca=(xa||aa)&&w&&V().createElement("div",{className:"library-unit__adder"},wd);return V().createElement("div",{className:oc("library-unit",{"library-unit__active":u||w}),onMouseEnter:function(){return va(!0)},onMouseLeave:function(){return va(!1)}},V().createElement("div",{className:oc("library-unit__dragger",{"library-unit__pulse":!!w}),ref:T,draggable:!!u,onClick:u||w?d:void 0,onDragStart:function(Ra){va(!1);Ra.dataTransfer.setData(Ta.LO.excalidrawlib,JSON.stringify(u))}}),Ca,u&&(xa||aa)&&V().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":Sb("labels.removeFromLibrary"),onClick:H},Pj))},tf=V().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},V().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),ff=V().createElement("svg",{width:"1792",height:"1792",
viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},V().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Mc=function(d){return V().createElement("label",{className:oc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},V().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),V().createElement("div",{className:"ToolIcon__icon"},d.checked?tf:ff))},Bc=function(d){var u=d.heading,w=d.children;d=Ph()(d,["heading","children"]);var H=V().createElement("h2",{className:"visually-hidden",id:"".concat(u,
"-title")},Sb("headings.".concat(u)));return V().createElement("section",Jd()({},d,{"aria-labelledby":"".concat(u,"-title")}),"function"==typeof w?w(H):V().createElement(V().Fragment,null,H,w))},Lc=(h(3142),function(d){var u=d.children,w=d.className;d=d.mobile;return V().createElement("div",{className:oc("UserList",w,{UserList_mobile:d})},u)}),pd=function(d){var u=d.appState,w=d.elements,H=d.libraryMenu,T=d.actionManager,aa=d.exportButton,xa=d.setAppState,va=d.onCollabButtonClick,Ca=d.onLockToggle,
Ra=d.canvas,Ja=d.isCollaborating,hb=d.renderCustomFooter;d=d.viewModeEnabled;return V().createElement(V().Fragment,null,!d&&V().createElement(Xc,{side:"top",className:"App-top-bar"},V().createElement(Bc,{heading:"shapes"},function(nb){return V().createElement(Wk,{gap:4,align:"center"},V().createElement(Vk,{gap:1},V().createElement($k,{padding:1},nb,V().createElement(Vk,{gap:1},V().createElement(Yp,{canvas:Ra,elementType:u.elementType,setAppState:xa,isLibraryOpen:u.isLibraryOpen}))),V().createElement(Mc,
{checked:u.elementLocked,onChange:Ca,title:Sb("toolBar.lock")})),H)}),V().createElement(sf,{appState:u,elements:w})),V().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},V().createElement($k,{padding:0},"canvas"===u.openMenu?V().createElement(Bc,{className:"App-mobile-menu",heading:"canvasActions"},V().createElement("div",{className:"panelColumn"},V().createElement(Wk,{gap:4},d?V().createElement(V().Fragment,null,T.renderAction("saveScene"),T.renderAction("saveAsScene"),
aa):V().createElement(V().Fragment,null,T.renderAction("loadScene"),T.renderAction("saveScene"),T.renderAction("saveAsScene"),aa,T.renderAction("clearCanvas"),va&&V().createElement(ar,{isCollaborating:Ja,collaboratorCount:u.collaborators.size,onClick:va}),V().createElement(Zq,{actionManager:T,appState:u,setAppState:xa})),null==hb?void 0:hb(!0),0<u.collaborators.size&&V().createElement("fieldset",null,V().createElement("legend",null,Sb("labels.collaborators")),V().createElement(Lc,{mobile:!0},Array.from(u.collaborators).filter(function(nb){nb[0];
return 0!==Object.keys(nb[1]).length}).map(function(nb){var ob=nb[0];nb[1];return V().createElement(V().Fragment,{key:ob},T.renderAction("goToCollaborator",ob))})))))):"shape"===u.openMenu&&!d&&hh(u,w)?V().createElement(Bc,{className:"App-mobile-menu",heading:"selectedShapeActions"},V().createElement($q,{appState:u,elements:w,renderAction:T.renderAction,elementType:u.elementType})):null,V().createElement("footer",{className:"App-toolbar"},d?V().createElement("div",{className:"App-toolbar-content"},
T.renderAction("toggleCanvasMenu")):V().createElement("div",{className:"App-toolbar-content"},T.renderAction("toggleCanvasMenu"),T.renderAction("toggleEditMenu"),T.renderAction("undo"),T.renderAction("redo"),T.renderAction(u.multiElement?"finalize":"duplicateSelection"),T.renderAction("deleteSelectedElements")),u.scrolledOutside&&!u.openMenu&&V().createElement("button",{className:"scroll-back-to-content",onClick:function(){xa(function(nb){for(var ob=1;ob<arguments.length;ob++){var cc=null!=arguments[ob]?
arguments[ob]:{};ob%2?rd(Object(cc),!0).forEach(function(Xb){xe()(nb,Xb,cc[Xb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nb,Object.getOwnPropertyDescriptors(cc)):rd(Object(cc)).forEach(function(Xb){Object.defineProperty(nb,Xb,Object.getOwnPropertyDescriptor(cc,Xb))})}return nb}({},ji(w,u)))}},Sb("buttons.scrollBackToContent"))))))},td=(h(8416),function(d){var u=(0,ha.useRef)(null),w=(0,ha.useState)(null),H=w[0],T=w[1];return(0,ha.useLayoutEffect)(function(){if(d.spreadsheet){var aa=
Tn(d.chartType,d.spreadsheet,0,0);T(aa);var xa=Il(aa,{exportBackground:!1,viewBackgroundColor:te.ix,shouldAddWatermark:!1}),va=u.current;return va.appendChild(xa),d.selected&&va.parentNode.focus(),function(){va.removeChild(xa)}}},[d.spreadsheet,d.chartType,d.selected]),V().createElement("button",{className:"ChartPreview",onClick:function(){H&&d.onClick(d.chartType,H)}},V().createElement("div",{ref:u}))}),Ef=function(d){var u=d.setAppState,w=d.appState,H=d.onClose,T=d.onInsertChart;d=V().useCallback(function(){H&&
H()},[H]);var aa=function(xa,va){T(va);Og("magic","chart",xa);u({currentChartType:xa,pasteDialog:{shown:!1,data:null}})};return V().createElement(C,{small:!0,onCloseRequest:d,title:Sb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},V().createElement("div",{className:"container"},V().createElement(td,{chartType:"bar",spreadsheet:w.pasteDialog.data,selected:"bar"===w.currentChartType,onClick:aa}),V().createElement(td,{chartType:"line",spreadsheet:w.pasteDialog.data,selected:"line"===
w.currentChartType,onClick:aa})))},ve=(h(341),function(){return V().createElement("div",{className:"HelpDialog--header"},V().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},Sb("helpDialog.documentation")),V().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},Sb("helpDialog.blog")),V().createElement("a",{className:"HelpDialog--btn",
href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},Sb("helpDialog.github")))}),Ff=function(d){return V().createElement(V().Fragment,null,V().createElement("h3",null,d.title),d.children)},gg=function(d){return V().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},If=function(d){return V().createElement("div",{style:{width:"49%"}},d.children)},pm=function(d){return V().createElement("div",
{className:"HelpDialog--island"},V().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},mf=function(d){return V().createElement("div",{className:"HelpDialog--shortcut"},V().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},V().createElement("div",{style:{lineHeight:1.4}},d.label),V().createElement("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(u,
w){return V().createElement(V().Fragment,{key:w},V().createElement(cu,null,u),d.isOr&&w!==d.shortcuts.length-1&&Sb("helpDialog.or"))}))))};mf.defaultProps={isOr:!0};var cu=function(d){return V().createElement("kbd",Jd()({className:"HelpDialog--key"},d))},du=function(d){var u=d.onClose;d=V().useCallback(function(){u&&u()},[u]);return V().createElement(V().Fragment,null,V().createElement(C,{onCloseRequest:d,title:Sb("helpDialog.title"),className:"HelpDialog"},V().createElement(ve,null),V().createElement(Ff,
{title:Sb("helpDialog.shortcuts")},V().createElement(gg,null,V().createElement(If,null,V().createElement(pm,{caption:Sb("helpDialog.shapes")},V().createElement(mf,{label:Sb("toolBar.selection"),shortcuts:["V","1"]}),V().createElement(mf,{label:Sb("toolBar.rectangle"),shortcuts:["R","2"]}),V().createElement(mf,{label:Sb("toolBar.diamond"),shortcuts:["D","3"]}),V().createElement(mf,{label:Sb("toolBar.ellipse"),shortcuts:["E","4"]}),V().createElement(mf,{label:Sb("toolBar.arrow"),shortcuts:["A","5"]}),
V().createElement(mf,{label:Sb("toolBar.line"),shortcuts:["P","6"]}),V().createElement(mf,{label:Sb("toolBar.draw"),shortcuts:["Shift+P","7"]}),V().createElement(mf,{label:Sb("toolBar.text"),shortcuts:["T","8"]}),V().createElement(mf,{label:Sb("helpDialog.textNewLine"),shortcuts:[Pd("Enter"),Pd("Shift+Enter")]}),V().createElement(mf,{label:Sb("helpDialog.textFinish"),shortcuts:[Pd("Esc"),Pd("CtrlOrCmd+Enter")]}),V().createElement(mf,{label:Sb("helpDialog.curvedArrow"),shortcuts:["A",Sb("helpDialog.click"),
Sb("helpDialog.click"),Sb("helpDialog.click")],isOr:!1}),V().createElement(mf,{label:Sb("helpDialog.curvedLine"),shortcuts:["L",Sb("helpDialog.click"),Sb("helpDialog.click"),Sb("helpDialog.click")],isOr:!1}),V().createElement(mf,{label:Sb("toolBar.lock"),shortcuts:["Q"]}),V().createElement(mf,{label:Sb("helpDialog.preventBinding"),shortcuts:[Pd("CtrlOrCmd")]})),V().createElement(pm,{caption:Sb("helpDialog.view")},V().createElement(mf,{label:Sb("buttons.zoomIn"),shortcuts:[Pd("CtrlOrCmd++")]}),V().createElement(mf,
{label:Sb("buttons.zoomOut"),shortcuts:[Pd("CtrlOrCmd+-")]}),V().createElement(mf,{label:Sb("buttons.resetZoom"),shortcuts:[Pd("CtrlOrCmd+0")]}),V().createElement(mf,{label:Sb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),V().createElement(mf,{label:Sb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),V().createElement(mf,{label:Sb("buttons.fullScreen"),shortcuts:["F"]}),V().createElement(mf,{label:Sb("buttons.zenMode"),shortcuts:[Pd("Alt+Z")]}),V().createElement(mf,{label:Sb("labels.showGrid"),
shortcuts:[Pd("CtrlOrCmd+'")]}),V().createElement(mf,{label:Sb("labels.viewMode"),shortcuts:[Pd("Alt+R")]}))),V().createElement(If,null,V().createElement(pm,{caption:Sb("helpDialog.editor")},V().createElement(mf,{label:Sb("labels.selectAll"),shortcuts:[Pd("CtrlOrCmd+A")]}),V().createElement(mf,{label:Sb("labels.multiSelect"),shortcuts:[Pd("Shift+".concat(Sb("helpDialog.click")))]}),V().createElement(mf,{label:Sb("labels.moveCanvas"),shortcuts:[Pd("Space+".concat(Sb("helpDialog.drag"))),Pd("Wheel+".concat(Sb("helpDialog.drag")))],
isOr:!0}),V().createElement(mf,{label:Sb("labels.cut"),shortcuts:[Pd("CtrlOrCmd+X")]}),V().createElement(mf,{label:Sb("labels.copy"),shortcuts:[Pd("CtrlOrCmd+C")]}),V().createElement(mf,{label:Sb("labels.paste"),shortcuts:[Pd("CtrlOrCmd+V")]}),V().createElement(mf,{label:Sb("labels.copyAsPng"),shortcuts:[Pd("Shift+Alt+C")]}),V().createElement(mf,{label:Sb("labels.copyStyles"),shortcuts:[Pd("CtrlOrCmd+Alt+C")]}),V().createElement(mf,{label:Sb("labels.pasteStyles"),shortcuts:[Pd("CtrlOrCmd+Alt+V")]}),
V().createElement(mf,{label:Sb("labels.delete"),shortcuts:[Pd("Del")]}),V().createElement(mf,{label:Sb("labels.sendToBack"),shortcuts:[Pd(Hg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),V().createElement(mf,{label:Sb("labels.bringToFront"),shortcuts:[Pd(Hg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),V().createElement(mf,{label:Sb("labels.sendBackward"),shortcuts:[Pd("CtrlOrCmd+[")]}),V().createElement(mf,{label:Sb("labels.bringForward"),shortcuts:[Pd("CtrlOrCmd+]")]}),V().createElement(mf,{label:Sb("labels.alignTop"),
shortcuts:[Pd("CtrlOrCmd+Shift+Up")]}),V().createElement(mf,{label:Sb("labels.alignBottom"),shortcuts:[Pd("CtrlOrCmd+Shift+Down")]}),V().createElement(mf,{label:Sb("labels.alignLeft"),shortcuts:[Pd("CtrlOrCmd+Shift+Left")]}),V().createElement(mf,{label:Sb("labels.alignRight"),shortcuts:[Pd("CtrlOrCmd+Shift+Right")]}),V().createElement(mf,{label:Sb("labels.duplicateSelection"),shortcuts:[Pd("CtrlOrCmd+D"),Pd("Alt+".concat(Sb("helpDialog.drag")))]}),V().createElement(mf,{label:Sb("buttons.undo"),shortcuts:[Pd("CtrlOrCmd+Z")]}),
V().createElement(mf,{label:Sb("buttons.redo"),shortcuts:Cj?[Pd("CtrlOrCmd+Y"),Pd("CtrlOrCmd+Shift+Z")]:[Pd("CtrlOrCmd+Shift+Z")]}),V().createElement(mf,{label:Sb("labels.group"),shortcuts:[Pd("CtrlOrCmd+G")]}),V().createElement(mf,{label:Sb("labels.ungroup"),shortcuts:[Pd("CtrlOrCmd+Shift+G")]})))))))},Vr=function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=
T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&
va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},Rs=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,
T++)d[T]=u[w];return d},au=function(d){var u=d.library,w=d.onRemoveFromLibrary,H=d.onAddToLibrary,T=d.onInsertShape,aa=d.pendingElements,xa=d.setAppState,va=d.setLibraryItems;d=Pe()?4:6;var Ca=Math.max(1,Math.ceil((u.length+(0<aa.length?1:0))/d)),Ra=[],Ja=!1;Ra.push(V().createElement("div",{className:"layer-ui__library-header"},V().createElement(Ze,{key:"import",type:"button",title:Sb("buttons.load"),"aria-label":Sb("buttons.load"),icon:lm,onClick:function(){mp().then(function(){xa({isLibraryOpen:!1})}).catch(Dk).catch(function(vc){xa({errorMessage:vc.message})})}}),
V().createElement(Ze,{key:"export",type:"button",title:Sb("buttons.export"),"aria-label":Sb("buttons.export"),icon:lh,onClick:function(){om().catch(Dk).catch(function(vc){xa({errorMessage:vc.message})})}}),V().createElement(Ze,{key:"reset",type:"button",title:Sb("buttons.resetLibrary"),"aria-label":Sb("buttons.resetLibrary"),icon:Ni,onClick:function(){window.confirm(Sb("alerts.resetLibrary"))&&(jh.resetLibrary(),va([]))}}),V().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
Sb("labels.libraries"))));for(var hb=0;hb<Ca;hb++){for(var nb=d*hb,ob=[],cc=0;cc<d;cc++){var Xb=0<aa.length&&!Ja&&nb+cc>=u.length;Ja=Ja||Xb;ob.push(V().createElement(Wk,{key:cc},V().createElement(De,{elements:u[nb+cc],pendingElements:Xb?aa:void 0,onRemoveFromLibrary:w.bind(null,nb+cc),onClick:Xb?H.bind(null,aa):T.bind(null,u[nb+cc])})))}Ra.push(V().createElement(Vk,{align:"center",gap:1,key:hb},ob))}return V().createElement(Wk,{align:"start",gap:1,className:"layer-ui__library-items"},Ra)},bu=function(d){var u=
d.onClickOutside,w=d.onInsertShape,H=d.pendingElements,T=d.onAddToLibrary;d=d.setAppState;var aa=(0,ha.useRef)(null);!function(ob,cc){(0,ha.useEffect)(function(){var Xb=function(vc){ob.current&&(vc.target instanceof Element&&(ob.current.contains(vc.target)||!document.body.contains(vc.target))||cc(vc))};return document.addEventListener("pointerdown",Xb,!1),function(){document.removeEventListener("pointerdown",Xb)}},[ob,cc])}(aa,function(ob){ob.target.closest(".ToolIcon_type_button__library")||u(ob)});
var xa=(0,ha.useState)([]),va=xa[0],Ca=xa[1],Ra=(0,ha.useState)("preloading");xa=Ra[0];var Ja=Ra[1],hb=(0,ha.useRef)(null);(0,ha.useEffect)(function(){return Promise.race([new Promise(function(ob){hb.current=setTimeout(function(){ob("loading")},100)}),jh.loadLibrary().then(function(ob){Ca(ob);Ja("ready")})]).then(function(ob){"loading"===ob&&Ja("loading")}),function(){clearTimeout(hb.current)}},[]);Ra=(0,ha.useCallback)(function(){var ob=Bb()(function(cc){var Xb,vc;return Vr(this,function(Zc){switch(Zc.label){case 0:return[4,
jh.loadLibrary()];case 1:return Xb=Zc.sent(),vc=Xb.filter(function(ed,nd){return nd!==cc}),jh.saveLibrary(vc),Ca(vc),[2]}})});return function(cc){return ob.apply(this,arguments)}}(),[]);var nb=(0,ha.useCallback)(function(){var ob=Bb()(function(cc){var Xb,vc;return Vr(this,function(Zc){switch(Zc.label){case 0:return[4,jh.loadLibrary()];case 1:return Xb=Zc.sent(),vc=Rs(Rs([],Xb),[cc]),T(),jh.saveLibrary(vc),Ca(vc),[2]}})});return function(cc){return ob.apply(this,arguments)}}(),[T]);return"preloading"===
xa?null:V().createElement($k,{padding:1,ref:aa,className:"layer-ui__library"},"loading"===xa?V().createElement("div",{className:"layer-ui__library-message"},Sb("labels.libraryLoadingMessage")):V().createElement(au,{library:va,onRemoveFromLibrary:Ra,onAddToLibrary:nb,onInsertShape:w,pendingElements:H,setAppState:d,setLibraryItems:Ca}))};const Zt=V().memo(function(d){var u,w=d.actionManager,H=d.appState,T=d.setAppState,aa=d.canvas,xa=d.elements,va=d.onCollabButtonClick,Ca=d.onLockToggle,Ra=d.onInsertElements,
Ja=d.zenModeEnabled,hb=d.showExitZenModeBtn,nb=d.toggleZenMode,ob=d.isCollaborating,cc=d.onExportToBackend,Xb=d.renderCustomFooter;d=d.viewModeEnabled;var vc=Pe(),Zc=function(){var ae=function(Be){return function(){var ye=Bb()(function(Ve,sd){return Vr(this,function(Rd){switch(Rd.label){case 0:return aa?[4,wc(Be,Ve,H,aa,{exportBackground:H.exportBackground,name:H.name,viewBackgroundColor:H.viewBackgroundColor,scale:sd,shouldAddWatermark:H.shouldAddWatermark}).catch(Dk).catch(function($d){console.error($d);
T({errorMessage:$d.message})})]:[3,2];case 1:Rd.sent(),Rd.label=2;case 2:return[2]}})});return function(Ve,sd){return ye.apply(this,arguments)}}()};return V().createElement(xc,{elements:xa,appState:H,actionManager:w,onExportToPng:ae("png"),onExportToSvg:ae("svg"),onExportToClipboard:ae("clipboard"),onExportToBackend:cc?function(Be){cc&&cc(Be,H,aa)}:void 0})},ed=(0,ha.useCallback)(function(ae){T({isLibraryOpen:!1})},[T]),nd=(0,ha.useCallback)(function(){T({selectedElementIds:{},selectedGroupIds:{}})},
[T]),ce=H.isLibraryOpen?V().createElement(bu,{pendingElements:nf(xa,H),onClickOutside:ed,onInsertShape:Ra,onAddToLibrary:nd,setAppState:T}):null;Ra=V().createElement(V().Fragment,null,H.isLoading&&V().createElement(hg,null),H.errorMessage&&V().createElement(O,{message:H.errorMessage,onClose:function(){return T({errorMessage:null})}}),H.showHelpDialog&&V().createElement(du,{onClose:function(){return T({showHelpDialog:!1})}}),H.pasteDialog.shown&&V().createElement(Ef,{setAppState:T,appState:H,onInsertChart:Ra,
onClose:function(){return T({pasteDialog:{shown:!1,data:null}})}}));return vc?V().createElement(V().Fragment,null,Ra,V().createElement(pd,{appState:H,elements:xa,actionManager:w,libraryMenu:ce,exportButton:Zc(),setAppState:T,onCollabButtonClick:va,onLockToggle:Ca,canvas:aa,isCollaborating:ob,renderCustomFooter:Xb,viewModeEnabled:d})):V().createElement("div",{className:oc("layer-ui__wrapper",{"disable-pointerEvents":H.draggingElement||H.resizingElement||H.editingElement&&!Xd(H.editingElement)})},Ra,
(u=hh(H,xa),V().createElement(Xc,{side:"top"},V().createElement("div",{className:"App-menu App-menu_top"},V().createElement(Wk,{gap:4,className:oc({"disable-pointerEvents":Ja})},d?V().createElement(Bc,{heading:"canvasActions",className:oc("zen-mode-transition",{"transition-left":Ja})},V().createElement($k,{padding:2,style:{zIndex:1}},V().createElement(Wk,{gap:4},V().createElement(Vk,{gap:1,justifyContent:"space-between"},w.renderAction("saveScene"),w.renderAction("saveAsScene"),Zc())))):V().createElement(Bc,
{heading:"canvasActions",className:oc("zen-mode-transition",{"transition-left":Ja})},V().createElement($k,{padding:2,style:{zIndex:1}},V().createElement(Wk,{gap:4},V().createElement(Vk,{gap:1,justifyContent:"space-between"},w.renderAction("loadScene"),w.renderAction("saveScene"),w.renderAction("saveAsScene"),Zc(),w.renderAction("clearCanvas"),va&&V().createElement(ar,{isCollaborating:ob,collaboratorCount:H.collaborators.size,onClick:va})),V().createElement(Zq,{actionManager:w,appState:H,setAppState:T})))),
u&&V().createElement(Bc,{heading:"selectedShapeActions",className:oc("zen-mode-transition",{"transition-left":Ja})},V().createElement($k,{className:Ta.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(H.height-200,"px")}},V().createElement($q,{appState:H,elements:xa,renderAction:w.renderAction,elementType:H.elementType})))),!d&&V().createElement(Bc,{heading:"shapes"},function(ae){return V().createElement(Wk,{gap:4,align:"start"},V().createElement(Vk,{gap:1},V().createElement($k,{padding:1,
className:oc({"zen-mode":Ja})},V().createElement(sf,{appState:H,elements:xa}),ae,V().createElement(Vk,{gap:1},V().createElement(Yp,{canvas:aa,elementType:H.elementType,setAppState:T,isLibraryOpen:H.isLibraryOpen}))),V().createElement(Mc,{zenModeEnabled:Ja,checked:H.elementLocked,onChange:Ca,title:Sb("toolBar.lock")})),ce)}),V().createElement(Lc,{className:oc("zen-mode-transition",{"transition-right":Ja})},0<H.collaborators.size&&Array.from(H.collaborators).filter(function(ae){ae[0];return 0!==Object.keys(ae[1]).length}).map(function(ae){var Be=
ae[0];ae=ae[1];return V().createElement(Rj,{label:ae.username||"Unknown user",key:Be},w.renderAction("goToCollaborator",Be))}))))),V().createElement("div",{className:oc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Ja})},V().createElement(Wk,{gap:2},V().createElement(Bc,{heading:"canvasActions"},V().createElement($k,{padding:1},V().createElement(Rr,{renderAction:w.renderAction,zoom:H.zoom})),V().createElement("a",{className:oc("encrypted-icon tooltip zen-mode-visibility",
{"zen-mode-visibility--hidden":Ja}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},V().createElement(Rj,{label:Sb("encrypted.tooltip"),position:"above",long:!0},Bg))))),V().createElement("aside",{className:oc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ja})},V().createElement(ge,{appearance:H.appearance})),V().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},V().createElement("div",
{className:oc("zen-mode-transition",{"transition-right disable-pointerEvents":Ja})},null==Xb?void 0:Xb(!1),w.renderAction("toggleShortcuts")),V().createElement("button",{className:oc("disable-zen-mode",{"disable-zen-mode--visible":hb}),onClick:nb},Sb("buttons.exitZenMode"))),H.scrolledOutside&&V().createElement("button",{className:"scroll-back-to-content",onClick:function(){T(function(ae){for(var Be=1;Be<arguments.length;Be++){var ye=null!=arguments[Be]?arguments[Be]:{};Be%2?ef(Object(ye),!0).forEach(function(Ve){xe()(ae,
Ve,ye[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(ye)):ef(Object(ye)).forEach(function(Ve){Object.defineProperty(ae,Ve,Object.getOwnPropertyDescriptor(ye,Ve))})}return ae}({},ji(xa,H)))}},Sb("buttons.scrollBackToContent")))},function(d,u){var w=function(aa){aa.suggestedBindings;aa.startBoundElement;return Ph()(aa,["suggestedBindings","startBoundElement"])},H=w(d.appState),T=w(u.appState);w=Object.keys(H);return d.renderCustomFooter===u.renderCustomFooter&&
d.langCode===u.langCode&&d.elements===u.elements&&w.every(function(aa){return H[aa]===T[aa]})});var Qs=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(u){return console.error(u),0}},$t=(h(7287),function(d,u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;
switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();
va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa}),Ss=qi(function(d){var u=Qs();try{var w=localStorage.getItem("excalidraw-state"),H=localStorage.getItem("excalidraw-collab"),T=localStorage.getItem(Ta.I.LOCAL_STORAGE_LIBRARY);
var aa=(w?JSON.stringify(w).length:0)+(H?JSON.stringify(H).length:0)+(T?JSON.stringify(T).length:0)+Qs()}catch(xa){aa=(console.error(xa),0)}d({scene:u,total:aa})},500),eu=function(d){var u=Pe(),w=(0,ha.useState)({scene:0,total:0}),H=w[0],T=w[1];(0,ha.useEffect)(function(){Ss(function(Ra){T(Ra)})});(0,ha.useEffect)(function(){return function(){return Ss.cancel()}},[]);w=yg(d.elements);var aa=jk(d.elements,d.appState),xa=yg(aa);if(u&&d.appState.openMenu)return null;var va,Ca;u=Gf();return u!==Ta.eQ?
(Ca=u.slice(0,16).replace("T"," "),va=u.slice(21)):Ca=Sb("stats.versionNotAvailable"),V().createElement("div",{className:"Stats"},V().createElement($k,{padding:2},V().createElement("div",{className:"close",onClick:d.onClose},Pj),V().createElement("h3",null,Sb("stats.title")),V().createElement("table",null,V().createElement("tbody",null,V().createElement("tr",null,V().createElement("th",{colSpan:2},Sb("stats.scene"))),V().createElement("tr",null,V().createElement("td",null,Sb("stats.elements")),V().createElement("td",
null,d.elements.length)),V().createElement("tr",null,V().createElement("td",null,Sb("stats.width")),V().createElement("td",null,Math.round(w[2])-Math.round(w[0]))),V().createElement("tr",null,V().createElement("td",null,Sb("stats.height")),V().createElement("td",null,Math.round(w[3])-Math.round(w[1]))),V().createElement("tr",null,V().createElement("th",{colSpan:2},Sb("stats.storage"))),V().createElement("tr",null,V().createElement("td",null,Sb("stats.scene")),V().createElement("td",null,ol(H.scene,
1))),V().createElement("tr",null,V().createElement("td",null,Sb("stats.total")),V().createElement("td",null,ol(H.total,1))),1===aa.length&&V().createElement("tr",null,V().createElement("th",{colSpan:2},Sb("stats.element"))),1<aa.length&&V().createElement(V().Fragment,null,V().createElement("tr",null,V().createElement("th",{colSpan:2},Sb("stats.selected"))),V().createElement("tr",null,V().createElement("td",null,Sb("stats.elements")),V().createElement("td",null,aa.length))),0<aa.length&&V().createElement(V().Fragment,
null,V().createElement("tr",null,V().createElement("td",null,"x"),V().createElement("td",null,Math.round(1===aa.length?aa[0].x:xa[0]))),V().createElement("tr",null,V().createElement("td",null,"y"),V().createElement("td",null,Math.round(1===aa.length?aa[0].y:xa[1]))),V().createElement("tr",null,V().createElement("td",null,Sb("stats.width")),V().createElement("td",null,Math.round(1===aa.length?aa[0].width:xa[2]-xa[0]))),V().createElement("tr",null,V().createElement("td",null,Sb("stats.height")),V().createElement("td",
null,Math.round(1===aa.length?aa[0].height:xa[3]-xa[1])))),1===aa.length&&V().createElement("tr",null,V().createElement("td",null,Sb("stats.angle")),V().createElement("td",null,"".concat(Math.round(180*aa[0].angle/Math.PI),"°"))),V().createElement("tr",null,V().createElement("th",{colSpan:2},Sb("stats.version"))),V().createElement("tr",null,V().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:Bb()(function(){return $t(this,function(Ra){switch(Ra.label){case 0:return Ra.trys.push([0,
2,,3]),[4,Eb(Gf())];case 1:return Ra.sent(),d.setAppState({toastMessage:Sb("toast.copyToClipboard")}),[3,3];case 2:return Ra.sent(),[3,3];case 3:return[2]}})}),title:Sb("stats.versionCopy")},Ca,V().createElement("br",null),va))))))},fu=(h(5849),function(d){var u=d.message,w=d.clearToast,H=(0,ha.useRef)(0),T=(0,ha.useCallback)(function(){return H.current=window.setTimeout(function(){return w()},Ta.Lg)},[w]);return(0,ha.useEffect)(function(){return T(),function(){return clearTimeout(H.current)}},[T,
u]),V().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==H?void 0:H.current)},onMouseLeave:T},V().createElement("p",{className:"Toast__message"},u))}),Ts=Fd({name:"viewMode",perform:function(d,u){return Og("view","mode","view"),{appState:Rf(Rf({},u),{},{viewModeEnabled:!this.checked(u),selectedElementIds:{}}),commitToHistory:!1}},checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[Te]&&d.altKey&&"KeyR"===
d.code}}),gu=function(){var d=function(u,w){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,T){H.__proto__=T}||function(H,T){for(var aa in T)Object.prototype.hasOwnProperty.call(T,aa)&&(H[aa]=T[aa])})(u,w)};return function(u,w){function H(){this.constructor=u}if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");d(u,w);u.prototype=null===w?Object.create(w):(H.prototype=w.prototype,new H)}}(),Yo=function(d,
u){function w(Ca){return function(Ra){return function(Ja){if(H)throw new TypeError("Generator is already executing.");for(;va;)try{if(H=1,T&&(aa=2&Ja[0]?T.return:Ja[0]?T.throw||((aa=T.return)&&aa.call(T),0):T.next)&&!(aa=aa.call(T,Ja[1])).done)return aa;switch(T=0,aa&&(Ja=[2&Ja[0],aa.value]),Ja[0]){case 0:case 1:aa=Ja;break;case 4:return va.label++,{value:Ja[1],done:!1};case 5:va.label++;T=Ja[1];Ja=[0];continue;case 7:Ja=va.ops.pop();va.trys.pop();continue;default:if(!(aa=va.trys,(aa=0<aa.length&&
aa[aa.length-1])||6!==Ja[0]&&2!==Ja[0])){va=0;continue}if(3===Ja[0]&&(!aa||Ja[1]>aa[0]&&Ja[1]<aa[3]))va.label=Ja[1];else if(6===Ja[0]&&va.label<aa[1])va.label=aa[1],aa=Ja;else if(aa&&va.label<aa[2])va.label=aa[2],va.ops.push(Ja);else{aa[2]&&va.ops.pop();va.trys.pop();continue}}Ja=u.call(d,va)}catch(hb){Ja=[6,hb],T=0}finally{H=aa=0}if(5&Ja[0])throw Ja[1];return{value:Ja[0]?Ja[1]:void 0,done:!0}}([Ca,Ra])}}var H,T,aa,xa,va={label:0,sent:function(){if(1&aa[0])throw aa[1];return aa[1]},trys:[],ops:[]};
return xa={next:w(0),throw:w(1),return:w(2)},"function"==typeof Symbol&&(xa[Symbol.iterator]=function(){return this}),xa},Zg=function(d,u){for(var w=0,H=u.length,T=d.length;w<H;w++,T++)d[T]=u[w];return d},mk=new bq,qq=!1,Xr=0,Dp=0,Ep=0,Zo=!1,rq=!1,Yr=!1,Zr={horizontal:null,vertical:null},go=0,cq=!1,fo=null,vl=new Map,tp=null,cr=null,up=null,Wr=function(d){function u(w){var H=this;var T=H=d.call(this,w)||this;Vt.call(H);var aa,xa,va,Ca=xh(),Ra=w.width,Ja=void 0===Ra?window.innerWidth:Ra;Ra=w.height;
var hb=void 0===Ra?window.innerHeight:Ra,nb=w.offsetLeft,ob=w.offsetTop;Ra=w.excalidrawRef;var cc=w.viewModeEnabled;cc=void 0!==cc&&cc;var Xb=w.zenModeEnabled;Xb=void 0!==Xb&&Xb;w=w.gridModeEnabled;w=void 0!==w&&w;if(H.state=Wa(Wa(Wa({},Ca),{},{isLoading:!0,width:Ja,height:hb},H.getCanvasOffsets({offsetLeft:nb,offsetTop:ob})),{},{viewModeEnabled:cc,zenModeEnabled:Xb,gridSize:w?Ta.k:null}),Ra){var vc;Ca="current"in Ra&&(null===(vc=Ra.current)||void 0===vc?void 0:vc.readyPromise)||((va=new Promise(function(Zc,
ed){aa=Zc;xa=ed})).resolve=aa,va.reject=xa,va);va={ready:!0,readyPromise:Ca,updateScene:H.updateScene,resetScene:H.resetScene,getSceneElementsIncludingDeleted:H.getSceneElementsIncludingDeleted,history:{clear:H.resetHistory},setScrollToCenter:H.setScrollToCenter,getSceneElements:H.getSceneElements,getAppState:function(){return T.state}};"function"==typeof Ra?Ra(va):Ra.current=va;Ca.resolve(va)}return H.scene=new qh,H.actionManager=new qm(H.syncActionResult,function(){return T.state},function(){return T.scene.getElementsIncludingDeleted()},
H),H.actionManager.registerAll(Yi),H.actionManager.registerAction({name:"undo",perform:function(Zc,ed){return pp(Zc,ed,function(){return mk.undoOnce()})},keyTest:function(Zc){return Zc[Te]&&"z"===Zc.key.toLowerCase()&&!Zc.shiftKey},PanelComponent:function(Zc){Zc=Zc.updateData;return V().createElement(Ze,{type:"button",icon:bh,"aria-label":Sb("buttons.undo"),onClick:Zc})},commitToHistory:function(){return!1}}),H.actionManager.registerAction(function(Zc){return{name:"redo",perform:function(ed,nd){return pp(ed,
nd,function(){return Zc.redoOnce()})},keyTest:function(ed){return ed[Te]&&ed.shiftKey&&"z"===ed.key.toLowerCase()||Cj&&ed.ctrlKey&&!ed.shiftKey&&"y"===ed.key},PanelComponent:function(ed){ed=ed.updateData;return V().createElement(Ze,{type:"button",icon:yj,"aria-label":Sb("buttons.redo"),onClick:ed})},commitToHistory:function(){return!1}}}(mk)),H}return gu(u,d),u.prototype.renderCanvas=function(){var w=window.devicePixelRatio,H=this.state,T=H.width,aa=H.height,xa=T*w;w*=aa;return H.viewModeEnabled?
V().createElement("canvas",{id:"canvas",style:{width:T,height:aa,cursor:"grabbing"},width:xa,height:w,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},Sb("labels.drawingCanvas")):V().createElement("canvas",{id:"canvas",style:{width:T,height:aa},width:xa,height:w,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},Sb("labels.drawingCanvas"))},u.prototype.render=function(){var w,H=this,T=this.state,aa=T.zenModeEnabled,xa=T.width,va=T.height;T=T.viewModeEnabled;var Ca=this.props,Ra=Ca.onCollabButtonClick,Ja=Ca.onExportToBackend;Ca=Ca.renderFooter;var hb=
xa/2,nb=va/2;return V().createElement("div",{className:oc("excalidraw",{"excalidraw--view-mode":T}),ref:this.excalidrawContainerRef,style:{width:xa,height:va}},V().createElement(Zt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Ra,onLockToggle:this.toggleLock,onInsertElements:function(ob){return H.addElementsFromPasteOrLibrary(ob,hb,nb)},zenModeEnabled:aa,toggleZenMode:this.toggleZenMode,langCode:zf.code,
isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ja,renderCustomFooter:Ca,viewModeEnabled:T,showExitZenModeBtn:void 0===(null===(w=this.props)||void 0===w?void 0:w.zenModeEnabled)&&aa}),V().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&V().createElement(eu,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&V().createElement(fu,{message:this.state.toastMessage,
clearToast:this.clearToast}),V().createElement("main",null,this.renderCanvas()))},u.prototype.componentDidMount=function(){var w=this;return Bb()(function(){return Yo(this,function(H){return"production"!==Ta.Vi.TEST&&"production"!==Ta.Vi.DEVELOPMENT||(w.setState.bind(w),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return w.state}},setState:{configurable:!0,value:function(){for(var T=[],aa=0;aa<arguments.length;aa++)T[aa]=arguments[aa];return w.setState.apply(w,T)}},app:{configurable:!0,
value:w}})),w.scene.addCallback(w.onSceneUpdated),w.addEventListeners(),"number"==typeof w.props.offsetLeft&&"number"==typeof w.props.offsetTop?w.initializeScene():w.setState(w.getCanvasOffsets(w.props),function(){w.initializeScene()}),[2]})})()},u.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},u.prototype.removeEventListeners=function(){document.removeEventListener(Ta.Ks.COPY,this.onCopy);document.removeEventListener(Ta.Ks.PASTE,
this.pasteFromClipboard);document.removeEventListener(Ta.Ks.CUT,this.onCut);document.removeEventListener(Ta.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(Ta.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(Ta.Ks.KEYUP,this.onKeyUp);window.removeEventListener(Ta.Ks.RESIZE,this.onResize,!1);window.removeEventListener(Ta.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(Ta.Ks.BLUR,this.onBlur,!1);window.removeEventListener(Ta.Ks.DRAG_OVER,this.disableEvent,
!1);window.removeEventListener(Ta.Ks.DROP,this.disableEvent,!1);document.removeEventListener(Ta.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(Ta.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(Ta.Ks.GESTURE_END,this.onGestureEnd,!1)},u.prototype.addEventListeners=function(){var w,H;this.removeEventListeners();document.addEventListener(Ta.Ks.COPY,this.onCopy);document.addEventListener(Ta.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(Ta.Ks.KEYUP,
this.onKeyUp,{passive:!0});document.addEventListener(Ta.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(w=document.fonts)||void 0===w||null===(H=w.addEventListener)||void 0===H||H.call(w,"loadingdone",this.onFontLoaded);document.addEventListener(Ta.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(Ta.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(Ta.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(Ta.Ks.PASTE,
this.pasteFromClipboard),document.addEventListener(Ta.Ks.CUT,this.onCut),document.addEventListener(Ta.Ks.SCROLL,this.onScroll),window.addEventListener(Ta.Ks.RESIZE,this.onResize,!1),window.addEventListener(Ta.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(Ta.Ks.BLUR,this.onBlur,!1),window.addEventListener(Ta.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(Ta.Ks.DROP,this.disableEvent,!1))},u.prototype.componentDidUpdate=function(w,H){var T,aa,xa,va,Ca=this;(w.langCode!==this.props.langCode&&
this.updateLanguage(),w.width!==this.props.width||w.height!==this.props.height||"number"==typeof this.props.offsetLeft&&w.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&w.offsetTop!==this.props.offsetTop)&&this.setState(Wa({width:null!==(xa=this.props.width)&&void 0!==xa?xa:window.innerWidth,height:null!==(va=this.props.height)&&void 0!==va?va:window.innerHeight},this.getCanvasOffsets(this.props)));w.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},
this.addEventListeners);H.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();w.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});w.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?Ta.k:null});null===(T=document.querySelector(".excalidraw"))||void 0===T||T.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&
setTimeout(function(){Ca.actionManager.executeAction(Of)});w=H.multiElement;H.elementType!==this.state.elementType&&null!=w&&this.state.isBindingEnabled&&jg(w)&&ik(w,this.state,this.scene,Ag(Xf.getPointAtIndexGlobalCoordinates(w,-1)));var Ra={},Ja={},hb={},nb={},ob={};this.state.collaborators.forEach(function(vc,Zc){if(vc.selectedElementIds)for(var ed=0,nd=Object.keys(vc.selectedElementIds);ed<nd.length;ed++){var ce=nd[ed];ce in hb||(hb[ce]=[]);hb[ce].push(Zc)}vc.pointer&&(vc.username&&(nb[Zc]=vc.username),
vc.userState&&(ob[Zc]=vc.userState),Ja[Zc]=dh({sceneX:vc.pointer.x,sceneY:vc.pointer.y},Ca.state),Ra[Zc]=vc.button)});H=this.scene.getElements();T=bn(H.filter(function(vc){return!Ca.state.editingElement||"text"!==Ca.state.editingElement.type||vc.id!==Ca.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ja,
remotePointerButton:Ra,remoteSelectedElementIds:hb,remotePointerUsernames:nb,remotePointerUserStates:ob,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!sg().matches});w=T.atLeastOneVisibleElement;(T=T.scrollBars)&&(Zr=T);var cc,Xb;H="text"!==(null===(aa=this.state.editingElement)||void 0===aa?void 0:aa.type)&&!w&&0<H.length;(this.state.scrolledOutside!==H&&this.setState({scrolledOutside:H}),mk.record(this.state,this.scene.getElementsIncludingDeleted()),
this.state.isLoading)||null===(cc=(Xb=this.props).onChange)||void 0===cc||cc.call(Xb,this.scene.getElementsIncludingDeleted(),this.state)},u.resetTapTwice=function(){qq=!1},u.prototype.addTextFromPaste=function(w){var H,T=og({clientX:Dp,clientY:Ep},this.state);w=Dj({x:T.x,y:T.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,
roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:w,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:Ta.hs});this.scene.replaceAllElements(Zg(Zg([],this.scene.getElementsIncludingDeleted()),[w]));this.setState({selectedElementIds:(H={},H[w.id]=!0,H)});mk.resumeRecording()},u.prototype.selectShapeTool=function(w){var H;Zo||
ri(this.canvas,w);(H=document.activeElement)instanceof HTMLElement&&H.className.includes("ToolIcon")&&document.activeElement.blur();cj(w)||this.setState({suggestedBindings:[]});"selection"!==w?this.setState({elementType:w,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:w})},u.prototype.handleTextWysiwyg=function(w,H){H=H.isExistingElement;var T=void 0!==H&&H,aa=this,xa=function(va,Ca){void 0===Ca&&(Ca=!1);aa.scene.replaceAllElements(Zg([],aa.scene.getElementsIncludingDeleted().map(function(Ra){if(Ra.id===
w.id&&Xd(Ra)){var Ja=Ca;Ja={text:va,isDeleted:null!=Ja?Ja:Ra.isDeleted};var hb=Ti(va,Si(Ra));var nb=hb.width;var ob=hb.height;hb=hb.baseline;var cc=Ra.textAlign;var Xb=Ra.verticalAlign;if("center"===cc&&"middle"===Xb)cc=Ti(Ra.text,Si(Ra)),Xb=Rh(Ra,{width:nb-cc.width,height:ob-cc.height}),cc=Ra.x-Xb.x,Xb=Ra.y-Xb.y;else{var vc=bg(Ra);Xb=vc[0];var Zc=vc[1],ed=vc[2];vc=vc[3];var nd=Mg(Ra,nb,ob);cc=(Xb=ag({s:!0,e:"center"===cc||"left"===cc,w:"center"===cc||"right"===cc},Ra.x,Ra.y,Ra.angle,(Xb-nd[0])/2,
(Zc-nd[1])/2,(ed-nd[2])/2,(vc-nd[3])/2))[0];Xb=Xb[1]}nb={width:nb,height:ob,x:Number.isFinite(cc)?cc:Ra.x,y:Number.isFinite(Xb)?Xb:Ra.y,baseline:hb};Ra=ug(Ra,Ga(Ja,nb))}return Ra})))};!function(va){var Ca=va.id,Ra=va.appState,Ja=va.onChange,hb=va.onSubmit,nb=va.getViewportCoords,ob=va.element;va=va.canvas;var cc=function(){var ye,Ve=null===(ye=qh.getScene(ob))||void 0===ye?void 0:ye.getElement(Ca);if(Ve&&Xd(Ve)){ye=nb(Ve.x,Ve.y);var sd=ye[0],Rd=ye[1];ye=Ve.textAlign;var $d=Ve.angle;Xb.value=Ve.text;
var Me=Ve.text.replace(/\r\n?/g,"\n").split("\n"),Ah=Ve.height/Me.length;Me=(Ra.offsetLeft+Ra.width-sd-8)/Ra.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var Uh=Object,uj=Uh.assign,$i=Xb.style,Pl=Si(Ve);Ah="".concat(Ah,"px");var pn="".concat(Ve.width,"px"),cm="".concat(Ve.height,"px");sd="".concat(sd,"px");Rd="".concat(Rd,"px");var qn=Ve.width;var Nm=Ra.zoom,eo=180*$d/Math.PI;$d=(qn-2*Ra.offsetLeft)*(Nm.value-1)/2;var Om=(Ve.height-
2*Ra.offsetTop)*(Nm.value-1)/2;qn=(qn>Me&&1!==Nm.value&&($d=Me/2*(Nm.value-1)),"translate(".concat($d,"px, ").concat(Om,"px) scale(").concat(Nm.value,") rotate(").concat(eo,"deg)"));uj.call(Uh,$i,{font:Pl,lineHeight:Ah,width:pn,height:cm,left:sd,top:Rd,transform:qn,textAlign:ye,color:Ve.strokeColor,opacity:Ve.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat(Me,"px")})}},Xb=document.createElement("textarea");Xb.dir="auto";Xb.tabIndex=0;Xb.dataset.type="wysiwyg";Xb.wrap="off";Object.assign(Xb.style,
{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});cc();Ja&&(Xb.oninput=function(){Ja(Pk(Xb.value))});Xb.onkeydown=function(ye){"Escape"===ye.key?(ye.preventDefault(),Zc()):"Enter"===ye.key&&ye[Te]?(ye.preventDefault(),ye.isComposing||229===ye.keyCode)||Zc():"Enter"!==ye.key||ye.altKey||ye.stopPropagation()};var vc=function(ye){ye.preventDefault();
ye.stopPropagation()},Zc=function(){hb(Pk(Xb.value));ae||(ae=!0,Xb.onblur=null,Xb.oninput=null,Xb.onkeydown=null,Be&&Be.disconnect(),window.removeEventListener("resize",cc),window.removeEventListener("wheel",vc,!0),window.removeEventListener("pointerdown",nd),window.removeEventListener("pointerup",ed),window.removeEventListener("blur",Zc),ce(),Xb.remove())},ed=function(){window.removeEventListener("pointerup",ed);setTimeout(function(){Xb.onblur=Zc;Xb.focus()})},nd=function(ye){ye.target instanceof
HTMLElement&&ye.target.closest(".".concat(Ta.$C.SHAPE_ACTIONS_MENU))&&!zg(ye.target)&&(Xb.onblur=null,window.addEventListener("pointerup",ed),window.addEventListener("blur",Zc))},ce=qh.getScene(ob).addCallback(function(){cc();Xb.focus()}),ae=!1;Xb.onblur=Zc;var Be=null;va&&"ResizeObserver"in window?(Be=new window.ResizeObserver(function(){cc()})).observe(va):window.addEventListener("resize",cc);window.addEventListener("pointerdown",nd);window.addEventListener("wheel",vc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Xb);
Xb.focus();Xb.select()}({id:w.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(va,Ca){va=dh({sceneX:va,sceneY:Ca},aa.state);return[va.x-aa.state.offsetLeft,va.y-aa.state.offsetTop]},onChange:Vf(function(va){xa(va);!w.isDeleted&&yi(w)}),onSubmit:Vf(function(va){var Ca=!va.trim();xa(va,Ca);Ca?mj(aa.scene.getElements(),[w]):aa.setState(function(Ra){var Ja;return{selectedElementIds:Wa(Wa({},Ra.selectedElementIds),{},(Ja={},Ja[w.id]=!0,Ja))}});Ca&&!T||mk.resumeRecording();aa.setState({draggingElement:null,
editingElement:null});aa.state.elementLocked&&ri(aa.canvas,aa.state.elementType)}),element:w});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});xa(w.text)},u.prototype.getTextElementAtPosition=function(w,H){return(w=this.getElementAtPosition(w,H))&&Xd(w)&&!w.isDeleted?w:null},u.prototype.getElementAtPosition=function(w,H){var T=this.getElementsAtPosition(w,H);if(1<T.length){var aa=T[T.length-1];return Ik(aa,this.state,w,H)?T[T.length-2]:aa}return 1===T.length?T[0]:null},
u.prototype.getElementsAtPosition=function(w,H){var T,aa,xa=this;return T=this.scene.getElements(),aa=function(va){var Ca=xa.state,Ra=10/Ca.zoom.value,Ja=[w,H];return Ca.selectedElementIds[va.id]?Kl(va,Ja,Ra):ek(va,Ca,Ja)},T.filter(function(va){return!va.isDeleted&&aa(va)})},u.prototype.maybeCleanupAfterMissingPointerUp=function(w){null!==fo&&fo(w)},u.prototype.updateGestureOnPointerDown=function(w){vl.set(w.pointerId,{x:w.clientX,y:w.clientY});2===vl.size&&(tp=Lm(vl),up=this.state.zoom.value,cr=
Zn(Array.from(vl.values())))},u.prototype.initialPointerDownState=function(w){var H=og(w,this.state),T=nf(this.scene.getElements(),this.state),aa=yg(T),xa=aa[0],va=aa[1],Ca=aa[2];aa=aa[3];return{origin:H,originInGrid:Ag(oi(H.x,H.y,this.state.gridSize)),scrollbars:hi(Zr,w.clientX-this.state.offsetLeft,w.clientY-this.state.offsetTop),lastCoords:Wa({},H),originalElements:this.scene.getElements().reduce(function(Ra,Ja){return Ra.set(Ja.id,Ej(Ja)),Ra},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,
y:0},arrowDirection:"origin",center:{x:(Ca+xa)/2,y:(aa+va)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(H,T)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},u.prototype.handleDraggingScrollBar=function(w,H){var T=this;if(!H.scrollbars.isOverEither||this.state.multiElement)return!1;Yr=!0;H.lastCoords.x=w.clientX;H.lastCoords.y=
w.clientY;var aa=Vf(function(va){va.target instanceof HTMLElement&&T.handlePointerMoveOverScrollbars(va,H)}),xa=Vf(function(){Yr=!1;ri(T.canvas,T.state.elementType);fo=null;T.setState({cursorButton:"up"});T.savePointer(w.clientX,w.clientY,"up");window.removeEventListener(Ta.Ks.POINTER_MOVE,aa);window.removeEventListener(Ta.Ks.POINTER_UP,xa)});return fo=xa,window.addEventListener(Ta.Ks.POINTER_MOVE,aa),window.addEventListener(Ta.Ks.POINTER_UP,xa),!0},u.prototype.isASelectedElement=function(w){return null!=
w&&this.state.selectedElementIds[w.id]},u.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(w,H){if(2>H.length)return!1;var T=10/this.state.zoom.value;H=yg(H);var aa=H[1],xa=H[2],va=H[3];return w.x>H[0]-T&&w.x<xa+T&&w.y>aa-T&&w.y<va+T},u.prototype.onKeyDownFromPointerDownHandler=function(w){var H=this;return Vf(function(T){H.maybeHandleResize(w,T)||H.maybeDragNewGenericElement(w,T)})},u.prototype.onKeyUpFromPointerDownHandler=function(w){var H=this;return Vf(function(T){"Alt"===T.key&&
T.preventDefault();H.maybeHandleResize(w,T)||H.maybeDragNewGenericElement(w,T)})},u.prototype.onPointerMoveFromPointerDownHandler=function(w){var H=this;return Vf(function(T){if(null===w.drag.offset&&(w.drag.offset=Ag(function(ed,nd,ce){ed=yg(ed);return[nd-ed[0],ce-ed[1]]}(nf(H.scene.getElements(),H.state),w.origin.x,w.origin.y))),T.target instanceof HTMLElement&&!H.handlePointerMoveOverScrollbars(T,w)){var aa=og(T,H.state),xa=oi(aa.x,aa.y,H.state.gridSize),va=xa[0];xa=xa[1];if(w.drag.hasOccurred||
"arrow"!==H.state.elementType&&"line"!==H.state.elementType||!(Math.hypot(w.origin.x-aa.x,w.origin.y-aa.y)<Ta.f)){if(w.resize.isResizing&&(w.lastCoords.x=aa.x,w.lastCoords.y=aa.y,H.maybeHandleResize(w,T)))return!0;if(H.state.editingLinearElement&&Xf.handlePointDragging(H.state,function(ed){return H.setState(ed)},aa.x,aa.y,function(ed,nd){H.maybeSuggestBindingForLinearElementAtCursor(ed,nd,aa)}))return w.lastCoords.x=aa.x,void(w.lastCoords.y=aa.y);if(w.hit.allHitElements.some(function(ed){return H.isASelectedElement(ed)})||
w.hit.hasHitCommonBoundingBoxOfSelectedElements){w.drag.hasOccurred=!0;var Ca=nf(H.scene.getElements(),H.state);if(0<Ca.length){va=oi(aa.x-w.drag.offset.x,aa.y-w.drag.offset.y,H.state.gridSize);var Ra=va[0];va=va[1];xa=[Math.abs(aa.x-w.origin.x),Math.abs(aa.y-w.origin.y)];if(function(ed,nd,ce,ae,Be,ye,Ve,sd){void 0===ye&&(ye=!1);void 0===Ve&&(Ve=0);void 0===sd&&(sd=0);Be=yg(nd);var Rd=ce-Be[0],$d=ae-Be[1];nd.forEach(function(Me){if(ye){var Ah=ye&&Ve<sd;var Uh=ye&&Ve>sd;var uj=ed.originalElements.get(Me.id);
Ah=Ah&&uj?uj.x:Me.x+Rd;Uh=Uh&&uj?uj.y:Me.y+$d}else Ah=Me.x+Rd,Uh=Me.y+$d;af(Me,{x:Ah,y:Uh});yi(Me,{simultaneouslyUpdated:nd})})}(w,Ca,Ra,va,H.scene,T.shiftKey,xa[0],xa[1]),H.maybeSuggestBindingForAll(Ca),T.altKey&&!w.hit.hasBeenDuplicated){w.hit.hasBeenDuplicated=!0;Ca=[];T=[];var Ja=new Map;xa=new Map;for(var hb=w.hit.element,nb=0,ob=H.scene.getElementsIncludingDeleted();nb<ob.length;nb++){var cc=ob[nb];if(H.state.selectedElementIds[cc.id]||cc.id===(null==hb?void 0:hb.id)&&w.hit.wasAddedToSelection){var Xb=
Vi(H.state.editingGroupId,Ja,cc),vc=oi(w.origin.x-w.drag.offset.x,w.origin.y-w.drag.offset.y,H.state.gridSize);af(Xb,{x:Xb.x+(vc[0]-Ra),y:Xb.y+(vc[1]-va)});Ca.push(Xb);T.push(cc);xa.set(cc.id,Xb.id)}else Ca.push(cc)}Ra=Zg(Zg([],Ca),T);Tj(Ra,T,xa,"duplicatesServeAsOld");H.scene.replaceAllElements(Ra)}return}}if(Ca=H.state.draggingElement)if(Cg(Ca)?(w.drag.hasOccurred=!0,Ja=Ca.points,nb=hb=void 0,"draw"===Ca.type?(hb=aa.x-Ca.x,nb=aa.y-Ca.y):(hb=va-Ca.x,nb=xa-Ca.y),T.shiftKey&&2===Ja.length&&(hb=(Ra=
Je(H.state.elementType,hb,nb)).width,nb=Ra.height),1===Ja.length?af(Ca,{points:Zg(Zg([],Ja),[[hb,nb]])}):1<Ja.length&&("draw"===Ca.type?af(Ca,{points:L(Zg(Zg([],Ja),[[hb,nb]]),.7/H.state.zoom.value)}):af(Ca,{points:Zg(Zg([],Ja.slice(0,-1)),[[hb,nb]])})),jg(Ca)&&H.maybeSuggestBindingForLinearElementAtCursor(Ca,"end",aa,H.state.startBoundElement)):(w.lastCoords.x=aa.x,w.lastCoords.y=aa.y,H.maybeDragNewGenericElement(w,T)),"selection"===H.state.elementType){Ra=H.scene.getElements();!T.shiftKey&&ng(Ra,
H.state)&&H.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var Zc=function(ed,nd){nd=bg(nd);var ce=nd[0],ae=nd[1],Be=nd[2],ye=nd[3];return ed.filter(function(Ve){var sd=pi(Ve),Rd=sd[0],$d=sd[1],Me=sd[2];sd=sd[3];return"selection"!==Ve.type&&ce<=Rd&&ae<=$d&&Be>=Me&&ye>=sd})}(Ra,Ca);H.setState(function(ed){return Qh(Wa(Wa({},ed),{},{selectedElementIds:Wa(Wa({},ed.selectedElementIds),Zc.reduce(function(nd,ce){return nd[ce.id]=!0,nd},{}))}),H.scene.getElements())})}}}})},u.prototype.handlePointerMoveOverScrollbars=
function(w,H){return H.scrollbars.isOverHorizontal?(w=w.clientX,this.setState({scrollX:this.state.scrollX-(w-H.lastCoords.x)/this.state.zoom.value}),H.lastCoords.x=w,!0):H.scrollbars.isOverVertical?(w=w.clientY,this.setState({scrollY:this.state.scrollY-(w-H.lastCoords.y)/this.state.zoom.value}),H.lastCoords.y=w,!0):!1},u.prototype.onPointerUpFromPointerDownHandler=function(w){var H=this;return Vf(function(T){var aa=H.state,xa=aa.draggingElement,va=aa.resizingElement,Ca=aa.multiElement,Ra=aa.elementType,
Ja=aa.elementLocked,hb=aa.isResizing;aa=aa.isRotating;if(H.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ca||Xd(H.state.editingElement)?H.state.editingElement:null}),H.savePointer(T.clientX,T.clientY,"up"),H.state.editingLinearElement){var nb=Xf.handlePointerUp(T,H.state.editingLinearElement,H.state);nb!==H.state.editingLinearElement&&H.setState({editingLinearElement:nb,suggestedBindings:[]})}if(fo=null,window.removeEventListener(Ta.Ks.POINTER_MOVE,
w.eventListeners.onMove),window.removeEventListener(Ta.Ks.POINTER_UP,w.eventListeners.onUp),window.removeEventListener(Ta.Ks.KEYDOWN,w.eventListeners.onKeyDown),window.removeEventListener(Ta.Ks.KEYUP,w.eventListeners.onKeyUp),"draw"!==(null==xa?void 0:xa.type))if(Cg(xa))1<xa.points.length&&mk.resumeRecording(),T=og(T,H.state),w.drag.hasOccurred||!xa||Ca?w.drag.hasOccurred&&!Ca&&(H.state.isBindingEnabled&&jg(xa)&&ik(xa,H.state,H.scene,T),H.setState({suggestedBindings:[],startBoundElement:null}),Ja||
"draw"===Ra?H.setState(function(Xb){var vc;return{draggingElement:null,selectedElementIds:Wa(Wa({},Xb.selectedElementIds),{},(vc={},vc[H.state.draggingElement.id]=!0,vc))}}):(Gi(H.canvas),H.setState(function(Xb){var vc;return{draggingElement:null,elementType:"selection",selectedElementIds:Wa(Wa({},Xb.selectedElementIds),{},(vc={},vc[H.state.draggingElement.id]=!0,vc))}}))):(af(xa,{points:Zg(Zg([],xa.points),[[T.x-xa.x,T.y-xa.y]])}),H.setState({multiElement:xa,editingElement:H.state.draggingElement}));
else{if("selection"!==Ra&&xa&&Lh(xa))return H.scene.replaceAllElements(H.scene.getElementsIncludingDeleted().slice(0,-1)),void H.setState({draggingElement:null});xa&&af(xa,Fl(xa));va&&mk.resumeRecording();va&&Lh(va)&&H.scene.replaceAllElements(H.scene.getElementsIncludingDeleted().filter(function(Xb){return Xb.id!==va.id}));var ob=w.hit.element;if(ob&&!w.drag.hasOccurred&&!w.hit.wasAddedToSelection)if(T.shiftKey)if(H.state.selectedElementIds[ob.id])if(null!=rh(H.state,ob)){var cc=ob.groupIds.flatMap(function(Xb){return bk(H.scene.getElements(),
Xb)}).map(function(Xb){var vc;return(vc={})[Xb.id]=!1,vc}).reduce(function(Xb,vc){return Wa(Wa({},Xb),vc)},{});H.setState(function(Xb){return{selectedGroupIds:Wa(Wa({},Xb.selectedElementIds),ob.groupIds.map(function(vc){var Zc;return(Zc={})[vc]=!1,Zc}).reduce(function(vc,Zc){return Wa(Wa({},vc),Zc)},{})),selectedElementIds:Wa(Wa({},Xb.selectedElementIds),cc)}})}else H.setState(function(Xb){var vc;return{selectedElementIds:Wa(Wa({},Xb.selectedElementIds),{},(vc={},vc[ob.id]=!1,vc))}});else H.setState(function(Xb){var vc;
return{selectedElementIds:Wa(Wa({},Xb.selectedElementIds),{},(vc={},vc[ob.id]=!0,vc))}});else H.setState(function(Xb){var vc;return Wa({},Qh(Wa(Wa({},Xb),{},{selectedElementIds:(vc={},vc[ob.id]=!0,vc)}),H.scene.getElements()))});H.state.editingLinearElement||w.drag.hasOccurred||H.state.isResizing||!(ob&&Ik(ob,H.state,w.origin.x,w.origin.y)||!ob&&w.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ja&&"draw"!==Ra&&xa&&H.setState(function(Xb){var vc;return{selectedElementIds:Wa(Wa({},Xb.selectedElementIds),
{},(vc={},vc[xa.id]=!0,vc))}}),("selection"!==Ra||ng(H.scene.getElements(),H.state))&&mk.resumeRecording(),(w.drag.hasOccurred||hb||aa)&&(H.state.isBindingEnabled?pg:ah)(nf(H.scene.getElements(),H.state)),Ja||"draw"===Ra?H.setState({draggingElement:null,suggestedBindings:[]}):(Gi(H.canvas),H.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):H.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else H.actionManager.executeAction(Of)})},u.prototype.maybeSuggestBindingForAll=
function(w){var H;w=(H=new Set(w.map(function(T){return T.id})),w.flatMap(function(T){return jg(T)?Bl(T).filter(function(aa){return!H.has(aa.id)}):vk(T)?kh(T).filter(function(aa){return!H.has(aa[0].id)}):[]}));this.setState({suggestedBindings:w})},u.prototype.clearSelection=function(w){this.setState(function(H){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:H.editingGroupId&&null!=w&&w.groupIds.includes(H.editingGroupId)?H.editingGroupId:null}});this.setState({selectedElementIds:{},
previousSelectedElementIds:this.state.selectedElementIds})},u.prototype.getTextWysiwygSnappedToCenterPosition=function(w,H,T,aa,xa){if(xa=function(va,Ca,Ra){for(var Ja=null,hb=va.length-1;0<=hb;--hb)if(!va[hb].isDeleted){var nb=bg(va[hb]),ob=nb[1],cc=nb[2],Xb=nb[3];if(nb[0]<Ca&&Ca<cc&&ob<Ra&&Ra<Xb){Ja=va[hb];break}}return Ja}(this.scene.getElementsIncludingDeleted().filter(function(va){return!Xd(va)}),w,H))if(aa=xa.x+xa.width/2,xa=xa.y+xa.height/2,Math.hypot(w-aa,H-xa)<Ta.wZ)return w=dh({sceneX:aa,
sceneY:xa},T),{viewportX:w.x,viewportY:w.y,elementCenterX:aa,elementCenterY:xa}},u.prototype.getCanvasOffsets=function(w){var H,T;return"number"==typeof(null==w?void 0:w.offsetLeft)&&"number"==typeof(null==w?void 0:w.offsetTop)?{offsetLeft:w.offsetLeft,offsetTop:w.offsetTop}:null!==(H=this.excalidrawContainerRef)&&void 0!==H&&null!==(T=H.current)&&void 0!==T&&T.parentElement?(T=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),H=T.left,T=T.top,{offsetLeft:"number"==typeof(null==
w?void 0:w.offsetLeft)?w.offsetLeft:H,offsetTop:"number"==typeof(null==w?void 0:w.offsetTop)?w.offsetTop:T}):{offsetLeft:"number"==typeof(null==w?void 0:w.offsetLeft)?w.offsetLeft:0,offsetTop:"number"==typeof(null==w?void 0:w.offsetTop)?w.offsetTop:0}},u.prototype.updateLanguage=function(){var w=this;return Bb()(function(){var H;return Yo(this,function(T){switch(T.label){case 0:return H=Wc.find(function(aa){return aa.code===w.props.langCode})||Nd,[4,df(H)];case 1:return T.sent(),w.setAppState({}),
[2]}})})()},u}(V().Component);Wr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Vt=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=V().createRef();this.getSceneElementsIncludingDeleted=function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=Vf(function(u){if(!d.unmounted&&!1!==u){var w=null;if(u.elements&&(u.elements.forEach(function(Ra){var Ja;(null===
(Ja=d.state.editingElement)||void 0===Ja?void 0:Ja.id)===Ra.id&&d.state.editingElement!==Ra&&!Ra.isDeleted&&(w=Ra)}),d.scene.replaceAllElements(u.elements),u.commitToHistory&&mk.resumeRecording()),u.appState||w){var H,T,aa;u.commitToHistory&&mk.resumeRecording();var xa=(null==u||null===(H=u.appState)||void 0===H?void 0:H.viewModeEnabled)||!1,va=(null==u||null===(T=u.appState)||void 0===T?void 0:T.zenModeEnabled)||!1,Ca=(null==u||null===(aa=u.appState)||void 0===aa?void 0:aa.gridSize)||null;void 0!==
d.props.viewModeEnabled&&(xa=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(va=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(Ca=d.props.gridModeEnabled?Ta.k:null);d.setState(function(Ra){var Ja;return Object.assign(u.appState||{},{editingElement:w||(null===(Ja=u.appState)||void 0===Ja?void 0:Ja.editingElement)||null,width:Ra.width,height:Ra.height,offsetTop:Ra.offsetTop,offsetLeft:Ra.offsetLeft,viewModeEnabled:xa,zenModeEnabled:va,gridSize:Ca})},function(){u.syncHistory&&
mk.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=Vf(function(){Zo=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(u){u.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(u){Xd(u)&&ti.delete(u)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var u=Bb()(function(w){var H,T,aa,xa,va;return Yo(this,function(Ca){switch(Ca.label){case 0:window.history.replaceState({},
Ta.iC,window.location.origin),Ca.label=1;case 1:return Ca.trys.push([1,7,,8]),[4,fetch(w)];case 2:return[4,Ca.sent().blob()];case 3:return H=Ca.sent(),xa=(aa=JSON).parse,[4,H.text()];case 4:Ca=T=xa.apply(aa,[Ca.sent()]);if("object"!=typeof Ca||!Ca||"excalidrawlib"!==Ca.type||1!==Ca.version)throw Error();return window.confirm(Sb("alerts.confirmAddLibrary",{numShapes:T.library.length}))?[4,jh.importLibrary(H)]:[3,6];case 5:Ca.sent(),d.setState({isLibraryOpen:!0}),Ca.label=6;case 6:return[3,8];case 7:return va=
Ca.sent(),window.alert(Sb("alerts.errorLoadingLibrary")),console.error(va),[3,8];case 8:return[2]}})});return function(w){return u.apply(this,arguments)}}();this.resetHistory=function(){mk.clear()};this.resetScene=Vf(function(u){d.scene.replaceAllElements([]);d.setState(function(w){return Wa(Wa({},xh()),{},{isLoading:(null==u||!u.resetLoadingState)&&w.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=Bb()(function(){var u,w,H,T,aa;return Yo(this,function(xa){switch(xa.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var va=Bb()(function(Ca){var Ra,Ja;return Yo(this,function(hb){switch(hb.label){case 0:return Ca.files.length?[4,(Ra=Ca.files[0]).getFile()]:[2];case 1:return(Ja=hb.sent()).handle=Ra,Gm(Ja,d.state).then(function(nb){return d.syncActionResult({elements:nb.elements,appState:Wa(Wa({},nb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(nb){d.setState({isLoading:!1,errorMessage:nb.message})}),[2]}})});
return function(Ca){return va.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),w=null,xa.label=1;case 1:return xa.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return w=xa.sent()||null,[3,4];case 3:return H=xa.sent(),console.error(H),[3,4];case 4:return(T=en(w,null)).appState=Wa(Wa({},T.appState),{},{isLoading:!1}),null!==(u=w)&&void 0!==u&&u.scrollToCenter&&(T.appState=Wa(Wa({},T.appState),ji(T.elements,Wa(Wa({},T.appState),{},{width:d.state.width,height:d.state.height,
offsetTop:d.state.offsetTop,offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Wa(Wa({},T),{},{commitToHistory:!0})),(aa=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(aa)]:[3,6];case 5:xa.sent(),xa.label=6;case 6:return[2]}})});this.onResize=Vf(function(){d.scene.getElementsIncludingDeleted().forEach(function(u){return ti.delete(u)});d.setState({})});this.onScroll=qi(function(){var u=d.getCanvasOffsets(),w=u.offsetTop,H=u.offsetLeft;
d.setState(function(T){return T.offsetLeft===H&&T.offsetTop===w?null:{offsetTop:w,offsetLeft:H}})},Ta.HM);this.onCut=Vf(function(u){zg(u.target)||(d.cutAll(),u.preventDefault())});this.onCopy=Vf(function(u){var w=document.getSelection();null!=w&&w.anchorNode&&!d.excalidrawContainerRef.current.contains(w.anchorNode)||zg(u.target)||(d.copyAll(),u.preventDefault())});this.cutAll=function(){d.copyAll();d.actionManager.executeAction(bm)};this.copyAll=function(){zk(d.scene.getElements(),d.state)};this.onTapStart=
function(u){if(!qq)return qq=!0,clearTimeout(Xr),void(Xr=window.setTimeout(Wr.resetTapTwice,Ta.Gj));if(qq&&1===u.touches.length){var w=u.touches[0];d.handleCanvasDoubleClick({clientX:w.clientX,clientY:w.clientY});qq=!1;clearTimeout(Xr)}u.preventDefault();2===u.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(u){u.preventDefault();0<u.touches.length&&d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=
Vf(function(){var u=Bb()(function(w){var H,T,aa;return Yo(this,function(xa){switch(xa.label){case 0:return H=document.activeElement,T=document.elementFromPoint(Dp,Ep),!w||T instanceof HTMLCanvasElement&&!zg(H)?[4,bb(w)]:[2];case 1:return(aa=xa.sent()).errorMessage?d.setState({errorMessage:aa.errorMessage}):aa.spreadsheet?d.setState({pasteDialog:{data:aa.spreadsheet,shown:!0}}):aa.elements?d.addElementsFromPasteOrLibrary(aa.elements):aa.text&&d.addTextFromPaste(aa.text),d.selectShapeTool("selection"),
null==w||w.preventDefault(),[2]}})});return function(w){return u.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(u,w,H){void 0===w&&(w=Dp);void 0===H&&(H=Ep);var T=yg(u),aa=T[0],xa=T[1],va=Math.abs(aa-T[2])/2;T=Math.abs(xa-T[3])/2;w=og({clientX:w,clientY:H},d.state);va=w.x-va;T=w.y-T;var Ca=new Map;va=oi(va,T,d.state.gridSize);var Ra=va[0],Ja=va[1],hb=new Map;va=u.map(function(nb){var ob=Vi(d.state.editingGroupId,Ca,nb,{x:nb.x+Ra-aa,y:nb.y+Ja-xa});return hb.set(nb.id,ob.id),
ob});T=Zg(Zg([],d.scene.getElementsIncludingDeleted()),va);Tj(T,u,hb);d.scene.replaceAllElements(T);mk.resumeRecording();d.setState(Qh(Wa(Wa({},d.state),{},{isLibraryOpen:!1,selectedElementIds:va.reduce(function(nb,ob){return nb[ob.id]=!0,nb},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(u){d.setState(u)};this.removePointer=function(u){"touch"===u.pointerType&&go&&(clearTimeout(go),go=0,cq=!1);vl.delete(u.pointerId)};this.toggleLock=function(){d.setState(function(u){return{elementLocked:!u.elementLocked,
elementType:u.elementLocked?"selection":u.elementType}})};this.toggleZenMode=function(){d.actionManager.executeAction(ee)};this.toggleStats=function(){d.state.showStats||Og("dialog","stats");d.actionManager.executeAction(Xn)};this.setScrollToCenter=function(u){d.setState(Wa({},ji(Wd(u),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=Vf(function(u){var w;u.commitToHistory&&mk.resumeRecording();null!==(w=u.appState)&&void 0!==w&&w.viewBackgroundColor&&
d.setState({viewBackgroundColor:u.appState.viewBackgroundColor});u.elements&&d.scene.replaceAllElements(u.elements);u.collaborators&&d.setState({collaborators:u.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=Vf(function(u){Dp=u.x;Ep=u.y});this.onKeyDown=Vf(function(u){var w;if(!(("Proxy"in window&&(!u.shiftKey&&/^[A-Z]$/.test(u.key)||u.shiftKey&&/^[a-z]$/.test(u.key))&&(u=new Proxy(u,{get:function(xa,va){var Ca=xa[va];return"function"==typeof Ca?
Ca.bind(xa):"key"===va?u.shiftKey?xa.key.toUpperCase():xa.key.toLowerCase():Ca}})),zg(u.target)&&"Escape"!==u.key||tg(u.key)&&(w=u.target,w instanceof HTMLElement&&"wysiwyg"===w.dataset.type||w instanceof HTMLBRElement||w instanceof HTMLInputElement||w instanceof HTMLTextAreaElement||w instanceof HTMLSelectElement))||("?"===u.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(u)||d.state.viewModeEnabled))){if(u[Te]&&d.setState({isBindingEnabled:!1}),"Digit9"===u.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),
tg(u.key)){w=d.state.gridSize&&(u.shiftKey?Ta.$e:d.state.gridSize)||(u.shiftKey?Ta.Iw:Ta.$e);var H=d.scene.getElements().filter(function(xa){return d.state.selectedElementIds[xa.id]}),T=0,aa=0;"ArrowLeft"===u.key?T=-w:"ArrowRight"===u.key?T=w:"ArrowUp"===u.key?aa=-w:"ArrowDown"===u.key&&(aa=w);H.forEach(function(xa){af(xa,{x:xa.x+T,y:xa.y+aa});yi(xa,{simultaneouslyUpdated:H})});d.maybeSuggestBindingForAll(H);u.preventDefault()}else if("Enter"===u.key)if(w=nf(d.scene.getElements(),d.state),1===w.length&&
Cg(w[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===w[0].id||(mk.resumeRecording(),d.setState({editingLinearElement:new Xf(w[0],d.scene)}));else{if(1===w.length&&!Cg(w[0]))return w=w[0],d.startTextEditing({sceneX:w.x+w.width/2,sceneY:w.y+w.height/2}),void u.preventDefault()}else u.ctrlKey||u.altKey||u.metaKey||null!==d.state.draggingElement||((w=function(xa){var va=sm.find(function(Ca,Ra){return xa===(Ra+1).toString()||("string"==typeof Ca.key?Ca.key===xa:Ca.key.includes(xa))});
return(null==va?void 0:va.value)||null}(u.key))?d.selectShapeTool(w):"q"===u.key&&d.toggleLock());" "===u.key&&0===vl.size&&(Zo=!0,Hi(d.canvas,Ta.oc.GRABBING))}});this.onKeyUp=Vf(function(u){if(" "===u.key&&("selection"===d.state.elementType?Gi(d.canvas):(ri(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Zo=!1),u[Te]||d.state.isBindingEnabled||d.setState({isBindingEnabled:!0}),tg(u.key))u=nf(d.scene.getElements(),d.state),d.state.isBindingEnabled?
pg(u):ah(u),d.setState({suggestedBindings:[]})});this.onGestureStart=Vf(function(u){u.preventDefault();d.setState({selectedElementIds:{}});up=d.state.zoom.value});this.onGestureChange=Vf(function(u){if(u.preventDefault(),2!==vl.size){var w=up;w&&d.setState(function(H){var T=H.zoom,aa=H.offsetLeft;H=H.offsetTop;return{zoom:Xh(Oj(w*u.scale),T,{left:aa,top:H},{x:Dp,y:Ep})}})}});this.onGestureEnd=Vf(function(u){u.preventDefault();d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});
up=null});this.startTextEditing=function(u){var w=u.sceneX,H=u.sceneY;u=u.insertAtParentCenter;var T=void 0===u||u;u=d.getTextElementAtPosition(w,H);T=T&&d.getTextWysiwygSnappedToCenterPosition(w,H,d.state,d.canvas,window.devicePixelRatio);w=u||Dj({x:T?T.elementCenterX:w,y:T?T.elementCenterY:H,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,
roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:T?"center":d.state.currentItemTextAlign,verticalAlign:T?"middle":Ta.hs});d.setState({editingElement:w});u?T&&"center"===w.textAlign||af(w,{verticalAlign:Ta.hs}):(d.scene.replaceAllElements(Zg(Zg([],d.scene.getElementsIncludingDeleted()),[w])),T||af(w,{y:w.y-w.baseline/2}));d.setState({editingElement:w});
d.handleTextWysiwyg(w,{isExistingElement:!!u})};this.handleCanvasDoubleClick=function(u){if(!d.state.multiElement&&"selection"===d.state.elementType){var w=nf(d.scene.getElements(),d.state);if(1===w.length&&Cg(w[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===w[0].id||(mk.resumeRecording(),d.setState({editingLinearElement:new Xf(w[0],d.scene)}));else{Gi(d.canvas);var H=og(u,d.state);w=H.x;H=H.y;if(0<Ji(d.state).length){var T=d.getElementAtPosition(w,H),aa=T&&function(xa,
va){return xa.groupIds.find(function(Ca){return va[Ca]})}(T,d.state.selectedGroupIds);if(aa)return void d.setState(function(xa){var va;return Qh(Wa(Wa({},xa),{},{editingGroupId:aa,selectedElementIds:(va={},va[T.id]=!0,va),selectedGroupIds:{}}),d.scene.getElements())})}Gi(d.canvas);u[Te]||d.startTextEditing({sceneX:w,sceneY:H,insertAtParentCenter:!u.altKey})}}};this.handleCanvasPointerMove=function(u){d.savePointer(u.clientX,u.clientY,d.state.cursorButton);vl.has(u.pointerId)&&vl.set(u.pointerId,{x:u.clientX,
y:u.clientY});var w=up;if(2===vl.size&&tp&&w&&cr){var H=Lm(vl),T=H.x-tp.x,aa=H.y-tp.y;tp=H;var xa=Zn(Array.from(vl.values()))/cr;d.setState(function(cc){var Xb=cc.zoom,vc=cc.offsetLeft,Zc=cc.offsetTop;return{scrollX:cc.scrollX+T/Xb.value,scrollY:cc.scrollY+aa/Xb.value,zoom:Xh(Oj(w*xa),Xb,{left:vc,top:Zc},H),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else tp=cr=up=null;if(!(Zo||rq||Yr)){var va=hi(Zr,u.clientX-d.state.offsetLeft,u.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||
d.state.multiElement||(va?Gi(d.canvas):ri(d.canvas,d.state.elementType));var Ca=og(u,d.state),Ra=Ca.x,Ja=Ca.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var hb=Xf.handlePointerMove(u,Ra,Ja,d.state.editingLinearElement,d.state.gridSize);hb!==d.state.editingLinearElement&&d.setState({editingLinearElement:hb});null!=hb.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(Ca):d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(hb=d.state.draggingElement,jg(hb)?
d.maybeSuggestBindingForLinearElementAtCursor(hb,"end",Ca,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(Ca));if(d.state.multiElement){va=d.state.multiElement;Ca=va.x;hb=va.y;u=va.points;var nb=va.lastCommittedPoint,ob=u[u.length-1];return ri(d.canvas,d.state.elementType),void(ob===nb?Math.hypot(ob[0]-(Ra-Ca),ob[1]-(Ja-hb))>=Ta.qx?af(va,{points:Zg(Zg([],u),[[Ra-Ca,Ja-hb]])}):Hi(d.canvas,Ta.oc.POINTER):2<u.length&&nb&&Math.hypot(nb[0]-(Ra-Ca),nb[1]-(Ja-hb))<Ta.qx?(Hi(d.canvas,Ta.oc.POINTER),
af(va,{points:u.slice(0,-1)})):($h(u,d.state.zoom.value)&&Hi(d.canvas,Ta.oc.POINTER),af(va,{points:Zg(Zg([],u.slice(0,-1)),[[Ra-Ca,Ja-hb]])})))}if(!(u.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){nb=d.scene.getElements();hb=nf(nb,d.state);if(1!==hb.length||va||d.state.editingLinearElement){if(1<hb.length&&!va&&(Ra=gf(yg(hb),Ra,Ja,d.state.zoom,u.pointerType)))return void Hi(d.canvas,we({transformHandleType:Ra}))}else if((Ra=Li(nb,d.state,Ra,Ja,d.state.zoom,u.pointerType))&&
Ra.transformHandleType)return void Hi(d.canvas,we(Ra));Ra=d.getElementAtPosition(Ca.x,Ca.y);"text"===d.state.elementType?Hi(d.canvas,Xd(Ra)?Ta.oc.TEXT:Ta.oc.CROSSHAIR):va?Hi(d.canvas,Ta.oc.AUTO):Ra||d.isHittingCommonBoundingBoxOfSelectedElements(Ca,hb)?Hi(d.canvas,Ta.oc.MOVE):Hi(d.canvas,Ta.oc.AUTO)}}};this.handleTouchMove=function(u){cq=!0};this.handleCanvasPointerDown=function(u){if(u.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(u),d.maybeCleanupAfterMissingPointerUp(u),!(rq||
(d.setState({lastPointerDownWith:u.pointerType,cursorButton:"down"}),d.savePointer(u.clientX,u.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(u)||u.button!==Ta.Oh.MAIN&&u.button!==Ta.Oh.TOUCH||(d.updateGestureOnPointerDown(u),u.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<vl.size)))){var w=d.initialPointerDownState(u);if(!d.handleDraggingScrollBar(u,w)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(u),!d.handleSelectionOnPointerDown(u,
w)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(u,d.state.elementType,w):d.createGenericElementOnPointerDown(d.state.elementType,w);u=d.onPointerMoveFromPointerDownHandler(w);var H=d.onPointerUpFromPointerDownHandler(w),T=d.onKeyDownFromPointerDownHandler(w),aa=d.onKeyUpFromPointerDownHandler(w);fo=H;d.state.viewModeEnabled||(window.addEventListener(Ta.Ks.POINTER_MOVE,u),window.addEventListener(Ta.Ks.POINTER_UP,
H),window.addEventListener(Ta.Ks.KEYDOWN,T),window.addEventListener(Ta.Ks.KEYUP,aa),w.eventListeners.onMove=u,w.eventListeners.onUp=H,w.eventListeners.onKeyUp=aa,w.eventListeners.onKeyDown=T)}else d.handleTextOnPointerDown(u,w)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(u){"touch"===u.pointerType&&(cq=!1,go?cq=!0:go=window.setTimeout(function(){go=0;cq||d.openContextMenu({clientX:u.clientX,clientY:u.clientY})},Ta.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(u){if(0!==
vl.size||!(u.button===Ta.Oh.WHEEL||u.button===Ta.Oh.MAIN&&Zo||d.state.viewModeEnabled))return!1;rq=!0;var w=!1,H=/Linux/.test(window.navigator.platform);Hi(d.canvas,Ta.oc.GRABBING);var T=u.clientX,aa=u.clientY,xa=Vf(function(Ca){var Ra=T-Ca.clientX,Ja=aa-Ca.clientY;if(T=Ca.clientX,aa=Ca.clientY,H&&!w&&(1<Math.abs(Ra)||1<Math.abs(Ja))){w=!0;var hb=function(ob){document.body.removeEventListener(Ta.Ks.PASTE,hb);ob.stopPropagation()},nb=function(){setTimeout(function(){document.body.removeEventListener(Ta.Ks.PASTE,
hb);window.removeEventListener(Ta.Ks.POINTER_UP,nb)},100)};document.body.addEventListener(Ta.Ks.PASTE,hb);window.addEventListener(Ta.Ks.POINTER_UP,nb)}d.setState({scrollX:d.state.scrollX-Ra/d.state.zoom.value,scrollY:d.state.scrollY-Ja/d.state.zoom.value})}),va=Vf(fo=function(){fo=null;rq=!1;Zo||ri(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(u.clientX,u.clientY,"up");window.removeEventListener(Ta.Ks.POINTER_MOVE,xa);window.removeEventListener(Ta.Ks.POINTER_UP,va);window.removeEventListener(Ta.Ks.BLUR,
va)});return window.addEventListener(Ta.Ks.BLUR,va),window.addEventListener(Ta.Ks.POINTER_MOVE,xa,{passive:!0}),window.addEventListener(Ta.Ks.POINTER_UP,va),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(u,w){if("selection"===d.state.elementType){var H=d.scene.getElements(),T=nf(H,d.state);1!==T.length||d.state.editingLinearElement?1<T.length&&
(w.resize.handleType=gf(yg(T),w.origin.x,w.origin.y,d.state.zoom,u.pointerType)):(H=Li(H,d.state,w.origin.x,w.origin.y,d.state.zoom,u.pointerType),null!=H&&(d.setState({resizingElement:H.element}),w.resize.handleType=H.transformHandleType));if(w.resize.handleType)Hi(d.canvas,we({transformHandleType:w.resize.handleType})),w.resize.isResizing=!0,w.resize.offset=Ag(function(nb,ob,cc,Xb){var vc,Zc=1===ob.length?bg(ob[0]):yg(ob),ed=Zc[0],nd=Zc[1],ce=Zc[2];Zc=Zc[3];ob=1===ob.length?ob[0].angle:0;switch(cc=
(vc=Bf(cc,Xb,(ed+ce)/2,(nd+Zc)/2,-ob))[0],Xb=vc[1],nb){case "n":return Bf(cc-(ed+ce)/2,Xb-nd,0,0,ob);case "s":return Bf(cc-(ed+ce)/2,Xb-Zc,0,0,ob);case "w":return Bf(cc-ed,Xb-(nd+Zc)/2,0,0,ob);case "e":return Bf(cc-ce,Xb-(nd+Zc)/2,0,0,ob);case "nw":return Bf(cc-ed,Xb-nd,0,0,ob);case "ne":return Bf(cc-ce,Xb-nd,0,0,ob);case "sw":return Bf(cc-ed,Xb-Zc,0,0,ob);case "se":return Bf(cc-ce,Xb-Zc,0,0,ob);default:return[0,0]}}(w.resize.handleType,T,w.origin.x,w.origin.y)),1===T.length&&Cg(T[0])&&2===T[0].points.length&&
(w.resize.arrowDirection=(va=w.resize.handleType,Ca=T[0],Ra=Ca.points[1],Ja=Ra[0],hb=Ra[1],"nw"===va&&(0>Ja||0>hb)||"ne"===va&&0<=Ja||"sw"===va&&0>=Ja||"se"===va&&(0<Ja||0<hb)?"end":"origin"));else{var aa;if(d.state.editingLinearElement&&(T=Xf.handlePointerDown(u,d.state,function(nb){return d.setState(nb)},mk,w.origin),T.hitElement&&(w.hit.element=T.hitElement),T.didAddPoint))return!0;w.hit.element=null!==(aa=w.hit.element)&&void 0!==aa?aa:d.getElementAtPosition(w.origin.x,w.origin.y);w.hit.allHitElements=
d.getElementsAtPosition(w.origin.x,w.origin.y);var xa=w.hit.element;aa=w.hit.allHitElements.some(function(nb){return d.isASelectedElement(nb)});if(null!==xa&&aa||u.shiftKey||w.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(xa),null!=xa){if(u[Te])return d.setState(function(nb){var ob;nb=Oa(Oa({},nb),{},{editingGroupId:xa.groupIds.length?xa.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(ob={},ob[xa.id]=!0,ob)});return Wa(Wa({},nb),{},{previousSelectedElementIds:d.state.selectedElementIds})}),
!1;d.state.selectedElementIds[xa.id]||(d.state.editingGroupId&&!xa.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),aa||w.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(nb){var ob;return Qh(Wa(Wa({},nb),{},{selectedElementIds:Wa(Wa({},nb.selectedElementIds),{},(ob={},ob[xa.id]=!0,ob))}),d.scene.getElements())}),w.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var va,
Ca,Ra,Ja,hb;return!1};this.handleTextOnPointerDown=function(u,w){var H;"text"!==(null===(H=d.state.editingElement)||void 0===H?void 0:H.type)&&(d.startTextEditing({sceneX:w.origin.x,sceneY:w.origin.y,insertAtParentCenter:!u.altKey}),Gi(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(u,w,H){if(d.state.multiElement){var T=d.state.multiElement;if("line"===T.type&&$h(T.points,d.state.zoom.value))return af(T,{lastCommittedPoint:T.points[T.points.length-
1]}),void d.actionManager.executeAction(Of);w=T.x;u=T.y;var aa=T.lastCommittedPoint;if(1<T.points.length&&aa&&Math.hypot(aa[0]-(H.origin.x-w),aa[1]-(H.origin.y-u))<Ta.qx)return void d.actionManager.executeAction(Of);d.setState(function(Ca){var Ra;return{selectedElementIds:Wa(Wa({},Ca.selectedElementIds),{},(Ra={},Ra[T.id]=!0,Ra))}});af(T,{lastCommittedPoint:T.points[T.points.length-1]});Hi(d.canvas,Ta.oc.POINTER)}else{u=oi(H.origin.x,H.origin.y,"draw"===w?null:d.state.gridSize);var xa=d.state;aa=
xa.currentItemStartArrowhead;xa=xa.currentItemEndArrowhead;aa="arrow"===w?[aa,xa]:[null,null];var va=Ke({type:w,x:u[0],y:u[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:aa[0],endArrowhead:aa[1]});
d.setState(function(Ca){var Ra;return{selectedElementIds:Wa(Wa({},Ca.selectedElementIds),{},(Ra={},Ra[va.id]=!1,Ra))}});af(va,{points:Zg(Zg([],va.points),[[0,0]])});H=Wh(H.origin,d.scene);d.scene.replaceAllElements(Zg(Zg([],d.scene.getElementsIncludingDeleted()),[va]));d.setState({draggingElement:va,editingElement:va,startBoundElement:H,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(u,w){w=oi(w.origin.x,w.origin.y,d.state.gridSize);u=Hl({type:u,x:w[0],y:w[1],strokeColor:d.state.currentItemStrokeColor,
backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===u.type?d.setState({selectionElement:u,draggingElement:u}):(d.scene.replaceAllElements(Zg(Zg([],d.scene.getElementsIncludingDeleted()),[u])),d.setState({multiElement:null,draggingElement:u,
editingElement:u}))};this.updateBindingEnabledOnPointerMove=function(u){u=!u[Te];d.state.isBindingEnabled!==u&&d.setState({isBindingEnabled:u})};this.maybeSuggestBindingAtCursor=function(u){u=Wh(u,d.scene);d.setState({suggestedBindings:null!=u?[u]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(u,w,H,T){w=Wh(H,d.scene);d.setState({suggestedBindings:null==w||(null==T?void 0:T.id)===w.id&&3>u.points.length?[]:[w]})};this.handleCanvasRef=function(u){var w,H,T;null!==u?(d.canvas=u,d.rc=
Fh.canvas(d.canvas),d.canvas.addEventListener(Ta.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(Ta.Ks.TOUCH_START,d.onTapStart),d.canvas.addEventListener(Ta.Ks.TOUCH_END,d.onTapEnd)):(null===(w=d.canvas)||void 0===w||w.removeEventListener(Ta.Ks.WHEEL,d.handleWheel),null===(H=d.canvas)||void 0===H||H.removeEventListener(Ta.Ks.TOUCH_START,d.onTapStart),null===(T=d.canvas)||void 0===T||T.removeEventListener(Ta.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var u=Bb()(function(w){var H,
T,aa,xa,va,Ca,Ra,Ja,hb,nb,ob;return Yo(this,function(cc){switch(cc.label){case 0:return cc.trys.push([0,3,,4]),"image/png"!==(null==(T=w.dataTransfer.files[0])?void 0:T.type)&&"image/svg+xml"!==(null==T?void 0:T.type)?[3,2]:[4,Gm(T,d.state)];case 1:return aa=cc.sent(),xa=aa.elements,va=aa.appState,d.syncActionResult({elements:xa,appState:Wa(Wa({},va||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ca=cc.sent(),[2,d.setState({isLoading:!1,errorMessage:Ca.message})];
case 4:if(""!==(Ra=w.dataTransfer.getData(Ta.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(Ra),w.clientX,w.clientY),[2];if(!("application/json"===(null==(Ja=null===(H=w.dataTransfer)||void 0===H?void 0:H.files[0])?void 0:Ja.type)||null!=Ja&&Ja.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];cc.label=5;case 5:return cc.trys.push([5,7,,8]),hb=w.dataTransfer.items[0],nb=Ja,
[4,hb.getAsFileSystemHandle()];case 6:return nb.handle=cc.sent(),[3,8];case 7:return ob=cc.sent(),console.warn(ob.name,ob.message),[3,8];case 8:return Gm(Ja,d.state).then(function(Xb){return d.syncActionResult({elements:Xb.elements,appState:Wa(Wa({},Xb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Xb){d.setState({isLoading:!1,errorMessage:Xb.message})}),[3,10];case 9:(null==Ja?void 0:Ja.type)===Ta.LO.excalidrawlib||null!=Ja&&Ja.name.endsWith(".excalidrawlib")?jh.importLibrary(Ja).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(Xb){return d.setState({isLoading:!1,
errorMessage:Xb.message})}):d.setState({isLoading:!1,errorMessage:Sb("alerts.couldNotLoadInvalidFile")}),cc.label=10;case 10:return[2]}})});return function(w){return u.apply(this,arguments)}}();this.handleCanvasContextMenu=function(u){u.preventDefault();d.openContextMenu(u)};this.maybeDragNewGenericElement=function(u,w){var H=d.state.draggingElement,T=u.lastCoords;if(H)if("selection"===H.type)ii(H,d.state.elementType,u.origin.x,u.origin.y,T.x,T.y,Math.abs(u.origin.x-T.x),Math.abs(u.origin.y-T.y),
w.shiftKey,w.altKey);else{var aa=oi(T.x,T.y,d.state.gridSize);T=aa[0];aa=aa[1];ii(H,d.state.elementType,u.originInGrid.x,u.originInGrid.y,T,aa,Math.abs(u.originInGrid.x-T),Math.abs(u.originInGrid.y-aa),w.shiftKey,w.altKey);d.maybeSuggestBindingForAll([H])}};this.maybeHandleResize=function(u,w){var H=nf(d.scene.getElements(),d.state),T=u.resize.handleType;d.setState({isResizing:T&&"rotation"!==T,isRotating:"rotation"===T});var aa=u.lastCoords;aa=oi(aa.x-u.resize.offset.x,aa.y-u.resize.offset.y,d.state.gridSize);
a:{var xa=u.resize.arrowDirection,va=w.shiftKey,Ca=w.altKey;w=w.shiftKey;var Ra=aa[0],Ja=aa[1];aa=u.resize.center.x;var hb=u.resize.center.y;if(1===H.length){aa=H[0];if("rotation"===T)T=bg(aa),T=5*Math.PI/2+Math.atan2(Ja-(T[1]+T[3])/2,Ra-(T[0]+T[2])/2),va&&(T+=Ta.ay/2,T-=T%Ta.ay),T=Hf(T),af(aa,{angle:T}),yi(aa);else if(!Cg(aa)||2!==aa.points.length||"nw"!==T&&"ne"!==T&&"sw"!==T&&"se"!==T)if(!Xd(aa)||"nw"!==T&&"ne"!==T&&"sw"!==T&&"se"!==T){if(T){xa=u.originalElements.get(aa.id);var nb=Mg(xa,xa.width,
xa.height);va=[nb[0],nb[1]];u=[nb[2],nb[3]];nb=[(va[0]+u[0])/2,(va[1]+u[1])/2];hb=dj([Ra,Ja],nb,-xa.angle);Ra=Mg(aa,aa.width,aa.height);var ob=Ra[2]-Ra[0],cc=Ra[3]-Ra[1];Ra=(u[0]-va[0])/ob;Ja=(u[1]-va[1])/cc;T.includes("e")&&(Ra=(hb[0]-va[0])/ob);T.includes("s")&&(Ja=(hb[1]-va[1])/cc);T.includes("w")&&(Ra=(u[0]-hb[0])/ob);T.includes("n")&&(Ja=(u[1]-hb[1])/cc);hb=xa.width;ob=xa.height;Ra*=aa.width;Ja*=aa.height;if(Ca&&(Ra=2*Ra-hb,Ja=2*Ja-ob),w){cc=Math.abs(Ra)/hb;var Xb=Math.abs(Ja)/ob;if(1===T.length&&
(Ja*=cc,Ra*=Xb),2===T.length)cc=Math.max(cc,Xb),Ra=hb*cc*Math.sign(Ra),Ja=ob*cc*Math.sign(Ja)}Xb=Mg(xa,Ra,Ja);hb=Xb[0];ob=Xb[1];cc=Xb[2]-hb;Xb=Xb[3]-ob;var vc=nj([],va);if(["n","w","nw"].includes(T)&&(vc=[u[0]-Math.abs(cc),u[1]-Math.abs(Xb)]),"ne"===T)vc=[va[0],u[1]],vc=[vc[0],vc[1]-Math.abs(Xb)];"sw"===T&&(va=[u[0],va[1]],vc=[va[0]-Math.abs(cc),va[1]]);w&&(["s","n"].includes(T)&&(vc[0]=nb[0]-cc/2),["e","w"].includes(T)&&(vc[1]=nb[1]-Xb/2));0>Ra&&(T.includes("e")&&(vc[0]-=Math.abs(cc)),T.includes("w")&&
(vc[0]+=Math.abs(cc)));0>Ja&&(T.includes("s")&&(vc[1]-=Math.abs(Xb)),T.includes("n")&&(vc[1]+=Math.abs(Xb)));Ca&&(vc[0]=nb[0]-Math.abs(cc)/2,vc[1]=nb[1]-Math.abs(Xb)/2);T=xa.angle;Ca=dj(vc,nb,T);w=dj([vc[0]+Math.abs(cc)/2,vc[1]+Math.abs(Xb)/2],nb,T);vc=dj(Ca,w,-T);T=cf(xa,Ra,Ja);Ca=nj([],vc);Ca[0]+=xa.x-hb;Ca[1]+=xa.y-ob;T=nc({width:Math.abs(Ra),height:Math.abs(Ja),x:Ca[0],y:Ca[1]},T);0!==T.width&&0!==T.height&&Number.isFinite(T.x)&&Number.isFinite(T.y)&&(yi(aa,{newSize:{width:T.width,height:T.height}}),
af(aa,T))}}else{xa=bg(aa);u=xa[0];va=xa[1];w=xa[2];xa=xa[3];Ja=Bf(Ra,Ja,(u+w)/2,(va+xa)/2,-aa.angle);Ra=Ja[0];Ja=Ja[1];switch(T){case "se":nb=Math.max((Ra-u)/(w-u),(Ja-va)/(xa-va));break;case "nw":nb=Math.max((w-Ra)/(w-u),(xa-Ja)/(xa-va));break;case "ne":nb=Math.max((Ra-u)/(w-u),(xa-Ja)/(xa-va));break;case "sw":nb=Math.max((w-Ra)/(w-u),(Ja-va)/(xa-va))}0<nb&&(Ra=aa.width*nb,nb*=aa.height,Ja=Kg(aa,Ra,nb),null!==Ja&&(hb=Mg(aa,Ra,nb),u=(u-hb[0])/2,va=(va-hb[1])/2,w=(w-hb[2])/2,xa=(xa-hb[3])/2,T={n:/^(n|ne|nw)$/.test(T)||
Ca&&/^(s|se|sw)$/.test(T),s:/^(s|se|sw)$/.test(T)||Ca&&/^(n|ne|nw)$/.test(T),w:/^(w|nw|sw)$/.test(T)||Ca&&/^(e|ne|se)$/.test(T),e:/^(e|ne|se)$/.test(T)||Ca&&/^(w|nw|sw)$/.test(T)},T=ag(T,aa.x,aa.y,aa.angle,u,va,w,xa),af(aa,{fontSize:Ja.size,width:Ra,height:nb,baseline:Ja.baseline,x:T[0],y:T[1]})));yi(aa)}else T=bg(aa),Ca=Bf(Ra,Ja,(T[0]+T[2])/2,(T[1]+T[3])/2,-aa.angle),T=Ca[0],Ca=Ca[1],Ca="end"===xa?[T-aa.x,Ca-aa.y]:[aa.x+aa.points[1][0]-T,aa.y+aa.points[1][1]-Ca],T=Ca[0],Ca=Ca[1],va&&(w=aa.angle,
T=Je.apply(void 0,nj([aa.type],Bf(T,Ca,0,0,w))),Ca=Bf(T.width,T.height,0,0,-w),T=Ca[0],Ca=Ca[1]),w=ag("end"===xa?{s:!0,e:!0}:{n:!0,w:!0},aa.x,aa.y,aa.angle,0,0,(aa.points[1][0]-T)/2,(aa.points[1][1]-Ca)/2),af(aa,{x:w[0],y:w[1],points:[[0,0],[T,Ca]]});aa=!0}else{if(1<H.length){if("rotation"===T){aa=(kl(u,H,Ra,Ja,va,aa,hb),!0);break a}if("nw"===T||"ne"===T||"sw"===T||"se"===T){aa=(Cl(H,T,Ra,Ja),!0);break a}}aa=!1}}return!!aa&&(d.maybeSuggestBindingForAll(H),!0)};this.openContextMenu=function(u){var w,
H=u.clientX;u=u.clientY;var T=og({clientX:H,clientY:u},d.state),aa=T.x,xa=T.y,va=Wf.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState()),Ca=vi.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());T=sg().matches;var Ra=d.scene.getElements();aa=d.getElementAtPosition(aa,xa);xa=[];(Ak&&0<Ra.length&&xa.push(qp),Vj&&0<Ra.length&&xa.push(rp),aa)?(d.state.selectedElementIds[aa.id]||d.setState({selectedElementIds:(w=
{},w[aa.id]=!0,w)}),d.state.viewModeEnabled?Dn({options:Zg([navigator.clipboard&&hn],xa),top:u,left:H,actionManager:d.actionManager,appState:d.state}):Dn({options:Zg(Zg([T&&$p,T&&navigator.clipboard&&hn,T&&navigator.clipboard&&{name:"paste",perform:function(Ja,hb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},T&&"separator"],xa),["separator",jf,$e,"separator",va&&Wf,Ca&&vi,(va||Ca)&&"separator",Go,"separator",on,Rk,n,D,"separator",oa,bm]),top:u,left:H,actionManager:d.actionManager,
appState:d.state})):(w=Zg(Zg([],xa),[void 0===d.props.gridModeEnabled&&op,void 0===d.props.zenModeEnabled&&ee,void 0===d.props.viewModeEnabled&&Ts,Xn]),(Dn({options:w,top:u,left:H,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||Dn({options:[T&&navigator.clipboard&&{name:"paste",perform:function(Ja,hb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},T&&navigator.clipboard&&"separator",Ak&&0<Ra.length&&qp,Vj&&0<Ra.length&&rp,(Ak&&0<
Ra.length||Vj&&0<Ra.length)&&"separator",Y,"separator",void 0===d.props.gridModeEnabled&&op,void 0===d.props.zenModeEnabled&&ee,void 0===d.props.viewModeEnabled&&Ts,Xn],top:u,left:H,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=Vf(function(u){if(u.preventDefault(),!rq){var w=u.deltaX,H=u.deltaY,T=d.state,aa=T.selectedElementIds,xa=T.previousSelectedElementIds;if(u.metaKey||u.ctrlKey){u=Math.sign(H);T=Math.abs(H);10<T&&(T=10);T*=u;0!==Object.keys(xa).length&&setTimeout(function(){d.setState({selectedElementIds:xa,
previousSelectedElementIds:{}})},1E3);var va=d.state.zoom.value-T/100;return va+=Math.log10(Math.max(1,d.state.zoom.value))*-u,va=Math.round(va*Ta.V4*100)/(100*Ta.V4),d.setState(function(Ca){var Ra=Ca.zoom,Ja=Ca.offsetLeft;Ca=Ca.offsetTop;return{zoom:Xh(Oj(va),Ra,{left:Ja,top:Ca},{x:Dp,y:Ep}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(aa).length?aa:xa,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}u.shiftKey?d.setState(function(Ca){return{scrollX:Ca.scrollX-
(H||w)/Ca.zoom.value}}):d.setState(function(Ca){var Ra=Ca.zoom;return{scrollX:Ca.scrollX-w/Ra.value,scrollY:Ca.scrollY-H/Ra.value}})}});this.savePointer=function(u,w,H){var T,aa;u&&w&&(u=og({clientX:u,clientY:w},d.state),isNaN(u.x)||isNaN(u.y),null===(T=(aa=d.props).onPointerUpdate)||void 0===T||T.call(aa,{pointer:u,button:H,pointersMap:vl}))};this.resetShouldCacheIgnoreZoomDebounced=qi(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==Ta.Vi.TEST&&"production"!==
Ta.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return mk}},library:{configurable:!0,value:jh}}));h(8234);h(4651);var Ps=function(d){var u=d.width,w=d.height,H=d.offsetLeft,T=d.offsetTop,aa=d.onChange,xa=d.initialData,va=d.excalidrawRef,Ca=d.onCollabButtonClick,Ra=d.isCollaborating,
Ja=d.onPointerUpdate,hb=d.onExportToBackend,nb=d.renderFooter,ob=d.langCode;ob=void 0===ob?Nd.code:ob;var cc=d.viewModeEnabled,Xb=d.zenModeEnabled;d=d.gridModeEnabled;return(0,ha.useEffect)(function(){var vc=function(Zc){"number"==typeof Zc.scale&&1!==Zc.scale&&Zc.preventDefault()};return document.addEventListener("touchmove",vc,{passive:!1}),function(){document.removeEventListener("touchmove",vc)}},[]),V().createElement(Jh,{langCode:ob},V().createElement(fg,null,V().createElement(Wr,{width:u,height:w,
offsetLeft:H,offsetTop:T,onChange:aa,initialData:xa,excalidrawRef:va,onCollabButtonClick:Ca,isCollaborating:Ra,onPointerUpdate:Ja,onExportToBackend:hb,renderFooter:nb,langCode:ob,viewModeEnabled:cc,zenModeEnabled:Xb,gridModeEnabled:d})))};Ps.defaultProps={lanCode:Nd.code};var Wt=(0,ha.forwardRef)(function(d,u){return V().createElement(Ps,Aa()({},d,{excalidrawRef:u}))});const Xt=V().memo(Wt,function(d,u){d.initialData;var w=P()(d,["initialData"]),H=(u.initialData,P()(u,["initialData"]));d=Object.keys(d);
u=Object.keys(u);return d.length===u.length&&d.every(function(T){return w[T]===H[T]})});h(6009);const Yt=Xt},4698:x=>{x.exports=r},6207:x=>{x.exports=q}},a={};return m.m=p,m.n=x=>{var l=x&&x.__esModule?()=>x.default:()=>x;return m.d(l,{a:l}),l},e=Object.getPrototypeOf?x=>Object.getPrototypeOf(x):x=>x.__proto__,m.t=function(x,l){if((1&l&&(x=this(x)),8&l)||"object"==typeof x&&x&&(4&l&&x.__esModule||16&l&&"function"==typeof x.then))return x;var h=Object.create(null);m.r(h);var y={};f=f||[null,e({}),
e([]),e(e)];for(l=2&l&&x;"object"==typeof l&&!~f.indexOf(l);l=e(l))Object.getOwnPropertyNames(l).forEach(A=>y[A]=()=>x[A]);return y.default=()=>x,m.d(h,y),h},m.d=(x,l)=>{for(var h in l)m.o(l,h)&&!m.o(x,h)&&Object.defineProperty(x,h,{enumerable:!0,get:l[h]})},m.f={},m.e=x=>Promise.all(Object.keys(m.f).reduce((l,h)=>(m.f[h](x,l),l),[])),m.u=x=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",
196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",
736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[x]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",
317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",
869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[x]+".js",m.o=(x,l)=>Object.prototype.hasOwnProperty.call(x,l),k={},m.l=(x,l,h,y)=>{if(k[x])k[x].push(l);else{var A;if(void 0!==h){y=document.getElementsByTagName("script");for(var F=0;F<y.length;F++){var L=y[F];if(L.getAttribute("src")==x||L.getAttribute("data-webpack")=="Excalidraw:"+h){var N=L;break}}}N||(A=!0,(N=document.createElement("script")).charset="utf-8",N.timeout=120,m.nc&&N.setAttribute("nonce",m.nc),N.setAttribute("data-webpack",
"Excalidraw:"+h),N.src=x);k[x]=[l];l=(E,B)=>{N.onerror=N.onload=null;clearTimeout(I);var G=k[x];if(delete k[x],N.parentNode&&N.parentNode.removeChild(N),G&&G.forEach(Z=>Z(B)),E)return E(B)};var I=setTimeout(l.bind(null,void 0,{type:"timeout",target:N}),12E4);N.onerror=l.bind(null,N.onerror);N.onload=l.bind(null,N.onload);A&&document.head.appendChild(N)}},m.r=x=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"});Object.defineProperty(x,"__esModule",
{value:!0})},m.p="",(()=>{var x={163:0};m.f.j=(y,A)=>{var F=m.o(x,y)?x[y]:void 0;if(0!==F)if(F)A.push(F[2]);else{var L=new Promise((I,E)=>{F=x[y]=[I,E]});A.push(F[2]=L);A=m.p+m.u(y);var N=Error();m.l(A,I=>{if(m.o(x,y)&&(0!==(F=x[y])&&(x[y]=void 0),F)){var E=I&&("load"===I.type?"missing":I.type);I=I&&I.target&&I.target.src;N.message="Loading chunk "+y+" failed.\n("+E+": "+I+")";N.name="ChunkLoadError";N.type=E;N.request=I;F[1](N)}},"chunk-"+y,y)}};var l=(y,A)=>{for(var F,L,[N,I,E]=A,B=0,G=[];B<N.length;B++)L=
N[B],m.o(x,L)&&x[L]&&G.push(x[L][0]),x[L]=0;for(F in I)m.o(I,F)&&(m.m[F]=I[F]);E&&E(m);for(y&&y(A);G.length;)G.shift()()},h=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];h.forEach(l.bind(null,0));h.push=l.bind(null,h.push.bind(h))})(),m(3956)})()})};
'use strict';var K9b=function(a,b){var c=$APP.bA();$APP.l(c)&&$APP.Ey($APP.FZa(c,a),function(d){return b.F?b.F(d):b.call(null,d)},function(d){return $APP.ck($APP.E(["Error loading ",a,": ",d]))})},M9b=function(a){var b=$APP.qv(a);b=$APP.l(b)?b.querySelector(".draw-wrap"):b;b=$APP.l(b)?b.clientWidth:b;$APP.Uh(L9b.F(a),b);return a},N9b=new $APP.J(null,"view-mode-enabled","view-mode-enabled",-588220561),O9b=new $APP.J("frontend.extensions.excalidraw","view-mode?","frontend.extensions.excalidraw/view-mode?",
525380621),P9b=new $APP.J(null,"viewBackgroundColor","viewBackgroundColor",1889137994),Q9b=new $APP.J(null,"grid-mode-enabled","grid-mode-enabled",584978327),R9b=new $APP.J(null,"gridSize","gridSize",843108791),S9b=new $APP.J("frontend.extensions.excalidraw","elements","frontend.extensions.excalidraw/elements",1745667967),T9b=new $APP.J("frontend.extensions.excalidraw","loading?","frontend.extensions.excalidraw/loading?",-1335058663),U9b=new $APP.J("frontend.extensions.excalidraw","data","frontend.extensions.excalidraw/data",
-1371036113),V9b=new $APP.J(null,"zen-mode-enabled","zen-mode-enabled",-955634269),W9b=new $APP.J("frontend.extensions.excalidraw","zen-mode?","frontend.extensions.excalidraw/zen-mode?",1559773511),X9b=new $APP.J(null,"appState","appState",-1920687968),Y9b=new $APP.J(null,"initial-data","initial-data",-1315709804),L9b=new $APP.J("frontend.extensions.excalidraw","draw-width","frontend.extensions.excalidraw/draw-width",-681100043);$APP.Oca("excalidraw");var Z9b=$APP.Ru(555);var $9b,a$b,b$b,c$b;$APP.G1b={};$9b=$APP.cK($APP.Ka(Z9b,"default"));a$b=$APP.qk.F(null);
b$b=$APP.kv($APP.ov,function(a,b,c){$APP.Oz($APP.aA);$APP.tv(a$b);var d=$APP.G.B(a,L9b),e=$APP.G.B(a,W9b),f=$APP.G.B(a,O9b),h=$APP.Oz($APP.aQa),m=$APP.G.B(a,S9b),n=$APP.am.F(c);return $APP.l(b)?$APP.W("div",{onMouseDown:function(q){return $APP.Ry(q)},className:"overflow-hidden"},[$APP.W("div",{style:{fontSize:10},className:"my-1"},[$APP.W("a",{onClick:$APP.bQa,className:"mr-2"},[$APP.Xu($APP.Cy("Wide Mode (%s)",$APP.E([$APP.l(h)?"ON":"OFF"])))]),$APP.W("a",{onClick:function(){return $APP.rk.B(e,$APP.gd)},
className:"mr-2"},[$APP.Xu($APP.Cy("Zen Mode (%s)",$APP.E([$APP.l($APP.r(e))?"ON":"OFF"])))]),$APP.W("a",{onClick:function(){return $APP.rk.B(f,$APP.gd)},className:"mr-2"},[$APP.Xu($APP.Cy("View Mode (%s)",$APP.E([$APP.l($APP.r(f))?"ON":"OFF"])))])]),$APP.W("div",{onMouseDown:function(q){$APP.Ry(q);return $APP.Zz($APP.CY,!0)},onBlur:function(){return $APP.Zz($APP.CY,!1)},className:"draw-wrap"},[$APP.Xu(function(){var q=$APP.ym.K($APP.E([new $APP.k(null,6,[$APP.VS,function(t,v){var y=$APP.et(t);return $APP.w(y)&&
$APP.sj.B(t,$APP.r(m))?(v=$APP.et(v),$APP.q1a(n,JSON.stringify($APP.ft(new $APP.k(null,5,[$APP.Xl,"excalidraw",$APP.UQ,2,$APP.$p,$APP.e1a,$APP.J2,t,X9b,$APP.tj(v,new $APP.M(null,2,5,$APP.O,[R9b,P9b],null))],null)))),$APP.Uh(m,t)):null},V9b,$APP.r(e),N9b,$APP.r(f),Q9b,!1,Y9b,b,$APP.sz,$APP.r(d)],null),$APP.l(h)?new $APP.k(null,1,[$APP.tz,650],null):new $APP.k(null,1,[$APP.tz,500],null)]));return $9b.F?$9b.F(q):$9b.call(null,q)}())])]):null},new $APP.M(null,7,5,$APP.O,[$APP.m6,$APP.rv(800,L9b),$APP.rv(!0,
W9b),$APP.rv(!1,O9b),$APP.rv(null,S9b),new $APP.k(null,1,[$APP.gv,M9b],null),new $APP.k(null,1,[$APP.iv,M9b],null)],null),"frontend.extensions.excalidraw/draw-inner");
c$b=$APP.kv($APP.ov,function(a,b){var c=$APP.G.B(a,U9b);a=$APP.G.B(a,T9b);a=$APP.tv(a);c=$APP.tv(c);var d=$APP.Oz($APP.GRb);return $APP.l($APP.am.F(b))?$APP.l(d)?(b=$APP.ZS("Loading"),$APP.W("div",$APP.Gf(b)?$APP.Wu($APP.Uu($APP.E([new $APP.k(null,1,[$APP.Tu,new $APP.M(null,1,5,$APP.O,["ls-center"],null)],null),b]))):{className:"ls-center"},$APP.Gf(b)?null:[$APP.Xu(b)])):!1===a?b$b(c,b):null:null},new $APP.M(null,2,5,$APP.O,[$APP.m6,new $APP.k(null,1,[$APP.ev,function(a){var b=$APP.lv.F(a);b=$APP.D.G(b,
0,null);b=$APP.am.F(b);var c=$APP.qk.F(null),d=$APP.qk.F(!0);$APP.l(b)&&K9b(b,function(e){if($APP.xl(e))var f=null;else try{f=JSON.parse(e)}catch(h){if(h instanceof Error)e=h,$APP.ck($APP.E(["from json error:"])),console.dir(e),f=$APP.AJ($APP.dxa("Could not load this invalid excalidraw file"),$APP.go);else throw h;}$APP.Uh(c,f);return $APP.Uh(d,!1)});return $APP.P.K(a,U9b,c,$APP.E([T9b,d]))}],null)],null),"frontend.extensions.excalidraw/draw-container");
$APP.H1b=$APP.kv($APP.nv,function(a){var b=$APP.bA(),c=$APP.Oz(new $APP.M(null,2,5,$APP.O,[$APP.EJ,b],null));return $APP.wB(b)&&$APP.gd(c)&&$APP.gd($APP.By())?null:c$b(a)},new $APP.M(null,1,5,$APP.O,[$APP.m6],null),"frontend.extensions.excalidraw/draw");$APP.Sb.Li();
}).call(this);